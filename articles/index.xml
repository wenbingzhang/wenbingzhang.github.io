<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>ğŸ“š æˆ‘çš„æ–‡ç«  on å¼ æ–‡å…µçš„ç¬”è®°</title><link>https://notes.zhangwenbing.com/articles/</link><description>Recent content in ğŸ“š æˆ‘çš„æ–‡ç«  on å¼ æ–‡å…µçš„ç¬”è®°</description><generator>Hugo</generator><language>zh</language><lastBuildDate>Mon, 23 Dec 2024 18:17:28 +0800</lastBuildDate><atom:link href="https://notes.zhangwenbing.com/articles/index.xml" rel="self" type="application/rss+xml"/><item><title>Linuxç¡¬ç›˜æ•…éšœç›¸å…³çš„æŸ¥è¯¢å‘½ä»¤</title><link>https://notes.zhangwenbing.com/articles/2024/12/23/wvkjyjt7qhumo4jpucheca/</link><pubDate>Mon, 23 Dec 2024 18:17:28 +0800</pubDate><guid>https://notes.zhangwenbing.com/articles/2024/12/23/wvkjyjt7qhumo4jpucheca/</guid><description>&lt;h2 id="æŸ¥çœ‹ç¡¬ç›˜åŠå¯¹åº”çš„uuidä¿¡æ¯">
 æŸ¥çœ‹ç¡¬ç›˜åŠå¯¹åº”çš„UUIDä¿¡æ¯
 &lt;a class="anchor" href="#%e6%9f%a5%e7%9c%8b%e7%a1%ac%e7%9b%98%e5%8f%8a%e5%af%b9%e5%ba%94%e7%9a%84uuid%e4%bf%a1%e6%81%af">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># æŸ¥çœ‹ç¡¬ç›˜åŠå¯¹åº”çš„UUIDä¿¡æ¯ æˆ–è€…æ˜¯æ‰€æœ‰ç¡¬ç›˜çš„UUIDä¿¡æ¯&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>blkid &lt;span style="color:#f92672">[&lt;/span>/dev/sda1&lt;span style="color:#f92672">]&lt;/span> &lt;span style="color:#75715e"># lsblk -o NAME,UUID -p&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="æŸ¥çœ‹uuidå¯¹åº”çš„ç¡¬ç›˜è·¯å¾„">
 æŸ¥çœ‹UUIDå¯¹åº”çš„ç¡¬ç›˜è·¯å¾„
 &lt;a class="anchor" href="#%e6%9f%a5%e7%9c%8buuid%e5%af%b9%e5%ba%94%e7%9a%84%e7%a1%ac%e7%9b%98%e8%b7%af%e5%be%84">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>blkid -U 383bc776-fc1a-4040-ad8f-45f4f5d96fcf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="æŸ¥çœ‹ç¡¬ç›˜ä¿¡æ¯">
 æŸ¥çœ‹ç¡¬ç›˜ä¿¡æ¯
 &lt;a class="anchor" href="#%e6%9f%a5%e7%9c%8b%e7%a1%ac%e7%9b%98%e4%bf%a1%e6%81%af">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>lshw -class disk
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="æ£€æµ‹ç£ç›˜æ˜¯å¦æŸå">
 æ£€æµ‹ç£ç›˜æ˜¯å¦æŸå
 &lt;a class="anchor" href="#%e6%a3%80%e6%b5%8b%e7%a3%81%e7%9b%98%e6%98%af%e5%90%a6%e6%8d%9f%e5%9d%8f">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>badblocks -b &lt;span style="color:#ae81ff">4096&lt;/span> -v /dev/sda &lt;span style="color:#75715e"># ä¹Ÿæœ‰åå¿«çš„å±è”½æ–¹å¼è¿™ä¸ªé‡Œå°±ä¸åˆ—ä¸¾äº†&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ç‚¹äº®ç¡¬ç›˜led">
 ç‚¹äº®ç¡¬ç›˜LED
 &lt;a class="anchor" href="#%e7%82%b9%e4%ba%ae%e7%a1%ac%e7%9b%98led">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>dd &lt;span style="color:#66d9ef">if&lt;/span>&lt;span style="color:#f92672">=&lt;/span>/dev/sda of&lt;span style="color:#f92672">=&lt;/span>/dev/null bs&lt;span style="color:#f92672">=&lt;/span>1M count&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">100&lt;/span> &lt;span style="color:#75715e"># ç‚¹äº®ç¡¬ç›˜LED&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="æŸ¥çœ‹æœåŠ¡å™¨åºåˆ—å·">
 æŸ¥çœ‹æœåŠ¡å™¨åºåˆ—å·
 &lt;a class="anchor" href="#%e6%9f%a5%e7%9c%8b%e6%9c%8d%e5%8a%a1%e5%99%a8%e5%ba%8f%e5%88%97%e5%8f%b7">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>dmidecode -t &lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#75715e"># æŸ¥çœ‹å¯¹åº”çš„&amp;#39;Serial Number&amp;#39;å­—æ®µ&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>ä½¿ç”¨FFmpegç”Ÿæˆæµ‹è¯•è§†é¢‘</title><link>https://notes.zhangwenbing.com/articles/2024/11/15/mcagbs9lfdrnxxu9k29t9j/</link><pubDate>Fri, 15 Nov 2024 14:45:26 +0800</pubDate><guid>https://notes.zhangwenbing.com/articles/2024/11/15/mcagbs9lfdrnxxu9k29t9j/</guid><description>&lt;h2 id="ç”Ÿæˆ23976fpsçš„æµ‹è¯•è§†é¢‘">
 ç”Ÿæˆ23.976fpsçš„æµ‹è¯•è§†é¢‘
 &lt;a class="anchor" href="#%e7%94%9f%e6%88%9023976fps%e7%9a%84%e6%b5%8b%e8%af%95%e8%a7%86%e9%a2%91">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>ffmpeg -f lavfi -i testsrc&lt;span style="color:#f92672">=&lt;/span>size&lt;span style="color:#f92672">=&lt;/span>1280x720:rate&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">30&lt;/span> -vf &lt;span style="color:#e6db74">&amp;#34;drawtext=text=&amp;#39;%{pts\:hms} %{n}&amp;#39;:x=(w-text_w)/2:y=100:fontsize=48:fontcolor=white:boxcolor=black@0.5:borderw=2&amp;#34;&lt;/span> -r 23.976 -t &lt;span style="color:#ae81ff">10&lt;/span> -y output.mp4
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Mambaæ›¿ä»£Conda</title><link>https://notes.zhangwenbing.com/articles/2024/03/27/e4c2nybngzu5eddbnmdjgq/</link><pubDate>Wed, 27 Mar 2024 13:07:03 +0800</pubDate><guid>https://notes.zhangwenbing.com/articles/2024/03/27/e4c2nybngzu5eddbnmdjgq/</guid><description>&lt;p>mambaæ˜¯ä¸€ä¸ªcondaçš„æ›¿ä»£å“ï¼Œå¯ä»¥åŠ é€Ÿcondaçš„åŒ…ç®¡ç†ï¼Œæå‡åŒ…ç®¡ç†çš„æ•ˆç‡ã€‚&lt;/p>
&lt;h2 id="å®‰è£…">
 å®‰è£…
 &lt;a class="anchor" href="#%e5%ae%89%e8%a3%85">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>brew install micromamba
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="é…ç½®">
 é…ç½®
 &lt;a class="anchor" href="#%e9%85%8d%e7%bd%ae">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># æ ¹æ®å‘½ä»¤æç¤ºï¼Œä¿®æ”¹~/.zshrcæ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>micromamba shell init -s zsh -p ~/.micromamba
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># æ·»åŠ é…ç½®æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>$ cat ~/.mambarc
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>channels:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - conda-forge
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>always_yes: false
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ä½¿ç”¨">
 ä½¿ç”¨
 &lt;a class="anchor" href="#%e4%bd%bf%e7%94%a8">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>micromamba create -n python310 python&lt;span style="color:#f92672">=&lt;/span>3.10
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># æ¿€æ´»ç¯å¢ƒ&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>micromamba activate python310
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># ç„¶åå¯ä»¥ç”¨ micromamba æˆ–è€… pip è£…ä¸œè¥¿&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>micromamba install package_1 package_2&lt;span style="color:#f92672">=&lt;/span>version
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">## å…·ä½“è¯·å‚è€ƒ https://mamba.readthedocs.io/en/latest/&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>micromamba --help
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Hugoç½‘ç«™å»ºè®¾</title><link>https://notes.zhangwenbing.com/articles/2024/03/06/9mzhfnl58azjmeibfblvjy/</link><pubDate>Wed, 06 Mar 2024 16:31:04 +0800</pubDate><guid>https://notes.zhangwenbing.com/articles/2024/03/06/9mzhfnl58azjmeibfblvjy/</guid><description>&lt;h2 id="å®‰è£…-hugo">
 å®‰è£… Hugo
 &lt;a class="anchor" href="#%e5%ae%89%e8%a3%85-hugo">#&lt;/a>
&lt;/h2>
&lt;p>ä¸‹è½½åœ°å€ï¼š&lt;a href="https://github.com/gohugoio/hugo/releases" target="_blank" >https://github.com/gohugoio/hugo/releases&lt;/a>&lt;/p>
&lt;h2 id="åˆ›å»ºç½‘ç«™">
 åˆ›å»ºç½‘ç«™
 &lt;a class="anchor" href="#%e5%88%9b%e5%bb%ba%e7%bd%91%e7%ab%99">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>hugo new site book
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cd book
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git init
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git submodule add https://github.com/alex-shpak/hugo-book themes/hugo-book
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="æœ¬åœ°è°ƒè¯•">
 æœ¬åœ°è°ƒè¯•
 &lt;a class="anchor" href="#%e6%9c%ac%e5%9c%b0%e8%b0%83%e8%af%95">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>hugo server --disableFastRender --minify --ignoreCache
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="github-actions">
 github actions
 &lt;a class="anchor" href="#github-actions">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>mkdir -p .github/workflows
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>touch .github/workflows/build.yml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">Build&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">on&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">push&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">branches&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">main&lt;/span> &lt;span style="color:#75715e"># Set a branch to deploy&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">pull_request&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">jobs&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">deploy&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">runs-on&lt;/span>: &lt;span style="color:#ae81ff">ubuntu-20.04&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">concurrency&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">group&lt;/span>: &lt;span style="color:#ae81ff">${{ github.workflow }}-${{ github.ref }}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">steps&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">uses&lt;/span>: &lt;span style="color:#ae81ff">actions/checkout@v3&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">with&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">submodules&lt;/span>: &lt;span style="color:#66d9ef">true&lt;/span> &lt;span style="color:#75715e"># Fetch Hugo themes (true OR recursive)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">fetch-depth&lt;/span>: &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#75715e"># Fetch all history for .GitInfo and .Lastmod&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">Setup Hugo&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">uses&lt;/span>: &lt;span style="color:#ae81ff">peaceiris/actions-hugo@v2&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">with&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">hugo-version&lt;/span>: &lt;span style="color:#e6db74">&amp;#39;0.123.7&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e"># æ˜¯å¦å¯ç”¨ hugo extend&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">extended&lt;/span>: &lt;span style="color:#66d9ef">true&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">Build&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">run&lt;/span>: &lt;span style="color:#ae81ff">hugo --minify&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">Deploy&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">uses&lt;/span>: &lt;span style="color:#ae81ff">peaceiris/actions-gh-pages@v3&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">if&lt;/span>: &lt;span style="color:#ae81ff">${{ github.ref == &amp;#39;refs/heads/main&amp;#39; }}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">with&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">github_token&lt;/span>: &lt;span style="color:#ae81ff">${{ secrets.GH_PAGE_ACTION_TOKEN }}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">publish_dir&lt;/span>: &lt;span style="color:#ae81ff">./public&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="github-pages">
 github pages
 &lt;a class="anchor" href="#github-pages">#&lt;/a>
&lt;/h2>
&lt;p>å¯ä»¥åœ¨é¡¹ç›®çš„ Settings ä¸­å¼€å¯ Pages æœåŠ¡ï¼Œç„¶åé€‰æ‹© Branch ä¸º&lt;code>gh-pages&lt;/code>å³å¯ã€‚&lt;br>
å¦‚æœæƒ³è¦å®šåˆ¶åŸŸåï¼Œå¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ &lt;a href="https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/about-custom-domains-and-github-pages" target="_blank" >About custom domains and GitHub Pages&lt;/a>&lt;/p></description></item><item><title>FFmpegæ£€æµ‹é€æ˜é€šé“</title><link>https://notes.zhangwenbing.com/articles/2024/02/06/kkcc5t2y88hybafpourudv/</link><pubDate>Tue, 06 Feb 2024 16:31:04 +0800</pubDate><guid>https://notes.zhangwenbing.com/articles/2024/02/06/kkcc5t2y88hybafpourudv/</guid><description>&lt;h1 id="æ£€æµ‹é€æ˜é€šé“">
 æ£€æµ‹é€æ˜é€šé“
 &lt;a class="anchor" href="#%e6%a3%80%e6%b5%8b%e9%80%8f%e6%98%8e%e9%80%9a%e9%81%93">#&lt;/a>
&lt;/h1>
&lt;h2 id="ffmpegå‘½ä»¤">
 FFmpegå‘½ä»¤
 &lt;a class="anchor" href="#ffmpeg%e5%91%bd%e4%bb%a4">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>$ ffmpeg -v error -i 123.mp4 -vf &lt;span style="color:#e6db74">&amp;#34;select=&amp;#39;eq(n,0)&amp;#39;, alphaextract&amp;#34;&lt;/span> -f null /dev/null
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span>Parsed_alphaextract_1 @ 0x7fe8f5208100&lt;span style="color:#f92672">]&lt;/span> Requested planes not available.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span>Parsed_alphaextract_1 @ 0x7fe8f5208100&lt;span style="color:#f92672">]&lt;/span> Failed to configure input pad on Parsed_alphaextract_1
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span>vf#0:0 @ 0x7fe8f5005f40&lt;span style="color:#f92672">]&lt;/span> Error reinitializing filters!
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Failed to inject frame into filter network: Invalid argument
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Error &lt;span style="color:#66d9ef">while&lt;/span> filtering: Invalid argument
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span>out#0/null @ 0x7fe8f5004900&lt;span style="color:#f92672">]&lt;/span> Nothing was written into output file, because at least one of its streams received no packets.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="åˆ¤æ–­æ¡ä»¶">
 åˆ¤æ–­æ¡ä»¶
 &lt;a class="anchor" href="#%e5%88%a4%e6%96%ad%e6%9d%a1%e4%bb%b6">#&lt;/a>
&lt;/h2>
&lt;p>å¦‚æœå‡ºç°ä»¥ä¸ŠæŠ¥é”™ä¿¡æ¯ï¼Œåˆ™è¯´æ˜è§†é¢‘ä¸­æ²¡æœ‰é€æ˜é€šé“ã€‚&lt;/p></description></item><item><title>sshå®¢æˆ·ç«¯äºæœåŠ¡ç«¯ä¿æŒè¿æ¥</title><link>https://notes.zhangwenbing.com/blog/linux/fSHb366Mg/</link><pubDate>Fri, 11 Jun 2021 17:26:32 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/fSHb366Mg/</guid><description>&lt;blockquote>
&lt;p>linux ssh é»˜è®¤æ²¡æœ‰å¼€å¯å¿ƒè·³ï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“å¯¼è‡´è¿æ¥æ–­å¼€ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="æœåŠ¡ç«¯è®¾ç½®">
 æœåŠ¡ç«¯è®¾ç½®
 &lt;a class="anchor" href="#%e6%9c%8d%e5%8a%a1%e7%ab%af%e8%ae%be%e7%bd%ae">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo vim /etc/ssh/sshd_config
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>TCPKeepAlive yes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ClientAliveInterval &lt;span style="color:#ae81ff">60&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ClientAliveCountMax &lt;span style="color:#ae81ff">3&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å®¢æˆ·ç«¯è®¾ç½®">
 å®¢æˆ·ç«¯è®¾ç½®
 &lt;a class="anchor" href="#%e5%ae%a2%e6%88%b7%e7%ab%af%e8%ae%be%e7%bd%ae">#&lt;/a>
&lt;/h2>
&lt;p>ä¸€èˆ¬è¿˜æ˜¯å»ºè®®åœ¨å®¢æˆ·ç«¯è®¾ç½®ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo vim /etc/ssh/ssh_config
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>TCPKeepAlive yes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ServerAliveInterval &lt;span style="color:#ae81ff">60&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ServerAliveCountMax &lt;span style="color:#ae81ff">3&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Centos7ç³»ç»Ÿå‡çº§å†…æ ¸ç‰ˆæœ¬</title><link>https://notes.zhangwenbing.com/blog/linux/G0DCCusMR/</link><pubDate>Tue, 02 Mar 2021 17:52:33 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/G0DCCusMR/</guid><description>&lt;blockquote>
&lt;p>ä½¿ç”¨ELRepoä»“åº“å‡çº§ç³»ç»Ÿå†…æ ¸&lt;/p>
&lt;/blockquote>
&lt;h2 id="æŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬">
 æŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬
 &lt;a class="anchor" href="#%e6%9f%a5%e7%9c%8b%e5%86%85%e6%a0%b8%e7%89%88%e6%9c%ac">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>uname -r
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>uname -a
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cat /etc/redhat-release
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å®‰è£…elrepo-yumæº">
 å®‰è£…ELRepo yumæº
 &lt;a class="anchor" href="#%e5%ae%89%e8%a3%85elrepo-yum%e6%ba%90">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>rpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rpm -Uvh http://www.elrepo.org/elrepo-release-7.0-3.el7.elrepo.noarch.rpm
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="æŸ¥çœ‹å¯ç”¨çš„å†…æ ¸ç‰ˆæœ¬">
 æŸ¥çœ‹å¯ç”¨çš„å†…æ ¸ç‰ˆæœ¬
 &lt;a class="anchor" href="#%e6%9f%a5%e7%9c%8b%e5%8f%af%e7%94%a8%e7%9a%84%e5%86%85%e6%a0%b8%e7%89%88%e6%9c%ac">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>yum --disablerepo&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;*&amp;#34;&lt;/span> --enablerepo&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;elrepo-kernel&amp;#34;&lt;/span> list available
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kernel-lt.x86_64 4.4.155-1.el7.elrepo
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kernel-lt-devel.x86_64 4.4.155-1.el7.elrepo
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>...
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å®‰è£…ç¨³å®šç‰ˆæœ¬å†…æ ¸">
 å®‰è£…ç¨³å®šç‰ˆæœ¬å†…æ ¸
 &lt;a class="anchor" href="#%e5%ae%89%e8%a3%85%e7%a8%b3%e5%ae%9a%e7%89%88%e6%9c%ac%e5%86%85%e6%a0%b8">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>yum --enablerepo&lt;span style="color:#f92672">=&lt;/span>elrepo-kernel install kernel-lt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="è®¾ç½®å¼•å¯¼grub2">
 è®¾ç½®å¼•å¯¼ï¼ˆgrub2ï¼‰
 &lt;a class="anchor" href="#%e8%ae%be%e7%bd%ae%e5%bc%95%e5%af%bcgrub2">#&lt;/a>
&lt;/h2>
&lt;h3 id="æŸ¥çœ‹æ‰€æœ‰å†…æ ¸ç‰ˆæœ¬">
 æŸ¥çœ‹æ‰€æœ‰å†…æ ¸ç‰ˆæœ¬
 &lt;a class="anchor" href="#%e6%9f%a5%e7%9c%8b%e6%89%80%e6%9c%89%e5%86%85%e6%a0%b8%e7%89%88%e6%9c%ac">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo awk -F&lt;span style="color:#ae81ff">\&amp;#39;&lt;/span> &lt;span style="color:#e6db74">&amp;#39;$1==&amp;#34;menuentry &amp;#34; {print i++ &amp;#34; : &amp;#34; $2}&amp;#39;&lt;/span> /etc/grub2.cfg
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">0&lt;/span> : CentOS Linux &lt;span style="color:#f92672">(&lt;/span>4.4.241-1.el7.elrepo.x86_64&lt;span style="color:#f92672">)&lt;/span> &lt;span style="color:#ae81ff">7&lt;/span> &lt;span style="color:#f92672">(&lt;/span>Core&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">1&lt;/span> : CentOS Linux &lt;span style="color:#f92672">(&lt;/span>3.10.0-957.el7.x86_64&lt;span style="color:#f92672">)&lt;/span> &lt;span style="color:#ae81ff">7&lt;/span> &lt;span style="color:#f92672">(&lt;/span>Core&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">2&lt;/span> : CentOS Linux &lt;span style="color:#f92672">(&lt;/span>0-rescue-651e1b90bb3149809cdeb8cc80e72c43&lt;span style="color:#f92672">)&lt;/span> &lt;span style="color:#ae81ff">7&lt;/span> &lt;span style="color:#f92672">(&lt;/span>Core&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="è®¾ç½®æ–°çš„é»˜è®¤å¼•å¯¼çš„å†…æ ¸ç‰ˆæœ¬">
 è®¾ç½®æ–°çš„é»˜è®¤å¼•å¯¼çš„å†…æ ¸ç‰ˆæœ¬
 &lt;a class="anchor" href="#%e8%ae%be%e7%bd%ae%e6%96%b0%e7%9a%84%e9%bb%98%e8%ae%a4%e5%bc%95%e5%af%bc%e7%9a%84%e5%86%85%e6%a0%b8%e7%89%88%e6%9c%ac">#&lt;/a>
&lt;/h3>
&lt;p>æ–¹æ³•1&lt;/p></description></item><item><title>dnsmasqå®‰è£…ä¸é…ç½®</title><link>https://notes.zhangwenbing.com/blog/linux/xd2UELYGR/</link><pubDate>Wed, 03 Feb 2021 11:20:44 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/xd2UELYGR/</guid><description>&lt;blockquote>
&lt;p>dnsmasqæ˜¯ä¸€ä¸ªå°å·§ä¸”æ–¹ä¾¿åœ°ç”¨äºé…ç½®DNSå’ŒDHCPçš„å·¥å…·ï¼Œé€‚ç”¨äºå°å‹ç½‘ç»œï¼Œå®ƒæä¾›äº†DNSåŠŸèƒ½å’Œå¯é€‰æ‹©çš„DHCPåŠŸèƒ½ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="å®‰è£…æœåŠ¡">
 å®‰è£…æœåŠ¡
 &lt;a class="anchor" href="#%e5%ae%89%e8%a3%85%e6%9c%8d%e5%8a%a1">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo yum install dnsmasq
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å¸¸ç”¨é…ç½®">
 å¸¸ç”¨é…ç½®
 &lt;a class="anchor" href="#%e5%b8%b8%e7%94%a8%e9%85%8d%e7%bd%ae">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>cat /etc/dnsmasq.conf
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#######è¿™é‡Œè¡¨ç¤º ä¸¥æ ¼æŒ‰ç…§ resolv-file æ–‡ä»¶ä¸­çš„é¡ºåºä»ä¸Šåˆ°ä¸‹è¿›è¡Œ DNS è§£æ, ç›´åˆ°ç¬¬ä¸€ä¸ªæˆåŠŸè§£ææˆåŠŸä¸ºæ­¢&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#strict-order&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">###åŒæ—¶å‘é€æ‰€æœ‰çš„æŸ¥è¯¢åˆ°æ‰€æœ‰çš„dnsæœåŠ¡å™¨ï¼Œè°å¿«å°±ç”¨è°&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>all-servers
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>listen-address&lt;span style="color:#f92672">=&lt;/span>127.0.0.1
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">###ä¸è®©dnsmasqå»è¯»/etc/hostsæ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>no-hosts
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">## è®¾ç½®ç¼“å­˜æ¡ç›®&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cache-size&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">10240&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#å…è®¸å®¢æˆ·ç«¯ç¼“å­˜çš„æ—¶é—´å•ä½ä¸ºç§’&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>local-ttl&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">10&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>max-cache-ttl&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">15&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">###å¼€å¯æ—¥å¿—&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#log-queries&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">##é…ç½®æ—¥å¿—æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#log-facility=/data/logs/dnsmasq.log&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>cat /etc/resolv.dnsmasq.conf
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>nameserver 223.5.5.5
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>nameserver 114.114.114.114
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>nameserver 222.246.129.80
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å¯åŠ¨æœåŠ¡">
 å¯åŠ¨æœåŠ¡
 &lt;a class="anchor" href="#%e5%90%af%e5%8a%a8%e6%9c%8d%e5%8a%a1">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>systemctl start dnsmasq
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="éªŒè¯æ–¹æ³•">
 éªŒè¯æ–¹æ³•
 &lt;a class="anchor" href="#%e9%aa%8c%e8%af%81%e6%96%b9%e6%b3%95">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>dig www.zhangwenbing.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å…¶ä»–é…ç½®">
 å…¶ä»–é…ç½®
 &lt;a class="anchor" href="#%e5%85%b6%e4%bb%96%e9%85%8d%e7%bd%ae">#&lt;/a>
&lt;/h2>
&lt;h3 id="å›½å†…æŒ‡å®šdns">
 &lt;strong>å›½å†…æŒ‡å®šDNS&lt;/strong>
 &lt;a class="anchor" href="#%e5%9b%bd%e5%86%85%e6%8c%87%e5%ae%9adns">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-ini" data-lang="ini">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">server&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">/cn/114.114.114.114&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">server&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">/taobao.com/114.114.114.114&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">server&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">/taobaocdn.com/114.114.114.114&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="å›½å¤–æŒ‡å®šdns">
 &lt;strong>å›½å¤–æŒ‡å®šDNS&lt;/strong>
 &lt;a class="anchor" href="#%e5%9b%bd%e5%a4%96%e6%8c%87%e5%ae%9adns">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-ini" data-lang="ini">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">server&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">/google.com/8.8.8.8&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="å±è”½ç½‘é¡µå¹¿å‘Š">
 å±è”½ç½‘é¡µå¹¿å‘Š
 &lt;a class="anchor" href="#%e5%b1%8f%e8%94%bd%e7%bd%91%e9%a1%b5%e5%b9%bf%e5%91%8a">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-ini" data-lang="ini">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">address&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">/ad.youku.com/127.0.0.1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">address&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">/ad.iqiyi.com/127.0.0.1&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å…¶ä»–åŠŸèƒ½">
 å…¶ä»–åŠŸèƒ½
 &lt;a class="anchor" href="#%e5%85%b6%e4%bb%96%e5%8a%9f%e8%83%bd">#&lt;/a>
&lt;/h2>
&lt;p>é™¤äº†DNSï¼Œè¿˜æ”¯æŒDHCPå’ŒTFTPï¼Œç”±äºæš‚æ—¶ç”¨ä¸åˆ°ï¼Œè¿™é‡Œå°±ä¸ä¸€ä¸€ä¾‹ä¸¾äº†ã€‚&lt;/p></description></item><item><title>ä½¿ç”¨sshé…ç½®è·³æ¿æœº</title><link>https://notes.zhangwenbing.com/blog/linux/SNyWJwbGR/</link><pubDate>Tue, 29 Dec 2020 16:11:55 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/SNyWJwbGR/</guid><description>&lt;blockquote>
&lt;p>ç®€å•çš„ä¿®æ”¹/etc/ssh/ssh_configæ–‡ä»¶å³å¯é€šè¿‡è·³æ¿æœºï¼Œç›´è¾¾ç›®æ ‡æœåŠ¡å™¨ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="é…ç½®æ–¹æ³•">
 é…ç½®æ–¹æ³•
 &lt;a class="anchor" href="#%e9%85%8d%e7%bd%ae%e6%96%b9%e6%b3%95">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>cat /etc/ssh/ssh_config
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Host jump-server
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> User xxxx
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Hostname yyy.yyy.yyy.yyy
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Port &lt;span style="color:#ae81ff">22&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Host 10.*
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ProxyCommand ssh -q -W %h:%p jump-server
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Host æ”¯æŒé€šé…ç¬¦ &lt;code>*&lt;/code> å’Œ &lt;code>?&lt;/code>&lt;/p></description></item><item><title>centos6é•œåƒç«™åœæ­¢ç»´æŠ¤çš„è§£å†³åŠæ³•</title><link>https://notes.zhangwenbing.com/blog/linux/tqj7MybMg/</link><pubDate>Mon, 28 Dec 2020 17:47:27 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/tqj7MybMg/</guid><description>&lt;blockquote>
&lt;p>2020å¹´11æœˆ30æ—¥ centos6å„å¤§å¼€æºé•œåƒç«™å·²ç»åœæ­¢ç»´æŠ¤äº†ï¼Œä½†æ˜¯é˜¿é‡Œäº‘è¿˜æœ‰å…¶ä»–æºå¯ä»¥ä½¿ç”¨ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="é”™è¯¯æç¤º">
 é”™è¯¯æç¤º
 &lt;a class="anchor" href="#%e9%94%99%e8%af%af%e6%8f%90%e7%a4%ba">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span> http://mirrors.aliyun.com/epel/6/x86_64/repodata/repomd.xml: &lt;span style="color:#f92672">[&lt;/span>Errno 14&lt;span style="color:#f92672">]&lt;/span> PYCURL ERROR &lt;span style="color:#ae81ff">22&lt;/span> - &lt;span style="color:#e6db74">&amp;#34;The requested URL returned error: 404 Not Found&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="è§£å†³åŠæ³•">
 è§£å†³åŠæ³•
 &lt;a class="anchor" href="#%e8%a7%a3%e5%86%b3%e5%8a%9e%e6%b3%95">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>cat /etc/yum.repos.d/CentOS-Base.repo
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># CentOS-Base.repo&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># The mirror system uses the connecting IP address of the client and the&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># update status of each mirror to pick mirrors that are updated to and&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># geographically close to the client. You should use this for CentOS updates&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># unless you are manually picking other mirrors.&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># If the mirrorlist= does not work for you, as a fall back you can try the&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># remarked out baseurl= line instead.&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span>base&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>name&lt;span style="color:#f92672">=&lt;/span>CentOS-6.10 - Base - mirrors.aliyun.com
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>failovermethod&lt;span style="color:#f92672">=&lt;/span>priority
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>baseurl&lt;span style="color:#f92672">=&lt;/span>http://mirrors.aliyun.com/centos-vault/6.10/os/$basearch/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>gpgcheck&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>gpgkey&lt;span style="color:#f92672">=&lt;/span>http://mirrors.aliyun.com/centos-vault/RPM-GPG-KEY-CentOS-6
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#released updates&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span>updates&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>name&lt;span style="color:#f92672">=&lt;/span>CentOS-6.10 - Updates - mirrors.aliyun.com
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>failovermethod&lt;span style="color:#f92672">=&lt;/span>priority
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>baseurl&lt;span style="color:#f92672">=&lt;/span>http://mirrors.aliyun.com/centos-vault/6.10/updates/$basearch/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>gpgcheck&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>gpgkey&lt;span style="color:#f92672">=&lt;/span>http://mirrors.aliyun.com/centos-vault/RPM-GPG-KEY-CentOS-6
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#additional packages that may be useful&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span>extras&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>name&lt;span style="color:#f92672">=&lt;/span>CentOS-6.10 - Extras - mirrors.aliyun.com
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>failovermethod&lt;span style="color:#f92672">=&lt;/span>priority
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>baseurl&lt;span style="color:#f92672">=&lt;/span>http://mirrors.aliyun.com/centos-vault/6.10/extras/$basearch/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>gpgcheck&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>gpgkey&lt;span style="color:#f92672">=&lt;/span>http://mirrors.aliyun.com/centos-vault/RPM-GPG-KEY-CentOS-6
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#additional packages that extend functionality of existing packages&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span>centosplus&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>name&lt;span style="color:#f92672">=&lt;/span>CentOS-6.10 - Plus - mirrors.aliyun.com
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>failovermethod&lt;span style="color:#f92672">=&lt;/span>priority
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>baseurl&lt;span style="color:#f92672">=&lt;/span>http://mirrors.aliyun.com/centos-vault/6.10/centosplus/$basearch/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>gpgcheck&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>enabled&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">0&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>gpgkey&lt;span style="color:#f92672">=&lt;/span>http://mirrors.aliyun.com/centos-vault/RPM-GPG-KEY-CentOS-6
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#contrib - packages by Centos Users&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span>contrib&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>name&lt;span style="color:#f92672">=&lt;/span>CentOS-6.10 - Contrib - mirrors.aliyun.com
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>failovermethod&lt;span style="color:#f92672">=&lt;/span>priority
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>baseurl&lt;span style="color:#f92672">=&lt;/span>http://mirrors.aliyun.com/centos-vault/6.10/contrib/$basearch/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>gpgcheck&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>enabled&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">0&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>gpgkey&lt;span style="color:#f92672">=&lt;/span>http://mirrors.aliyun.com/centos-vault/RPM-GPG-KEY-CentOS-6
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>yum clean all
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>yum makecache
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>ffmpegè§„èŒƒéŸ³é¢‘çš„å“åº¦</title><link>https://notes.zhangwenbing.com/blog/ffmpeg/ROS_KIbGg/</link><pubDate>Tue, 22 Dec 2020 14:53:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/ffmpeg/ROS_KIbGg/</guid><description>&lt;blockquote>
&lt;p>é€šè¿‡FFmpegå†…ç½®æ»¤é•œã€æ‰‹åŠ¨è°ƒæ•´éŸ³é‡ã€æˆ–è€…ffmpeg-normalizeå®ç°å¯¹å“åº¦çš„æ§åˆ¶ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="å†…ç½®å½’ä¸€åŒ–æ»¤æ³¢å™¨">
 å†…ç½®å½’ä¸€åŒ–æ»¤æ³¢å™¨
 &lt;a class="anchor" href="#%e5%86%85%e7%bd%ae%e5%bd%92%e4%b8%80%e5%8c%96%e6%bb%a4%e6%b3%a2%e5%99%a8">#&lt;/a>
&lt;/h2>
&lt;p>loudnormï¼šé€šè¿‡EBU R.128è¿›è¡Œå“åº¦æ ‡å‡†åŒ–ã€‚æ‚¨å¯ä»¥è®¾ç½®ç§¯åˆ†çš„ä½“ç§¯ç›®æ ‡ï¼Œä½“ç§¯èŒƒå›´ç›®æ ‡æˆ–æœ€å¤§çœŸå®å³°ã€‚å»ºè®®ç”¨äºå‘å¸ƒéŸ³é¢‘å’Œè§†é¢‘ï¼Œå¹¶è¢«ä¸–ç•Œå„åœ°çš„å¹¿æ’­å…¬å¸ä½¿ç”¨ã€‚&lt;/p></description></item><item><title>tcpdumpä¹‹UDPæŠ“åŒ…</title><link>https://notes.zhangwenbing.com/blog/linux/-vpymjJGg/</link><pubDate>Fri, 18 Dec 2020 15:01:47 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/-vpymjJGg/</guid><description>&lt;blockquote>
&lt;p>ä½¿ç”¨tcpdumpæŠ“UDPåŒ…ï¼Œè¿‡æ»¤è¿‡æ»¤IPå’Œportï¼Œå¹¶ä¸”è‡ªåŠ¨æ‹†åˆ†ç‰‡æ®µã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="å®‰è£…tcpdump">
 å®‰è£…tcpdump
 &lt;a class="anchor" href="#%e5%ae%89%e8%a3%85tcpdump">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>yum install -y tcpdump
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ä½¿ç”¨æ–¹æ³•">
 ä½¿ç”¨æ–¹æ³•
 &lt;a class="anchor" href="#%e4%bd%bf%e7%94%a8%e6%96%b9%e6%b3%95">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>tcpdump -i bond0 udp port xxxx and host xxx.x.xx.xxx -s0 -G &lt;span style="color:#ae81ff">600&lt;/span> -w %Y_%m%d_%H%M_%S.pcap
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="å‚æ•°è¯´æ˜">
 å‚æ•°è¯´æ˜
 &lt;a class="anchor" href="#%e5%8f%82%e6%95%b0%e8%af%b4%e6%98%8e">#&lt;/a>
&lt;/h3>
&lt;p>-i æŒ‡å®šç›‘å¬çš„ç½‘å¡&lt;/p></description></item><item><title>Linuxæ”¶å½•UDPè§†é¢‘èŠ±å±æ€»ç»“</title><link>https://notes.zhangwenbing.com/blog/linux/h5sGcU1MR/</link><pubDate>Wed, 16 Dec 2020 19:10:08 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/h5sGcU1MR/</guid><description>&lt;blockquote>
&lt;p>æœ€è¿‘åœ¨Linuxä¸‹ä½¿ç”¨ffmpegæ”¶å½•UDPæµèŠ±å±é—®é¢˜ï¼Œå‘ç°æœºå™¨æœ‰åŒç½‘å¡ï¼Œæ·»åŠ è·¯ç”±æŒ‡å®šç½‘å¡æ”¶å½•å¯¼è‡´æ— æ³•æ”¶å½•äº†ã€‚å¦é™„ä¸€äº›è§£å†³èŠ±å±çš„ä¼˜åŒ–æ–¹æ³•ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="ä¼˜åŒ–å†…æ ¸å‚æ•°">
 ä¼˜åŒ–å†…æ ¸å‚æ•°
 &lt;a class="anchor" href="#%e4%bc%98%e5%8c%96%e5%86%85%e6%a0%b8%e5%8f%82%e6%95%b0">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>cat /etc/sysctl.conf
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>net.ipv4.conf.default.rp_filter &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>net.ipv4.conf.all.rp_filter &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># ä¿®æ”¹é»˜è®¤ç½‘ç»œçš„ç¼“å­˜å¤§å° è¿™ä¸ªå¾ˆé‡è¦ä¸ç„¶&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>net.core.rmem_max &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">50000000&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>net.core.rmem_default &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">50000000&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sysctl -p
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># æ·»åŠ ä»¥ä¸Šé…ç½®åéœ€è¦é‡å¯ç³»ç»Ÿ&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>reboot
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># ä¸é‡å¯çš„è¯ä¸€å®šè¦æ‰§è¡Œä»¥ä¸‹å‘½ä»¤&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">for&lt;/span> i in /proc/sys/net/ipv4/conf/*/rp_filter ; &lt;span style="color:#66d9ef">do&lt;/span> echo &lt;span style="color:#ae81ff">0&lt;/span> &amp;gt; &lt;span style="color:#e6db74">&amp;#34;&lt;/span>$i&lt;span style="color:#e6db74">&amp;#34;&lt;/span>; &lt;span style="color:#66d9ef">done&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="åæ§½">
 åæ§½
 &lt;a class="anchor" href="#%e5%90%90%e6%a7%bd">#&lt;/a>
&lt;/h2>
&lt;p>ç”±äºåšä¸»åªä¿®æ”¹äº†ä¸Šé¢çš„ &lt;code>sysctl.conf&lt;/code> å¹¶ä¸”åªæ‰§è¡Œäº† &lt;code>sysctl -p&lt;/code> æ‰€ä»¥æ‚²å‰§äº†ï¼Œæ·»åŠ è·¯ç”±ä¹‹åä¸€ç›´æ— æ³•æ”¶å½•ã€‚&lt;/p></description></item><item><title>CentOSæ·»åŠ é™æ€è·¯ç”±ä¹‹route</title><link>https://notes.zhangwenbing.com/blog/linux/loBZJ41MR/</link><pubDate>Wed, 09 Dec 2020 20:50:36 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/loBZJ41MR/</guid><description>&lt;blockquote>
&lt;p>routeå‘½ä»¤å‚æ•°è¯¦ç»†è¯´æ˜åŠå¸¸ç”¨å‘½ä»¤&lt;/p>
&lt;/blockquote>
&lt;p>åŸæ–‡åœ°å€ &lt;a href="https://docs.lvrui.io/2016/10/12/CentOS%E4%B8%8B%E6%B7%BB%E5%8A%A0%E9%9D%99%E6%80%81%E8%B7%AF%E7%94%B1/">docs.lvrui.io&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&amp;gt; route
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Kernel IP routing table
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Destination Gateway Genmask Flags Metric Ref Use Iface
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>default localhost 0.0.0.0 UG &lt;span style="color:#ae81ff">100&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> eno16780032
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>172.17.0.0 0.0.0.0 255.255.0.0 U &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> docker0
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>192.168.10.0 0.0.0.0 255.255.255.0 U &lt;span style="color:#ae81ff">100&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> eno16780032
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;em>macOS ä¸­ä½¿ç”¨ &lt;code>netstat -nr&lt;/code> å‘½ä»¤æ¥æŸ¥çœ‹å½“å‰è·¯ç”±è¡¨&lt;/em>&lt;/p></description></item><item><title>macos Lauchpad(å¯åŠ¨å°) é‡ç½®</title><link>https://notes.zhangwenbing.com/blog/macos/aaELFz1Mg/</link><pubDate>Mon, 07 Dec 2020 20:39:24 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/macos/aaELFz1Mg/</guid><description>&lt;blockquote>
&lt;p>é‡ç½®macosçš„Lauchpad(å¯åŠ¨å°)ï¼ŒåŠè®¾ç½®Lauchpad(å¯åŠ¨å°)çš„è¡Œæ•°å’Œåˆ—æ•°ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>æ‰“å¼€ç»ˆç«¯ç¨‹åºï¼ŒæŒ‰éœ€æ±‚æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ã€‚&lt;/p>
&lt;h2 id="é‡ç½®-lauchpad">
 é‡ç½® Lauchpad
 &lt;a class="anchor" href="#%e9%87%8d%e7%bd%ae-lauchpad">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>defaults write com.apple.dock ResetLaunchPad -bool TRUE;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="é‡å¯-dock">
 é‡å¯ Dock
 &lt;a class="anchor" href="#%e9%87%8d%e5%90%af-dock">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>killall Dock
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="è®¾ç½®-lauchpad-å›¾æ ‡çš„åˆ—æ•°">
 è®¾ç½® Lauchpad å›¾æ ‡çš„åˆ—æ•°
 &lt;a class="anchor" href="#%e8%ae%be%e7%bd%ae-lauchpad-%e5%9b%be%e6%a0%87%e7%9a%84%e5%88%97%e6%95%b0">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>defaults write com.apple.dock springboard-columns -int &lt;span style="color:#ae81ff">7&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="è®¾ç½®-lauchpad-å›¾æ ‡çš„è¡Œæ•°">
 è®¾ç½® Lauchpad å›¾æ ‡çš„è¡Œæ•°
 &lt;a class="anchor" href="#%e8%ae%be%e7%bd%ae-lauchpad-%e5%9b%be%e6%a0%87%e7%9a%84%e8%a1%8c%e6%95%b0">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>defaults write com.apple.dock springboard-rows -int &lt;span style="color:#ae81ff">7&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>nginxåŠphp-fpmä¼˜åŒ–</title><link>https://notes.zhangwenbing.com/blog/linux/bdpp4QAMg/</link><pubDate>Fri, 04 Dec 2020 16:33:34 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/bdpp4QAMg/</guid><description>&lt;blockquote>
&lt;p>ç®€å•çš„è®²è®²nginx+phpçš„ä¸€äº›å¸¸ç”¨ä¼˜åŒ–ï¼Œä»¥åŠç›¸å…³çš„å†…æ ¸å‚æ•°ä¼˜åŒ–ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="nginx-ä¼˜åŒ–">
 Nginx ä¼˜åŒ–
 &lt;a class="anchor" href="#nginx-%e4%bc%98%e5%8c%96">#&lt;/a>
&lt;/h2>
&lt;h3 id="1-tcp-ä¸-unix-å¥—æ¥å­—">
 1. TCP ä¸ UNIX å¥—æ¥å­—
 &lt;a class="anchor" href="#1-tcp-%e4%b8%8e-unix-%e5%a5%97%e6%8e%a5%e5%ad%97">#&lt;/a>
&lt;/h3>
&lt;p>UNIX åŸŸå¥—æ¥å­—æä¾›çš„æ€§èƒ½ç•¥é«˜äº TCP å¥—æ¥å­—åœ¨å›é€æ¥å£ä¸Šçš„æ€§èƒ½ï¼ˆè¾ƒå°‘çš„æ•°æ®å¤åˆ¶ï¼Œè¾ƒå°‘çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼‰ã€‚å¦‚æœæ¯ä¸ªæœåŠ¡å™¨éœ€è¦æ”¯æŒè¶…è¿‡ 1000 ä¸ªè¿æ¥ï¼Œè¯·ä½¿ç”¨ TCP å¥—æ¥å­— - å®ƒä»¬å¯ä»¥æ›´å¥½åœ°æ‰©å±•ã€‚&lt;/p></description></item><item><title>ffmpegåœ¨ç‰¹å®šçš„æ—¶é—´æ··åˆä¸€ä¸ªæˆ–å¤šä¸ªéŸ³é¢‘</title><link>https://notes.zhangwenbing.com/blog/ffmpeg/Mv3bzfgqM/</link><pubDate>Tue, 13 Oct 2020 08:24:19 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/ffmpeg/Mv3bzfgqM/</guid><description>&lt;blockquote>
&lt;p>ä½¿ç”¨FFmpegä¸­çš„adelayå’Œamixæ»¤é•œç»™éŸ³é¢‘åšæ··éŸ³&lt;/p>
&lt;/blockquote>
&lt;p>åœ¨30ç§’åæ··åˆ1ä¸ªéŸ³é¢‘&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>ffmpeg -i 1-1.mp3 -i 2.mp3 -filter_complex &lt;span style="color:#e6db74">&amp;#34;[1]adelay=delays=30s:all=1[aud1];[0][aud1]amix=inputs=2&amp;#34;&lt;/span> -vsync &lt;span style="color:#ae81ff">2&lt;/span> -y 3.mp3
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åœ¨30ç§’åæ··åˆ2ä¸ªéŸ³é¢‘&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>ffmpeg -i 1-1.mp3 -i 2.mp3 -i 3.mp3 -filter_complex &lt;span style="color:#e6db74">&amp;#34;[1]adelay=delays=30s:all=1[aud1];[2]adelay=delays=30s:all=1[aud2];[0][aud1][aud2]amix=inputs=3&amp;#34;&lt;/span> -vsync &lt;span style="color:#ae81ff">2&lt;/span> -y 4.mp3
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ··åˆå¤šä¸ªå‚ç…§æ··åˆ2ä¸ªçš„å‘½ä»¤ä¿®æ”¹ä¸‹å³å¯&lt;/p></description></item><item><title>[supervisord]å¡«å‘ä¹‹æœ€å¤§è¿æ¥æ•°</title><link>https://notes.zhangwenbing.com/blog/linux/HTLMANZea/</link><pubDate>Thu, 27 Aug 2020 04:03:19 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/HTLMANZea/</guid><description>&lt;blockquote>
&lt;p>ä¿®æ”¹supervisordé…ç½®çªç ´1024æœ€å¤§è¿æ¥æ•°&lt;/p>
&lt;/blockquote>
&lt;h2 id="é—®é¢˜æè¿°">
 é—®é¢˜æè¿°
 &lt;a class="anchor" href="#%e9%97%ae%e9%a2%98%e6%8f%8f%e8%bf%b0">#&lt;/a>
&lt;/h2>
&lt;p>æœ€è¿‘åœ¨ä½¿ç”¨supervisordæœåŠ¡æ—¶å‘ç°ï¼Œæ— è®ºå¦‚ä½•ä¿®æ”¹ç³»ç»Ÿçš„æœ€å¤§è¿æ¥æ•°ï¼Œç”±supervisordç®¡ç†çš„ç¨‹åºéƒ½æ— æ³•çªç ´1024çš„é™åˆ¶ã€‚&lt;/p></description></item><item><title>FFmpeg æ°´å°</title><link>https://notes.zhangwenbing.com/blog/ffmpeg/UtHueryud/</link><pubDate>Wed, 15 Jul 2020 06:31:49 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/ffmpeg/UtHueryud/</guid><description>&lt;blockquote>
&lt;p>å›¾ç‰‡æ°´å°ã€æ–‡å­—æ°´å°ã€ç”»ä¸­ç”»&lt;/p>
&lt;/blockquote>
&lt;h2 id="å›¾ç‰‡æ°´å°">
 å›¾ç‰‡æ°´å°
 &lt;a class="anchor" href="#%e5%9b%be%e7%89%87%e6%b0%b4%e5%8d%b0">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>ffmpeg -i input.mp4 -vf &lt;span style="color:#e6db74">&amp;#34;movie=wenzi.png[watermark];[in][watermark] overlay=main_w-overlay_w-10:main_h-overlay_h-10[out] &amp;#34;&lt;/span> output.mp4
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>-i :ä¸€èˆ¬è¡¨ç¤ºè¾“å…¥&lt;/p>
&lt;p>input.mp4:è¿™é‡Œè¡¨ç¤ºè¦å¤„ç†çš„è§†é¢‘æº&lt;/p>
&lt;p>-vf:æ»¤é•œç›¸å…³ï¼Œè§†é¢‘è£å‰ªï¼Œæ°´å°ç­‰ç­‰æ“ä½œéƒ½éœ€è¦å®ƒå®Œæˆ&lt;/p></description></item><item><title>supervisor å¸¸è§å‘åŠè§£å†³åŠæ³•</title><link>https://notes.zhangwenbing.com/blog/linux/QNIBzjz3k/</link><pubDate>Tue, 14 Jul 2020 09:51:26 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/QNIBzjz3k/</guid><description>&lt;blockquote>
&lt;p>Too many open filesã€è·å–ä¸åˆ°$HOMEç­‰&lt;/p>
&lt;/blockquote>
&lt;h2 id="too-many-open-files">
 Too many open files
 &lt;a class="anchor" href="#too-many-open-files">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>vim /etc/supervisord.conf
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span>supervisord&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>minfds&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">81920&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>minprocs&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">81920&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># systemctl restart supervisord&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="è·å–ä¸åˆ°home">
 è·å–ä¸åˆ°$HOME
 &lt;a class="anchor" href="#%e8%8e%b7%e5%8f%96%e4%b8%8d%e5%88%b0home">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span>program:apache2&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>command&lt;span style="color:#f92672">=&lt;/span>/home/chrism/bin/httpd -c &lt;span style="color:#e6db74">&amp;#34;ErrorLog /dev/stdout&amp;#34;&lt;/span> -DFOREGROUND
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>user&lt;span style="color:#f92672">=&lt;/span>chrism
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>environment&lt;span style="color:#f92672">=&lt;/span>HOME&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;/home/chrism&amp;#34;&lt;/span>,USER&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;chrism&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>supervisorctl update
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>linux nvidia è·å–æ˜¾å¡ä¿¡æ¯</title><link>https://notes.zhangwenbing.com/blog/linux/N2EsU3hZT/</link><pubDate>Thu, 04 Jun 2020 06:40:16 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/N2EsU3hZT/</guid><description>&lt;blockquote>
&lt;p>ä½¿ç”¨deviceQueryè·å–æ˜¾å¡ä¿¡æ¯&lt;/p>
&lt;/blockquote>
&lt;h2 id="ç¯å¢ƒ">
 ç¯å¢ƒ
 &lt;a class="anchor" href="#%e7%8e%af%e5%a2%83">#&lt;/a>
&lt;/h2>
&lt;p>Linuxã€nvidiaã€cuda&lt;/p>
&lt;h2 id="å‘½ä»¤">
 å‘½ä»¤
 &lt;a class="anchor" href="#%e5%91%bd%e4%bb%a4">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>/usr/local/cuda/extras/demo_suite/deviceQuery
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> CUDA Device Query &lt;span style="color:#f92672">(&lt;/span>Runtime API&lt;span style="color:#f92672">)&lt;/span> version &lt;span style="color:#f92672">(&lt;/span>CUDART static linking&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Detected &lt;span style="color:#ae81ff">2&lt;/span> CUDA Capable device&lt;span style="color:#f92672">(&lt;/span>s&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Device 0: &lt;span style="color:#e6db74">&amp;#34;GeForce RTX 2080 Ti&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> CUDA Driver Version / Runtime Version 10.1 / 10.1
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> CUDA Capability Major/Minor version number: 7.5
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Total amount of global memory: &lt;span style="color:#ae81ff">11019&lt;/span> MBytes &lt;span style="color:#f92672">(&lt;/span>&lt;span style="color:#ae81ff">11554717696&lt;/span> bytes&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">(&lt;/span>68&lt;span style="color:#f92672">)&lt;/span> Multiprocessors, &lt;span style="color:#f92672">(&lt;/span> 64&lt;span style="color:#f92672">)&lt;/span> CUDA Cores/MP: &lt;span style="color:#ae81ff">4352&lt;/span> CUDA Cores
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> GPU Max Clock rate: &lt;span style="color:#ae81ff">1545&lt;/span> MHz &lt;span style="color:#f92672">(&lt;/span>1.54 GHz&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Memory Clock rate: &lt;span style="color:#ae81ff">7000&lt;/span> Mhz
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Memory Bus Width: 352-bit
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> L2 Cache Size: &lt;span style="color:#ae81ff">5767168&lt;/span> bytes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Maximum Texture Dimension Size &lt;span style="color:#f92672">(&lt;/span>x,y,z&lt;span style="color:#f92672">)&lt;/span> 1D&lt;span style="color:#f92672">=(&lt;/span>131072&lt;span style="color:#f92672">)&lt;/span>, 2D&lt;span style="color:#f92672">=(&lt;/span>131072, 65536&lt;span style="color:#f92672">)&lt;/span>, 3D&lt;span style="color:#f92672">=(&lt;/span>16384, 16384, 16384&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Maximum Layered 1D Texture Size, &lt;span style="color:#f92672">(&lt;/span>num&lt;span style="color:#f92672">)&lt;/span> layers 1D&lt;span style="color:#f92672">=(&lt;/span>32768&lt;span style="color:#f92672">)&lt;/span>, &lt;span style="color:#ae81ff">2048&lt;/span> layers
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Maximum Layered 2D Texture Size, &lt;span style="color:#f92672">(&lt;/span>num&lt;span style="color:#f92672">)&lt;/span> layers 2D&lt;span style="color:#f92672">=(&lt;/span>32768, 32768&lt;span style="color:#f92672">)&lt;/span>, &lt;span style="color:#ae81ff">2048&lt;/span> layers
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Total amount of constant memory: &lt;span style="color:#ae81ff">65536&lt;/span> bytes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Total amount of shared memory per block: &lt;span style="color:#ae81ff">49152&lt;/span> bytes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Total number of registers available per block: &lt;span style="color:#ae81ff">65536&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Warp size: &lt;span style="color:#ae81ff">32&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Maximum number of threads per multiprocessor: &lt;span style="color:#ae81ff">1024&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Maximum number of threads per block: &lt;span style="color:#ae81ff">1024&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Max dimension size of a thread block &lt;span style="color:#f92672">(&lt;/span>x,y,z&lt;span style="color:#f92672">)&lt;/span>: &lt;span style="color:#f92672">(&lt;/span>1024, 1024, 64&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Max dimension size of a grid size &lt;span style="color:#f92672">(&lt;/span>x,y,z&lt;span style="color:#f92672">)&lt;/span>: &lt;span style="color:#f92672">(&lt;/span>2147483647, 65535, 65535&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Maximum memory pitch: &lt;span style="color:#ae81ff">2147483647&lt;/span> bytes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Texture alignment: &lt;span style="color:#ae81ff">512&lt;/span> bytes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Concurrent copy and kernel execution: Yes with &lt;span style="color:#ae81ff">3&lt;/span> copy engine&lt;span style="color:#f92672">(&lt;/span>s&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Run time limit on kernels: No
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Integrated GPU sharing Host Memory: No
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Support host page-locked memory mapping: Yes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Alignment requirement &lt;span style="color:#66d9ef">for&lt;/span> Surfaces: Yes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Device has ECC support: Disabled
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Device supports Unified Addressing &lt;span style="color:#f92672">(&lt;/span>UVA&lt;span style="color:#f92672">)&lt;/span>: Yes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Device supports Compute Preemption: Yes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Supports Cooperative Kernel Launch: Yes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Supports MultiDevice Co-op Kernel Launch: Yes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Device PCI Domain ID / Bus ID / location ID: &lt;span style="color:#ae81ff">0&lt;/span> / &lt;span style="color:#ae81ff">1&lt;/span> / &lt;span style="color:#ae81ff">0&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Compute Mode:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt; Default &lt;span style="color:#f92672">(&lt;/span>multiple host threads can use ::cudaSetDevice&lt;span style="color:#f92672">()&lt;/span> with device simultaneously&lt;span style="color:#f92672">)&lt;/span> &amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Device 1: &lt;span style="color:#e6db74">&amp;#34;GeForce RTX 2080 Ti&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> CUDA Driver Version / Runtime Version 10.1 / 10.1
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> CUDA Capability Major/Minor version number: 7.5
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Total amount of global memory: &lt;span style="color:#ae81ff">11019&lt;/span> MBytes &lt;span style="color:#f92672">(&lt;/span>&lt;span style="color:#ae81ff">11554717696&lt;/span> bytes&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">(&lt;/span>68&lt;span style="color:#f92672">)&lt;/span> Multiprocessors, &lt;span style="color:#f92672">(&lt;/span> 64&lt;span style="color:#f92672">)&lt;/span> CUDA Cores/MP: &lt;span style="color:#ae81ff">4352&lt;/span> CUDA Cores
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> GPU Max Clock rate: &lt;span style="color:#ae81ff">1545&lt;/span> MHz &lt;span style="color:#f92672">(&lt;/span>1.54 GHz&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Memory Clock rate: &lt;span style="color:#ae81ff">7000&lt;/span> Mhz
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Memory Bus Width: 352-bit
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> L2 Cache Size: &lt;span style="color:#ae81ff">5767168&lt;/span> bytes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Maximum Texture Dimension Size &lt;span style="color:#f92672">(&lt;/span>x,y,z&lt;span style="color:#f92672">)&lt;/span> 1D&lt;span style="color:#f92672">=(&lt;/span>131072&lt;span style="color:#f92672">)&lt;/span>, 2D&lt;span style="color:#f92672">=(&lt;/span>131072, 65536&lt;span style="color:#f92672">)&lt;/span>, 3D&lt;span style="color:#f92672">=(&lt;/span>16384, 16384, 16384&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Maximum Layered 1D Texture Size, &lt;span style="color:#f92672">(&lt;/span>num&lt;span style="color:#f92672">)&lt;/span> layers 1D&lt;span style="color:#f92672">=(&lt;/span>32768&lt;span style="color:#f92672">)&lt;/span>, &lt;span style="color:#ae81ff">2048&lt;/span> layers
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Maximum Layered 2D Texture Size, &lt;span style="color:#f92672">(&lt;/span>num&lt;span style="color:#f92672">)&lt;/span> layers 2D&lt;span style="color:#f92672">=(&lt;/span>32768, 32768&lt;span style="color:#f92672">)&lt;/span>, &lt;span style="color:#ae81ff">2048&lt;/span> layers
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Total amount of constant memory: &lt;span style="color:#ae81ff">65536&lt;/span> bytes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Total amount of shared memory per block: &lt;span style="color:#ae81ff">49152&lt;/span> bytes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Total number of registers available per block: &lt;span style="color:#ae81ff">65536&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Warp size: &lt;span style="color:#ae81ff">32&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Maximum number of threads per multiprocessor: &lt;span style="color:#ae81ff">1024&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Maximum number of threads per block: &lt;span style="color:#ae81ff">1024&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Max dimension size of a thread block &lt;span style="color:#f92672">(&lt;/span>x,y,z&lt;span style="color:#f92672">)&lt;/span>: &lt;span style="color:#f92672">(&lt;/span>1024, 1024, 64&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Max dimension size of a grid size &lt;span style="color:#f92672">(&lt;/span>x,y,z&lt;span style="color:#f92672">)&lt;/span>: &lt;span style="color:#f92672">(&lt;/span>2147483647, 65535, 65535&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Maximum memory pitch: &lt;span style="color:#ae81ff">2147483647&lt;/span> bytes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Texture alignment: &lt;span style="color:#ae81ff">512&lt;/span> bytes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Concurrent copy and kernel execution: Yes with &lt;span style="color:#ae81ff">3&lt;/span> copy engine&lt;span style="color:#f92672">(&lt;/span>s&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Run time limit on kernels: No
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Integrated GPU sharing Host Memory: No
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Support host page-locked memory mapping: Yes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Alignment requirement &lt;span style="color:#66d9ef">for&lt;/span> Surfaces: Yes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Device has ECC support: Disabled
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Device supports Unified Addressing &lt;span style="color:#f92672">(&lt;/span>UVA&lt;span style="color:#f92672">)&lt;/span>: Yes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Device supports Compute Preemption: Yes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Supports Cooperative Kernel Launch: Yes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Supports MultiDevice Co-op Kernel Launch: Yes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Device PCI Domain ID / Bus ID / location ID: &lt;span style="color:#ae81ff">0&lt;/span> / &lt;span style="color:#ae81ff">2&lt;/span> / &lt;span style="color:#ae81ff">0&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Compute Mode:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt; Default &lt;span style="color:#f92672">(&lt;/span>multiple host threads can use ::cudaSetDevice&lt;span style="color:#f92672">()&lt;/span> with device simultaneously&lt;span style="color:#f92672">)&lt;/span> &amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;gt; Peer access from GeForce RTX &lt;span style="color:#ae81ff">2080&lt;/span> Ti &lt;span style="color:#f92672">(&lt;/span>GPU0&lt;span style="color:#f92672">)&lt;/span> -&amp;gt; GeForce RTX &lt;span style="color:#ae81ff">2080&lt;/span> Ti &lt;span style="color:#f92672">(&lt;/span>GPU1&lt;span style="color:#f92672">)&lt;/span> : Yes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;gt; Peer access from GeForce RTX &lt;span style="color:#ae81ff">2080&lt;/span> Ti &lt;span style="color:#f92672">(&lt;/span>GPU1&lt;span style="color:#f92672">)&lt;/span> -&amp;gt; GeForce RTX &lt;span style="color:#ae81ff">2080&lt;/span> Ti &lt;span style="color:#f92672">(&lt;/span>GPU0&lt;span style="color:#f92672">)&lt;/span> : Yes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>deviceQuery, CUDA Driver &lt;span style="color:#f92672">=&lt;/span> CUDART, CUDA Driver Version &lt;span style="color:#f92672">=&lt;/span> 10.1, CUDA Runtime Version &lt;span style="color:#f92672">=&lt;/span> 10.1, NumDevs &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="æºç ">
 æºç 
 &lt;a class="anchor" href="#%e6%ba%90%e7%a0%81">#&lt;/a>
&lt;/h2>
&lt;p>&lt;a href="https://github.com/NVIDIA/cuda-samples/tree/master/Samples/deviceQuery">https://github.com/NVIDIA/cuda-samples/tree/master/Samples/deviceQuery&lt;/a>&lt;/p></description></item><item><title>ffprobeè¯¦è§£</title><link>https://notes.zhangwenbing.com/blog/ffmpeg/rdgQnFI6j/</link><pubDate>Wed, 13 May 2020 09:51:05 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/ffmpeg/rdgQnFI6j/</guid><description>&lt;blockquote>
&lt;p>ffprobeæ˜¯ffmpegæä¾›çš„ä¸‰å¤§å·¥å…·ä¹‹ä¸€ï¼Œç”¨æ¥æŸ¥çœ‹éŸ³è§†é¢‘æ–‡ä»¶çš„å„ç§ä¿¡æ¯ï¼Œæ¯”å¦‚ï¼šå°è£…æ ¼å¼ã€éŸ³é¢‘/è§†é¢‘æµä¿¡æ¯ã€æ•°æ®åŒ…ä¿¡æ¯ç­‰ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>ffprobeçš„æºç æ˜¯ffprobe.cï¼Œå¼€å‘è¿‡ç¨‹ä¸­å¦‚æœæƒ³è·å–ffprobeæŸ¥çœ‹çš„ä¿¡æ¯ï¼Œå¯ä»¥é€šè¿‡åˆ†ææºç ï¼Œè·å¾—å¯¹åº”å­—æ®µã€‚&lt;/p></description></item><item><title>upx for macos ä¹‹æºç ç¼–è¯‘</title><link>https://notes.zhangwenbing.com/blog/macos/MiSev5_HW/</link><pubDate>Wed, 01 Apr 2020 09:53:30 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/macos/MiSev5_HW/</guid><description>&lt;blockquote>
&lt;p>UPX (the Ultimate Packer for eXecutables)æ˜¯ä¸€æ¬¾å…ˆè¿›çš„å¯æ‰§è¡Œç¨‹åºæ–‡ä»¶å‹ç¼©å™¨ï¼Œå‹ç¼©è¿‡çš„å¯æ‰§è¡Œæ–‡ä»¶ä½“ç§¯ç¼©å°50%-70% ï¼Œè¿™æ ·å‡å°‘äº†ç£ç›˜å ç”¨ç©ºé—´ã€ç½‘ç»œä¸Šä¼ ä¸‹è½½çš„æ—¶é—´å’Œå…¶å®ƒåˆ†å¸ƒä»¥åŠå­˜å‚¨è´¹ç”¨ã€‚&lt;/p></description></item><item><title>ffmpeg åˆ é™¤éŸ³è§†é¢‘æ–‡ä»¶ä¸­çš„å…ƒæ•°æ®</title><link>https://notes.zhangwenbing.com/blog/ffmpeg/ovfEIBOES/</link><pubDate>Thu, 07 Nov 2019 09:55:49 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/ffmpeg/ovfEIBOES/</guid><description>&lt;blockquote>
&lt;p>æ¸…é™¤mp3æ–‡ä»¶ä¸­è‡ªå¸¦çš„ä¸“è¾‘ï¼ˆalbumï¼‰ï¼Œè‰ºæœ¯å®¶ï¼ˆartistï¼‰ï¼Œæµæ´¾ï¼ˆgenreï¼‰ç­‰å…ƒæ•°æ®ã€‚&lt;/p>
&lt;/blockquote>
&lt;pre tabindex="0">&lt;code>ffmpeg -i &amp;#34;test.mp3&amp;#34; -b:a 320k -map_metadata -1 -y &amp;#34;out.mp3&amp;#34;
&lt;/code>&lt;/pre>&lt;p>-map_metadata -1 è¡¨ç¤ºæ¸…é™¤æ‰€æœ‰å…ƒæ•°æ®&lt;/p></description></item><item><title>mediainfo é™æ€ç¼–è¯‘è„šæœ¬</title><link>https://notes.zhangwenbing.com/blog/linux/roH7hpe6L/</link><pubDate>Tue, 13 Aug 2019 01:38:19 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/roH7hpe6L/</guid><description>&lt;blockquote>
&lt;p>å› ä¸ºéœ€è¦mediainfoæ”¯æŒhttpåè®®ï¼Œåœ¨è€çš„ç‰ˆæœ¬ä¸­æ˜¯ä¸æ”¯æŒçš„ï¼Œæ‰€ä»¥åªèƒ½è‡ªå·±åŠ¨æ‰‹ç¼–è¯‘äº†ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="è¯´æ˜">
 è¯´æ˜
 &lt;a class="anchor" href="#%e8%af%b4%e6%98%8e">#&lt;/a>
&lt;/h2>
&lt;p>ç³»ç»Ÿï¼šubuntu 14.04 (å…¶ä»–ç‰ˆæœ¬å¯èƒ½ä¼šæœ‰å°‘è®¸æ”¹åŠ¨)&lt;/p></description></item><item><title>sshå…ç§˜é’¥ç™»é™†å¸¸è§é—®é¢˜</title><link>https://notes.zhangwenbing.com/blog/linux/RRaHkWbSu/</link><pubDate>Fri, 02 Aug 2019 02:04:27 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/RRaHkWbSu/</guid><description>&lt;blockquote>
&lt;p>æ”¶é›†ä¸€äº›sshç™»é™†å¸¸è§çš„é—®é¢˜ï¼Œæ–¹ä¾¿å¿«é€Ÿè§£å†³é—®é¢˜ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="é‡è¦äº‹æƒ…">
 é‡è¦äº‹æƒ…
 &lt;a class="anchor" href="#%e9%87%8d%e8%a6%81%e4%ba%8b%e6%83%85">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>cat /var/log/secure
cat /var/log/message
&lt;/code>&lt;/pre>&lt;p>æ— è®ºä½ é‡åˆ°ä»»ä½•å¥‡è‘©çš„sshdé—®é¢˜ï¼Œä½ å…ˆæ‰§è¡Œä¸Šé¢çš„å‘½ä»¤æŸ¥çœ‹ä¸‹æ—¥å¿—ã€‚&lt;/p>
&lt;h2 id="é”™è¯¯ä¸€">
 é”™è¯¯ä¸€
 &lt;a class="anchor" href="#%e9%94%99%e8%af%af%e4%b8%80">#&lt;/a>
&lt;/h2>
&lt;h3 id="é—®é¢˜æè¿°">
 é—®é¢˜æè¿°
 &lt;a class="anchor" href="#%e9%97%ae%e9%a2%98%e6%8f%8f%e8%bf%b0">#&lt;/a>
&lt;/h3>
&lt;pre tabindex="0">&lt;code>Authentication refused:bad ownership or modes for dircetory /root
&lt;/code>&lt;/pre>&lt;h3 id="è§£å†³æ–¹æ³•">
 è§£å†³æ–¹æ³•
 &lt;a class="anchor" href="#%e8%a7%a3%e5%86%b3%e6%96%b9%e6%b3%95">#&lt;/a>
&lt;/h3>
&lt;pre tabindex="0">&lt;code>chmod 700 /root
&lt;/code>&lt;/pre>&lt;h3 id="å…¶ä»–ç›¸å…³">
 å…¶ä»–ç›¸å…³
 &lt;a class="anchor" href="#%e5%85%b6%e4%bb%96%e7%9b%b8%e5%85%b3">#&lt;/a>
&lt;/h3>
&lt;p>id_ras æƒé™ä¸º600&lt;/p></description></item><item><title>openssl - https SANè‡ªç­¾åè¯ä¹¦</title><link>https://notes.zhangwenbing.com/blog/linux/JQIo7dGc1/</link><pubDate>Tue, 02 Jul 2019 12:15:46 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/JQIo7dGc1/</guid><description>&lt;blockquote>
&lt;p>ä½¿ç”¨opensslç”Ÿäº§è‡ªç­¾åè¯ä¹¦ï¼Œç”¨äºhttpsæµ‹è¯•ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="caæ ¹è¯ä¹¦åˆ¶ä½œ">
 CAæ ¹è¯ä¹¦åˆ¶ä½œ
 &lt;a class="anchor" href="#ca%e6%a0%b9%e8%af%81%e4%b9%a6%e5%88%b6%e4%bd%9c">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>#1.ç”Ÿæˆæ ¹è¯ä¹¦å¯†é’¥
$ openssl genrsa -out ca.key 4096 #å»ºè®®é•¿åº¦ä¸º4096,1024é•¿åº¦å·²ç»è¢«åˆ—ä¸ºä¸å®‰å…¨ã€‚
#2.ç”Ÿæˆè‡ªç­¾åæ ¹è¯ä¹¦
$ openssl req -new -x509 -days 3650 -key ca.key -out ca.crt #è¿™é‡Œåœ¨è¾“å…¥CommonNameçš„æ—¶å€™è¾“å…¥åç§°è€Œä¸æ˜¯åŸŸåæˆ–è€…ip,å°±æ˜¯è¯ä¹¦ä¸Šæ˜¾ç¤ºçš„é¢å‘è€…ï¼Œè™½ç„¶æ˜¯è‡ªç­¾åè¯ä¹¦ï¼Œä½†æ˜¯å°½é‡è®©è¯ä¹¦çœ‹èµ·æ¥æ ‡å‡†ä¸€äº›
&lt;/code>&lt;/pre>&lt;h2 id="ä½¿ç”¨æ ¹è¯ä¹¦æ¥ç­¾åå…¶å®ƒè¯ä¹¦">
 ä½¿ç”¨æ ¹è¯ä¹¦æ¥ç­¾åå…¶å®ƒè¯ä¹¦
 &lt;a class="anchor" href="#%e4%bd%bf%e7%94%a8%e6%a0%b9%e8%af%81%e4%b9%a6%e6%9d%a5%e7%ad%be%e5%90%8d%e5%85%b6%e5%ae%83%e8%af%81%e4%b9%a6">#&lt;/a>
&lt;/h2>
&lt;h3 id="1ç”Ÿæˆè¯ä¹¦å¯†é’¥">
 &lt;strong>1.ç”Ÿæˆè¯ä¹¦å¯†é’¥&lt;/strong>
 &lt;a class="anchor" href="#1%e7%94%9f%e6%88%90%e8%af%81%e4%b9%a6%e5%af%86%e9%92%a5">#&lt;/a>
&lt;/h3>
&lt;pre tabindex="0">&lt;code>$ openssl genrsa -out server.key 4096
&lt;/code>&lt;/pre>&lt;h2 id="2-subject-alt-namesan">
 &lt;strong>2. Subject Alt Name(SAN)&lt;/strong>
 &lt;a class="anchor" href="#2-subject-alt-namesan">#&lt;/a>
&lt;/h2>
&lt;p>é«˜ç‰ˆæœ¬çš„Chromeæµè§ˆå™¨ä¼šè¦æ±‚è®¾ç½® &lt;code>subjectAltName&lt;/code>,å¦‚æœæ²¡æœ‰è®¾ç½®SANä¼šæŠ¥è¯ä¹¦é”™è¯¯&lt;/p></description></item><item><title>Centos7-yumå®‰è£…MySQL5.6</title><link>https://notes.zhangwenbing.com/blog/linux/yhK4y-gaU/</link><pubDate>Thu, 27 Jun 2019 01:22:50 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/yhK4y-gaU/</guid><description>&lt;blockquote>
&lt;p>centosè‡ªå¸¦çš„repoæ˜¯ä¸ä¼šè‡ªåŠ¨æ›´æ–°æ¯ä¸ªè½¯ä»¶çš„æ–°ç‰ˆæœ¬ï¼Œæ‰€ä»¥æ— æ³•é€šè¿‡yumæ–¹å¼å®‰è£…MySQLçš„é«˜ç‰ˆæœ¬ï¼Œæ‰€ä»¥ä¸€èˆ¬é€šè¿‡ç¤¾åŒºrpmåŒ…å®‰è£…ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="å®‰è£…yumæº">
 å®‰è£…yumæº
 &lt;a class="anchor" href="#%e5%ae%89%e8%a3%85yum%e6%ba%90">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>rpm -Uvh http://dev.mysql.com/get/mysql-community-release-el7-5.noarch.rpm
&lt;/code>&lt;/pre>&lt;h2 id="æŸ¥çœ‹mysqlå®‰è£…æº">
 æŸ¥çœ‹mysqlå®‰è£…æº
 &lt;a class="anchor" href="#%e6%9f%a5%e7%9c%8bmysql%e5%ae%89%e8%a3%85%e6%ba%90">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>yum repolist enabled | grep &amp;#34;mysql.*-community.*&amp;#34;
&lt;/code>&lt;/pre>&lt;h2 id="å®‰è£…mysql56">
 å®‰è£…mysql56
 &lt;a class="anchor" href="#%e5%ae%89%e8%a3%85mysql56">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>yum -y install mysql-community-server
&lt;/code>&lt;/pre>&lt;h2 id="å¼€æœºå¯åŠ¨">
 å¼€æœºå¯åŠ¨
 &lt;a class="anchor" href="#%e5%bc%80%e6%9c%ba%e5%90%af%e5%8a%a8">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>systemctl enable mysqld
&lt;/code>&lt;/pre>&lt;h2 id="å¯åŠ¨æœåŠ¡">
 å¯åŠ¨æœåŠ¡
 &lt;a class="anchor" href="#%e5%90%af%e5%8a%a8%e6%9c%8d%e5%8a%a1">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>systemctl start mysqld
&lt;/code>&lt;/pre>&lt;h2 id="é‡ç½®å¯†ç ">
 é‡ç½®å¯†ç 
 &lt;a class="anchor" href="#%e9%87%8d%e7%bd%ae%e5%af%86%e7%a0%81">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>mysql_secure_installation

NOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MySQL
 SERVERS IN PRODUCTION USE! PLEASE READ EACH STEP CAREFULLY!

In order to log into MySQL to secure it, we&amp;#39;ll need the current
password for the root user. If you&amp;#39;ve just installed MySQL, and
you haven&amp;#39;t set the root password yet, the password will be blank,
so you should just press enter here.

Enter current password for root (enter for none):
ERROR 1045 (28000): Access denied for user &amp;#39;root&amp;#39;@&amp;#39;localhost&amp;#39; (using password: YES)
Enter current password for root (enter for none):
ERROR 1045 (28000): Access denied for user &amp;#39;root&amp;#39;@&amp;#39;localhost&amp;#39; (using password: YES)
Enter current password for root (enter for none):
OK, successfully used password, moving on...

Setting the root password ensures that nobody can log into the MySQL
root user without the proper authorisation.

Set root password? [Y/n] y
New password:
Re-enter new password:
Password updated successfully!
Reloading privilege tables..
 ... Success!

By default, a MySQL installation has an anonymous user, allowing anyone
to log into MySQL without having to have a user account created for
them. This is intended only for testing, and to make the installation
go a bit smoother. You should remove them before moving into a
production environment.

Remove anonymous users? [Y/n] Y
 ... Success!

Normally, root should only be allowed to connect from &amp;#39;localhost&amp;#39;. This
ensures that someone cannot guess at the root password from the network.

Disallow root login remotely? [Y/n] n
 ... skipping.

By default, MySQL comes with a database named &amp;#39;test&amp;#39; that anyone can
access. This is also intended only for testing, and should be removed
before moving into a production environment.

Remove test database and access to it? [Y/n] n
 ... skipping.

Reloading the privilege tables will ensure that all changes made so far
will take effect immediately.

Reload privilege tables now? [Y/n] Y
 ... Success!

All done! If you&amp;#39;ve completed all of the above steps, your MySQL
installation should now be secure.

Thanks for using MySQL!

Cleaning up...
&lt;/code>&lt;/pre></description></item><item><title>supervisor å®‰è£…å’Œä½¿ç”¨æ–¹æ³•</title><link>https://notes.zhangwenbing.com/blog/linux/B1G3FwCaN/</link><pubDate>Fri, 31 May 2019 09:20:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/B1G3FwCaN/</guid><description>&lt;blockquote>
&lt;p>Supervisoræ˜¯ç”¨Pythonå¼€å‘çš„ä¸€å¥—é€šç”¨çš„è¿›ç¨‹ç®¡ç†ç¨‹åºï¼Œèƒ½å°†ä¸€ä¸ªæ™®é€šçš„å‘½ä»¤è¡Œè¿›ç¨‹å˜ä¸ºåå°daemonï¼Œå¹¶ç›‘æ§è¿›ç¨‹çŠ¶æ€ï¼Œå¼‚å¸¸é€€å‡ºæ—¶èƒ½è‡ªåŠ¨é‡å¯ã€‚&lt;/p></description></item><item><title>error while loading shared libraries: libc.so.6: cannot open shared object file: No such file or directory</title><link>https://notes.zhangwenbing.com/blog/linux/HkCTnskvV/</link><pubDate>Fri, 08 Mar 2019 09:24:10 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/HkCTnskvV/</guid><description>&lt;blockquote>
&lt;p>ä¸å°å¿ƒè¯¯åˆ libc.so.6&lt;/p>
&lt;/blockquote>
&lt;p>å®‰è£…å®Œæˆå, å»ºç«‹è½¯é“¾æŒ‡å‘glibc-2.14, æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤:&lt;/p>
&lt;pre tabindex="0">&lt;code>$ rm -rf /lib64/libc.so.6
&lt;/code>&lt;/pre>&lt;p>// å…ˆåˆ é™¤å…ˆå‰çš„libc.so.6è½¯é“¾&lt;/p>
&lt;pre tabindex="0">&lt;code>$ ln -s /opt/glibc-2.14/lib/libc-2.14.so /lib64/libc.so.6
&lt;/code>&lt;/pre>&lt;p>æ³¨æ„ï¼šåˆ é™¤libc.so.6ä¹‹åå¯èƒ½å¯¼è‡´ç³»ç»Ÿå‘½ä»¤ä¸å¯ç”¨çš„æƒ…å†µ, å¯ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•è§£å†³:&lt;/p></description></item><item><title>yumé”™è¯¯:problem making ssl connection Trying other mirror</title><link>https://notes.zhangwenbing.com/blog/linux/rk-lmMGL4/</link><pubDate>Tue, 26 Feb 2019 01:20:26 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/rk-lmMGL4/</guid><description>&lt;blockquote>
&lt;p>yumæ— æ³•ä½¿ç”¨å¸¦httpsçš„æº&lt;/p>
&lt;/blockquote>
&lt;h2 id="ç¯å¢ƒ">
 ç¯å¢ƒ
 &lt;a class="anchor" href="#%e7%8e%af%e5%a2%83">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>yum install epel-release
&lt;/code>&lt;/pre>&lt;p>è¿è¡Œä»¥ä¸Šå‘½ä»¤ä¹‹åï¼Œå®‰è£…å…¶ä»–è½¯ä»¶å°±æŠ¥é”™ã€‚&lt;/p>
&lt;h2 id="é”™è¯¯æç¤º">
 é”™è¯¯æç¤º
 &lt;a class="anchor" href="#%e9%94%99%e8%af%af%e6%8f%90%e7%a4%ba">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>[Errno 14] problem making ssl connection Trying other mirror.
Trying other mirror
Error: Cannot retrieve repository metadata (repomd.xml) for repository: xxxx. Please verify its path and try again
&lt;/code>&lt;/pre>&lt;p>ç»è¿‡googleæŸ¥è¯¢ï¼Œå‘ç°ä¼¼ä¹æ˜¯sslè¯ä¹¦çš„åŸå› ã€‚&lt;/p></description></item><item><title>CentOS7 php5.6 ç¼–è¯‘å®‰è£…amqpæ‰©å±•</title><link>https://notes.zhangwenbing.com/blog/linux/H10_K-VQ4/</link><pubDate>Tue, 22 Jan 2019 03:21:18 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/H10_K-VQ4/</guid><description>&lt;blockquote>
&lt;p>php å®‰è£…æœ€æ–°rabbitmqæ‰©å±•&lt;/p>
&lt;/blockquote>
&lt;h2 id="1å®‰è£…ç¼–è¯‘ç¯å¢ƒ">
 1ã€å®‰è£…ç¼–è¯‘ç¯å¢ƒ
 &lt;a class="anchor" href="#1%e5%ae%89%e8%a3%85%e7%bc%96%e8%af%91%e7%8e%af%e5%a2%83">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>yum install cmake gcc gcc-c++ make openssl-devel
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="2å®‰è£…rabbitmq-c">
 2ã€å®‰è£…rabbitmq-c
 &lt;a class="anchor" href="#2%e5%ae%89%e8%a3%85rabbitmq-c">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>wget https://github.com/alanxz/rabbitmq-c/archive/v0.9.0.zip
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>unzip v0.9.0.zip
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cd rabbitmq-c-0.9.0/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cmake -DCMAKE_INSTALL_PREFIX&lt;span style="color:#f92672">=&lt;/span>/usr/local/rabbitmq-c-0.9.0/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>make &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> make install
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="3å®‰è£…amqp">
 3ã€å®‰è£…amqp
 &lt;a class="anchor" href="#3%e5%ae%89%e8%a3%85amqp">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>wget http://pecl.php.net/get/amqp-1.9.4.tgz
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>tar zxf amqp-1.9.4.tgz
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cd amqp-1.9.4
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>/usr/bin/phpize
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>./configure --with-php-config&lt;span style="color:#f92672">=&lt;/span>/usr/bin/php-config --with-amqp --with-librabbitmq-dir&lt;span style="color:#f92672">=&lt;/span>/usr/local/rabbitmq-c-0.9.0
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#ç”±äºrabbitmq-cç¼–è¯‘å‡ºæ¥çš„libç›®å½•æ˜¯lib64ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦åšä¸€äº›å°çš„ä¿®æ”¹&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>vim Makefile
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#å°† AMQP_SHARED_LIBADD = -Wl,-rpath,/usr/local/rabbitmq-c-0.9.0/lib -L/usr/local/rabbitmq-c-0.9.0/lib -lrabbitmq&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#ä¿®æ”¹ä¸º AMQP_SHARED_LIBADD = -Wl,-rpath,/usr/local/rabbitmq-c-0.9.0/lib64 -L/usr/local/rabbitmq-c-0.9.0/lib64 -lrabbitmq&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>make &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> make install
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="4phpini-æ·»åŠ æ¨¡å—">
 4ã€php.ini æ·»åŠ æ¨¡å—
 &lt;a class="anchor" href="#4phpini-%e6%b7%bb%e5%8a%a0%e6%a8%a1%e5%9d%97">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>vi /usr/local/php/etc/php.ini
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#å¢åŠ &lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>extension &lt;span style="color:#f92672">=&lt;/span> /usr/lib64/php/modules/amqp.so
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="5é‡å¯æœåŠ¡">
 5ã€é‡å¯æœåŠ¡
 &lt;a class="anchor" href="#5%e9%87%8d%e5%90%af%e6%9c%8d%e5%8a%a1">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>systemctl restart php-fpm
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>hadoopä¸‹è½½æ–‡ä»¶é‡åˆ°çš„å‘</title><link>https://notes.zhangwenbing.com/blog/linux/S1wDPAKf4/</link><pubDate>Mon, 14 Jan 2019 09:38:20 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/S1wDPAKf4/</guid><description>&lt;blockquote>
&lt;p>hadoop fs -get ä¸‹è½½å¸¦ç‰¹æ®Šå­—ç¬¦æ–‡ä»¶å¤±è´¥çš„ä¸€äº›è§£å†³æ–¹æ³•ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="é”™è¯¯èŒƒä¾‹">
 é”™è¯¯èŒƒä¾‹
 &lt;a class="anchor" href="#%e9%94%99%e8%af%af%e8%8c%83%e4%be%8b">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>hadoop fs -get &amp;#34;/xxx/xxxåˆ†ç±»/åŠ¨æ¼«Y/2005/è“çŒ«æ·˜æ°”3000é—® èˆªå¤©ç³»åˆ—ï¼ˆå¤ªç©ºå†é™©è®°ï¼‰/ç¬¬363é›† åè®®.ts&amp;#34; &amp;#34;/media/bak/åª’èµ„æºç´ æåˆ†ç±»/åŠ¨æ¼«Y/2005/è“çŒ«æ·˜æ°”3000é—® èˆªå¤©ç³»åˆ—ï¼ˆå¤ªç©ºå†é™©è®°ï¼‰/ç¬¬363é›† åè®®.ts&amp;#34;
&lt;/code>&lt;/pre>&lt;p>è¿è¡Œä»¥ä¸Šå‘½ä»¤å°±æŠ¥â€œunexpexted URISyntaxExceptionâ€&lt;/p></description></item><item><title>linux-iftopå®æ—¶æµé‡ç›‘æ§</title><link>https://notes.zhangwenbing.com/blog/linux/B1rSV2FzE/</link><pubDate>Mon, 14 Jan 2019 07:06:13 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/B1rSV2FzE/</guid><description>&lt;blockquote>
&lt;p>iftopæ˜¯ç±»ä¼¼äºtopçš„å®æ—¶æµé‡ç›‘æ§å·¥å…·ã€‚å¯ä»¥ç”¨æ¥ç›‘æ§ç½‘å¡çš„å®æ—¶æµé‡ï¼ˆå¯ä»¥æŒ‡å®šç½‘æ®µï¼‰ã€åå‘è§£æIPã€æ˜¾ç¤ºç«¯å£ä¿¡æ¯ç­‰ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="å®‰è£…">
 å®‰è£…
 &lt;a class="anchor" href="#%e5%ae%89%e8%a3%85">#&lt;/a>
&lt;/h2>
&lt;p>Debian/Ubuntu/Deepinï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>sudo apt update
sudo apt -y install iftop
&lt;/code>&lt;/pre>&lt;p>CentOS/RHELï¼š&lt;/p></description></item><item><title>Centos7+Python2.7ä¸‹yumå®‰è£…è½¯ä»¶æŠ¥é”™è§£å†³åŠæ³•</title><link>https://notes.zhangwenbing.com/blog/linux/H1xaQL3-N/</link><pubDate>Fri, 04 Jan 2019 03:42:18 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/H1xaQL3-N/</guid><description>&lt;blockquote>
&lt;p>yumå®‰è£…è½¯ä»¶æŠ¥é”™ï¼Œä½†å¯ä»¥ä¸‹è½½æ–‡ä»¶ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="é”™è¯¯ä¿¡æ¯">
 é”™è¯¯ä¿¡æ¯
 &lt;a class="anchor" href="#%e9%94%99%e8%af%af%e4%bf%a1%e6%81%af">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>Downloading packages:
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
Traceback (most recent call last):
 File &amp;#34;/usr/bin/yum&amp;#34;, line 29, in &amp;lt;module&amp;gt;
 yummain.user_main(sys.argv[1:], exit_code=True)
 File &amp;#34;/usr/share/yum-cli/yummain.py&amp;#34;, line 365, in user_main
 errcode = main(args)
 File &amp;#34;/usr/share/yum-cli/yummain.py&amp;#34;, line 271, in main
 return_code = base.doTransaction()
 File &amp;#34;/usr/share/yum-cli/cli.py&amp;#34;, line 773, in doTransaction
 resultobject = self.runTransaction(cb=cb)
 File &amp;#34;/usr/lib/python2.7/site-packages/yum/__init__.py&amp;#34;, line 1736, in runTransaction
 if self.fssnap.available and ((self.conf.fssnap_automatic_pre or
 File &amp;#34;/usr/lib/python2.7/site-packages/yum/__init__.py&amp;#34;, line 1126, in &amp;lt;lambda&amp;gt;
 fssnap = property(fget=lambda self: self._getFSsnap(),
 File &amp;#34;/usr/lib/python2.7/site-packages/yum/__init__.py&amp;#34;, line 1062, in _getFSsnap
 devices=devices)
 File &amp;#34;/usr/lib/python2.7/site-packages/yum/fssnapshots.py&amp;#34;, line 158, in __init__
 self._vgnames = _list_vg_names() if self.available else []
 File &amp;#34;/usr/lib/python2.7/site-packages/yum/fssnapshots.py&amp;#34;, line 56, in _list_vg_names
 names = lvm.listVgNames()
lvm.LibLVMError: (0, &amp;#39;&amp;#39;)
&lt;/code>&lt;/pre>&lt;h2 id="è§£å†³æ–¹æ³•">
 è§£å†³æ–¹æ³•
 &lt;a class="anchor" href="#%e8%a7%a3%e5%86%b3%e6%96%b9%e6%b3%95">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>mkdir /tmp/down/
yum install --downloadonly --downloaddir=/tmp/down/ yum
cd /tmp/down/
rpm -Uvh *

yum clean metadata
yum clean all
&lt;/code>&lt;/pre></description></item><item><title>macos æ¢å¤launchpadé»˜è®¤å¸ƒå±€</title><link>https://notes.zhangwenbing.com/blog/macos/HJvNDli-4/</link><pubDate>Thu, 03 Jan 2019 02:49:14 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/macos/HJvNDli-4/</guid><description>&lt;blockquote>
&lt;p>åœ¨Mac OS ä¸­é‡ç½®Launchpadå¸ƒå±€&lt;/p>
&lt;/blockquote>
&lt;p>Launchpadå¯ä»¥ä½œä¸ºä»ç†Ÿæ‚‰çš„ç±»ä¼¼iOSçš„å›¾æ ‡ç½‘æ ¼ç•Œé¢åœ¨Macä¸Šæ‰“å¼€åº”ç”¨ç¨‹åºçš„å¿«æ·æ–¹å¼ã€‚å¦‚æœæ‚¨å·²ç»è‡ªå®šä¹‰äº†è¿™äº›åº”ç”¨ç¨‹åºå›¾æ ‡å¹¶åœ¨Launchpadä¸­è¿›è¡Œäº†æ’åˆ—ï¼Œé‚£ä¹ˆæ‚¨å¯èƒ½ä¼šå†³å®šä»å¤´å¼€å§‹å¹¶å°†å…¶é¡ºåºé‡ç½®ä¸ºé¦–æ¬¡è´­ä¹°Macæ—¶çš„æ˜¾ç¤ºæ–¹å¼ã€‚å¦‚æœè¦é‡æ–°æ’åˆ—Launchpadå›¾æ ‡çš„æ˜¾ç¤ºæ–¹å¼ï¼Œè¿™ä¹Ÿå¾ˆæœ‰ç”¨ï¼Œä½†ä½¿ç”¨Launchpadè§£å†³æŸäº›æ˜¾ç¤ºé”™è¯¯ä¹Ÿå¾ˆæœ‰å¸®åŠ©ï¼Œå°¤å…¶æ˜¯åœ¨å›¾æ ‡æœªæ˜¾ç¤ºæˆ–æ˜¾ç¤ºä¸æ­£ç¡®çš„æƒ…å†µä¸‹ã€‚&lt;/p></description></item><item><title>è®°ä¸€æ¬¡æ—¶é—´åŒæ­¥å¼•èµ·çš„æ•…éšœ</title><link>https://notes.zhangwenbing.com/blog/linux/B11j0sF-N/</link><pubDate>Wed, 02 Jan 2019 04:24:43 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/B11j0sF-N/</guid><description>&lt;blockquote>
&lt;p>ntpdateåŒæ­¥æ—¶é—´ï¼Œæ—¶é—´è·³è·ƒï¼Œå¼•èµ·æœåŠ¡ä¸­æ–­ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="è®¡åˆ’ä»»åŠ¡">
 è®¡åˆ’ä»»åŠ¡
 &lt;a class="anchor" href="#%e8%ae%a1%e5%88%92%e4%bb%bb%e5%8a%a1">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>0 4 * * * /usr/sbin/ntpdate 10.200.3.71
&lt;/code>&lt;/pre>&lt;h2 id="æ—¥å¿—">
 æ—¥å¿—
 &lt;a class="anchor" href="#%e6%97%a5%e5%bf%97">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>Dec 30 04:00:01 localhost systemd: Created slice user-0.slice.
Dec 30 04:00:01 localhost systemd: Starting user-0.slice.
Dec 30 04:00:01 localhost systemd: Started Session 16 of user root.
Dec 30 04:00:01 localhost systemd: Starting Session 16 of user root.
Dec 29 20:09:59 localhost systemd: Time has been changed
Dec 29 20:09:59 localhost systemd: Removed slice user-0.slice.
Dec 29 20:09:59 localhost systemd: Stopping user-0.slice.
&lt;/code>&lt;/pre>&lt;h2 id="æ•…éšœ">
 æ•…éšœ
 &lt;a class="anchor" href="#%e6%95%85%e9%9a%9c">#&lt;/a>
&lt;/h2>
&lt;p>å› ä¸ºè·³è·ƒçš„æ—¶é—´å¤ªå¤§ï¼Œå¯¼è‡´ç³»ç»Ÿçš„å„ç§æœåŠ¡ä¸­æ–­ï¼ˆç½‘ç»œä¸­æ–­å’Œsystemctlç®¡ç†çš„æœåŠ¡ä¹Ÿæœ‰é—®é¢˜ï¼‰ã€‚&lt;/p></description></item><item><title>ffmpegåŠ æ°´å°</title><link>https://notes.zhangwenbing.com/blog/ffmpeg/BkjYYAI3X/</link><pubDate>Wed, 31 Oct 2018 07:48:43 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/ffmpeg/BkjYYAI3X/</guid><description>&lt;blockquote>
&lt;p>FFmpegæ˜¯ä¸€å¥—å¯ä»¥ç”¨æ¥è®°å½•ã€è½¬æ¢æ•°å­—éŸ³é¢‘ã€è§†é¢‘ï¼Œå¹¶èƒ½å°†å…¶è½¬åŒ–ä¸ºæµçš„å¼€æºè®¡ç®—æœºç¨‹åºã€‚é‡‡ç”¨LGPLæˆ–GPLè®¸å¯è¯ã€‚å®ƒæä¾›äº†å½•åˆ¶ã€è½¬æ¢ä»¥åŠæµåŒ–éŸ³è§†é¢‘çš„å®Œæ•´è§£å†³æ–¹æ¡ˆã€‚å®ƒåŒ…å«äº†éå¸¸å…ˆè¿›çš„éŸ³é¢‘/è§†é¢‘ç¼–è§£ç åº“libavcodecï¼Œä¸ºäº†ä¿è¯é«˜å¯ç§»æ¤æ€§å’Œç¼–è§£ç è´¨é‡ï¼Œlibavcodecé‡Œå¾ˆå¤šcodeéƒ½æ˜¯ä»å¤´å¼€å‘çš„ã€‚&lt;/p></description></item><item><title>solr7.3.1å•æœºç‰ˆæ·»åŠ core</title><link>https://notes.zhangwenbing.com/blog/linux/SJ10UoTom/</link><pubDate>Wed, 24 Oct 2018 08:07:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/SJ10UoTom/</guid><description>&lt;blockquote>
&lt;p>Solræ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ä¼ä¸šçº§æœç´¢åº”ç”¨æœåŠ¡å™¨ï¼Œå®ƒå¯¹å¤–æä¾›ç±»ä¼¼äºWeb-serviceçš„APIæ¥å£ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡httpè¯·æ±‚ï¼Œå‘æœç´¢å¼•æ“æœåŠ¡å™¨æäº¤ä¸€å®šæ ¼å¼çš„XMLæ–‡ä»¶ï¼Œç”Ÿæˆç´¢å¼•ï¼›ä¹Ÿå¯ä»¥é€šè¿‡Http Getæ“ä½œæå‡ºæŸ¥æ‰¾è¯·æ±‚ï¼Œå¹¶å¾—åˆ°XMLæ ¼å¼çš„è¿”å›ç»“æœã€‚&lt;/p></description></item><item><title>solr-7.3.1 å•æœºå®‰è£…æ•™ç¨‹</title><link>https://notes.zhangwenbing.com/blog/linux/BkKKGWnsQ/</link><pubDate>Tue, 23 Oct 2018 02:26:38 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/BkKKGWnsQ/</guid><description>&lt;blockquote>
&lt;p>Solræ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ä¼ä¸šçº§æœç´¢åº”ç”¨æœåŠ¡å™¨ï¼Œå®ƒå¯¹å¤–æä¾›ç±»ä¼¼äºWeb-serviceçš„APIæ¥å£ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡httpè¯·æ±‚ï¼Œå‘æœç´¢å¼•æ“æœåŠ¡å™¨æäº¤ä¸€å®šæ ¼å¼çš„XMLæ–‡ä»¶ï¼Œç”Ÿæˆç´¢å¼•ï¼›ä¹Ÿå¯ä»¥é€šè¿‡Http Getæ“ä½œæå‡ºæŸ¥æ‰¾è¯·æ±‚ï¼Œå¹¶å¾—åˆ°XMLæ ¼å¼çš„è¿”å›ç»“æœã€‚&lt;/p></description></item><item><title>è§£å†³rabbitmqä¾èµ–é—®é¢˜</title><link>https://notes.zhangwenbing.com/blog/linux/HJJ4wWwim/</link><pubDate>Fri, 19 Oct 2018 07:30:49 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/HJJ4wWwim/</guid><description>&lt;blockquote>
&lt;p>MQå…¨ç§°ä¸ºMessage Queue, æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMQï¼‰æ˜¯ä¸€ç§åº”ç”¨ç¨‹åºå¯¹åº”ç”¨ç¨‹åºçš„é€šä¿¡æ–¹æ³•ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="é”™è¯¯æç¤º">
 é”™è¯¯æç¤º
 &lt;a class="anchor" href="#%e9%94%99%e8%af%af%e6%8f%90%e7%a4%ba">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>warning: rabbitmq-server-3.6.6-1.el6.noarch.rpm: Header V4 RSA/SHA1 Signature, key ID 6026dfca: NOKEYerror: Failed dependencies:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> erlang &amp;gt;&lt;span style="color:#f92672">=&lt;/span> R16B-03 is needed by rabbitmq-server-3.6.6-1.el6.noarch
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> socat is needed by rabbitmq-server-3.6.6-1.el6.noarch
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="è§£å†³æ–¹æ³•">
 è§£å†³æ–¹æ³•
 &lt;a class="anchor" href="#%e8%a7%a3%e5%86%b3%e6%96%b9%e6%b3%95">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>cd /etc/yum.repos.d/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cat erlang.repo
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span>erlang-solutions&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>name&lt;span style="color:#f92672">=&lt;/span>Centos $releasever - $basearch - Erlang Solutions
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>baseurl&lt;span style="color:#f92672">=&lt;/span>http://packages.erlang-solutions.com/rpm/centos/$releasever/$basearch
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>gpgcheck&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">0&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>gpgkey&lt;span style="color:#f92672">=&lt;/span>http://packages.erlang-solutions.com/debian/erlang_solutions.asc
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>enabled&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç„¶åå†å®‰è£…rabbitmq&lt;/p></description></item><item><title>grafanaé‡ç½®ç®¡ç†å‘˜å¯†ç </title><link>https://notes.zhangwenbing.com/blog/linux/SJWuUJwsQ/</link><pubDate>Fri, 19 Oct 2018 05:13:46 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/SJWuUJwsQ/</guid><description>&lt;blockquote>
&lt;p>Grafanaæ˜¯ä¸€ä¸ªå¯è§†åŒ–é¢æ¿ï¼ˆDashboardï¼‰ï¼Œæœ‰ç€éå¸¸æ¼‚äº®çš„å›¾è¡¨å’Œå¸ƒå±€å±•ç¤ºï¼ŒåŠŸèƒ½é½å…¨çš„åº¦é‡ä»ªè¡¨ç›˜å’Œå›¾å½¢ç¼–è¾‘å™¨ï¼Œæ”¯æŒGraphiteã€zabbixã€InfluxDBã€Prometheuså’ŒOpenTSDBä½œä¸ºæ•°æ®æºã€‚Grafanaä¸»è¦ç‰¹æ€§ï¼šçµæ´»ä¸°å¯Œçš„å›¾å½¢åŒ–é€‰é¡¹ï¼›å¯ä»¥æ··åˆå¤šç§é£æ ¼ï¼›æ”¯æŒç™½å¤©å’Œå¤œé—´æ¨¡å¼ï¼›å¤šä¸ªæ•°æ®æºã€‚&lt;/p></description></item><item><title>Linux bash æå–æ–‡ä»¶åå’Œç›®å½•å</title><link>https://notes.zhangwenbing.com/blog/linux/SJyvgQAOm/</link><pubDate>Tue, 18 Sep 2018 07:01:06 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/SJyvgQAOm/</guid><description>&lt;blockquote>
&lt;p>åœ¨Linux Bashä¸­åˆ†åˆ«ä½¿ç”¨basenameã€dirnameã€${}ï¼Œæå–æ–‡ä»¶åå’Œç›®å½•åã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="é€šè¿‡å˜é‡æ–¹å¼">
 é€šè¿‡å˜é‡æ–¹å¼
 &lt;a class="anchor" href="#%e9%80%9a%e8%bf%87%e5%8f%98%e9%87%8f%e6%96%b9%e5%bc%8f">#&lt;/a>
&lt;/h2>
&lt;p>${}ç”¨äºå­—ç¬¦ä¸²çš„è¯»å–ï¼Œæå–å’Œæ›¿æ¢åŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨${} æå–å­—ç¬¦ä¸²&lt;/p></description></item><item><title>ffmpeg 9:16å’Œ16:9äº’ç›¸è½¬æ¢</title><link>https://notes.zhangwenbing.com/blog/ffmpeg/Bki3dANDX/</link><pubDate>Thu, 30 Aug 2018 03:00:05 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/ffmpeg/Bki3dANDX/</guid><description>&lt;blockquote>
&lt;p>â€‹ä»Šå¤©æœé›†äº†ä¸€ä¸‹16:9å’Œ9:16ç›¸äº’è½¬æ¢çš„å‘½ä»¤ã€‚å°†å¤šä½™çš„éƒ¨åˆ†ç”¨æ¨¡ç³ŠèƒŒæ™¯å¡«å……ï¼Œæ„Ÿè§‰æ¯”ç›´æ¥åŠ é»‘è¾¹å¥½å¾ˆå¤šã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="169è½¬916">
 16:9è½¬9:16
 &lt;a class="anchor" href="#169%e8%bd%ac916">#&lt;/a>
&lt;/h2>
&lt;h3 id="å‘½ä»¤">
 å‘½ä»¤
 &lt;a class="anchor" href="#%e5%91%bd%e4%bb%a4">#&lt;/a>
&lt;/h3>
&lt;pre tabindex="0">&lt;code>ffmpeg -i input.mp4 -lavfi &amp;#34;[0:v]scale=256/81*iw:256/81*ih,boxblur=luma_radius=min(h\,w)/40:luma_power=3:chroma_radius=min(cw\,ch)/40:chroma_power=1[bg];[bg][0:v]overlay=(W-w)/2:(H-h)/2,setsar=1,crop=w=iw*81/256&amp;#34; output.mp4
&lt;/code>&lt;/pre>&lt;h3 id="æ•ˆæœ">
 æ•ˆæœ
 &lt;a class="anchor" href="#%e6%95%88%e6%9e%9c">#&lt;/a>
&lt;/h3>
&lt;p>&lt;img src="https://notes.zhangwenbing.com/static/uploads/Bki3dANDX/img/16-9_SJ0ij04w7.jpg" alt="16-9.jpg" />&lt;/p></description></item><item><title>nginx auth_basicç™»å½•éªŒè¯é‡åˆ°çš„å‘</title><link>https://notes.zhangwenbing.com/blog/linux/ByaB7yPSQ/</link><pubDate>Tue, 07 Aug 2018 09:26:11 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/ByaB7yPSQ/</guid><description>&lt;blockquote>
&lt;p>htpasswdé»˜è®¤ä½¿ç”¨crypt()åŠ å¯†ï¼Œåˆ›å»ºçš„å¯†ç åªæœ‰å‰8ä½æœ‰æ•ˆ&lt;/p>
&lt;/blockquote>
&lt;h2 id="é—®é¢˜">
 é—®é¢˜
 &lt;a class="anchor" href="#%e9%97%ae%e9%a2%98">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>htpasswd -c /etc/nginx/.htpasswd test
&lt;/code>&lt;/pre>&lt;p>å‡å¦‚ï¼Œå¯†ç ä¸ºabcd12345&lt;/p>
&lt;p>é‚£ä¹ˆåœ¨ç™»å½•çš„æ—¶å€™ï¼Œä¸ç®¡æ˜¯è¾“å…¥â€œabcd1234â€ã€â€abcd12345â€œæˆ–â€abcd123456789sdjkalâ€œ éƒ½èƒ½é€šè¿‡éªŒè¯ã€‚&lt;/p></description></item><item><title>solr oom_killer</title><link>https://notes.zhangwenbing.com/blog/linux/rJa7oi0EQ/</link><pubDate>Wed, 01 Aug 2018 04:18:18 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/rJa7oi0EQ/</guid><description>&lt;blockquote>
&lt;p>è®°å½•oom_solrè§¦å‘çš„é—®é¢˜åˆ†æåŠè§£å†³æ–¹æ³•&lt;/p>
&lt;/blockquote>
&lt;p>æ˜¨å¤©åœ¨æµ‹è¯•solr_cloudçš„æ—¶å€™ï¼Œçœ‹åˆ°$solr_home/logsä¸‹é¢æœ‰ä¸€ä¸ªè¿™æ ·çš„æ—¥å¿—&lt;/p>
&lt;pre tabindex="0">&lt;code>solr_oom_killer-8983-2018-07-31_10_45_56.log
&lt;/code>&lt;/pre>&lt;p>åˆšå¼€å§‹è¿˜ä»¥ä¸ºæ˜¯Linuxç³»ç»Ÿçš„oom_killer,ç„¶ååœ¨/var/log/messageä¸­æ‰¾æ—¥å¿—ï¼Œå‘ç°æ²¡æœ‰ï¼Œå½“æ—¶å°±å¥‡æ€ªäº†ï¼Œè§¦å‘äº†oom_killerä½†æ˜¯æ²¡è®°å½•æ—¥å¿—ï¼Ÿäºæ˜¯ç»è¿‡ä¸€ç•ªæŠ˜è…¾ç»ˆäºå‘ç°é—®é¢˜äº†ã€‚&lt;/p></description></item><item><title>centos6 heartbeatåŒæœºçƒ­å¤‡</title><link>https://notes.zhangwenbing.com/blog/linux/Skl7i90EQ/</link><pubDate>Wed, 01 Aug 2018 02:54:29 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/Skl7i90EQ/</guid><description>&lt;blockquote>
&lt;p>heartbeat ï¼ˆLinux-HAï¼‰çš„å·¥ä½œåŸç†ï¼šheartbeatæœ€æ ¸å¿ƒçš„åŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†ï¼Œå¿ƒè·³ç›‘æµ‹éƒ¨åˆ†å’Œèµ„æºæ¥ç®¡éƒ¨åˆ†ï¼Œå¿ƒè·³ç›‘æµ‹å¯ä»¥é€šè¿‡ç½‘ç»œé“¾è·¯å’Œä¸²å£è¿›è¡Œï¼Œè€Œä¸”æ”¯æŒå†— ä½™é“¾è·¯ï¼Œå®ƒä»¬ä¹‹é—´ç›¸äº’å‘é€æŠ¥æ–‡æ¥å‘Šè¯‰å¯¹æ–¹è‡ªå·±å½“å‰çš„çŠ¶æ€ï¼Œå¦‚æœåœ¨æŒ‡å®šçš„æ—¶é—´å†…æœªæ”¶åˆ°å¯¹æ–¹å‘é€çš„æŠ¥æ–‡ï¼Œé‚£ä¹ˆå°±è®¤ä¸ºå¯¹æ–¹å¤±æ•ˆï¼Œè¿™æ—¶éœ€å¯åŠ¨èµ„æºæ¥ç®¡æ¨¡å—æ¥æ¥ç®¡è¿ è¡Œåœ¨å¯¹æ–¹ä¸»æœºä¸Šçš„èµ„æºæˆ–è€…æœåŠ¡ã€‚&lt;/p></description></item><item><title>ffmpegè¾“å‡ºè‹¹æœç¼–ç æ ¼å¼prores</title><link>https://notes.zhangwenbing.com/blog/ffmpeg/SkuD1wO4X/</link><pubDate>Fri, 27 Jul 2018 09:05:04 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/ffmpeg/SkuD1wO4X/</guid><description>&lt;blockquote>
&lt;p>ffmpegè¾“å‡ºè‹¹æœç¼–ç æ ¼å¼proresã€‚åˆ†è¾¨ç‡1080pï¼Œ25å¸§ï¼Œ5ä¸ªéŸ³è½¨ã€‚&lt;/p>
&lt;/blockquote>
&lt;pre tabindex="0">&lt;code>ffmpeg -i 06æ— å­—å¹•mp4-ä½¿ç”¨æ­¤è§†é¢‘çš„ç”»é¢.mp4 -i 06æœ‰å­—å¹•-ä½¿ç”¨æ­¤è§†é¢‘çš„å›½é™…éŸ³è½¨.mov -map 0:v -s 1920x1080 -r 25 -c:v prores_ks -profile:v 3 -pix_fmt yuv422p10le -map 1:1 -acodec pcm_s24le -ar 48000 -ac 1 -map 1:2 -acodec pcm_s24le -ar 48000 -ac 1 -map 1:3 -acodec pcm_s24le -ar 48000 -ac 1 -map 1:4 -acodec pcm_s24le -ar 48000 -ac 1 -map 1:5 -acodec pcm_s24le -ar 48000 -ac 1 06-out.mov
&lt;/code>&lt;/pre></description></item><item><title>ffmbcè½¬ç è¾“å‡ºDVCPRO HD</title><link>https://notes.zhangwenbing.com/blog/ffmpeg/SJkrWTUVm/</link><pubDate>Thu, 26 Jul 2018 03:40:55 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/ffmpeg/SJkrWTUVm/</guid><description>&lt;blockquote>
&lt;p>ä½¿ç”¨ffmbcå¤šçº¿ç¨‹è½¬ç è¾“å‡ºDVCPRO HDã€‚åˆ†è¾¨ç‡ä¸º1440x1080ï¼Œéš”è¡Œæ‰«æã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="ä¸€">
 ä¸€
 &lt;a class="anchor" href="#%e4%b8%80">#&lt;/a>
&lt;/h2>
&lt;p>å°†ä¸€ä¸ªåŒå£°é“éŸ³è½¨å¤åˆ¶è¾“å‡ºæˆä¸¤ä¸ªå•å£°é“éŸ³è½¨&lt;/p>
&lt;pre tabindex="0">&lt;code>ffmbc -y -threads 8 -i æµ·å¤–å‘è¡Œæµ‹è¯•æºæ–‡ä»¶0726.mp4 -target dvcprohd -tff -an æµ·å¤–å‘è¡Œæµ‹è¯•æºæ–‡ä»¶0726-out.mxf -acodec pcm_s24le -ar 48000 -ac 1 -newaudio -acodec pcm_s24le -ar 48000 -newaudio -acodec pcm_s24le -ar 48000
&lt;/code>&lt;/pre>&lt;h2 id="äºŒ">
 äºŒ
 &lt;a class="anchor" href="#%e4%ba%8c">#&lt;/a>
&lt;/h2>
&lt;p>å°†ä¸€ä¸ªåŒå£°é“éŸ³è½¨å¤åˆ¶æ‹†åˆ†æˆä¸¤ä¸ªå·¦å³å•å£°é“éŸ³è½¨&lt;/p></description></item><item><title>solrcloudä¸Šä¼ é…ç½®æ–‡ä»¶</title><link>https://notes.zhangwenbing.com/blog/linux/S1ywxQEN7/</link><pubDate>Tue, 24 Jul 2018 04:15:05 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/S1ywxQEN7/</guid><description>&lt;blockquote>
&lt;p>ä½¿ç”¨solrè‡ªå¸¦çš„å·¥å…·zkcli.shä¸Šä¼ é…ç½®æ–‡ä»¶&lt;/p>
&lt;/blockquote>
&lt;pre tabindex="0">&lt;code>chmod +x /opt/solr/server/scripts/cloud-scripts/zkcli.sh
cp -r /opt/solr-7.3.1/server/solr/configsets/_default/conf /opt/solr-7.3.1/server/solr/_test1b/
/opt/solr/server/scripts/cloud-scripts/zkcli.sh -cmd upconfig -zkhost 10.1.201.49:2181,10.1.201.50:2181 -confname test1b -confdir /opt/solr-7.3.1/server/solr/_test1b/
&lt;/code>&lt;/pre>&lt;p>å¤åˆ¶çš„æ—¶å€™ä¸€å®šè¦å¤åˆ¶server/solr/configsets/_default/confç›®å½•ï¼Œè€Œä¸æ˜¯server/solr/configsets/_default&lt;/p></description></item><item><title>Schema Parsing Failed: unknown field id [Zookeeper, SolrCloud]</title><link>https://notes.zhangwenbing.com/blog/linux/HkgnaWVNm/</link><pubDate>Tue, 24 Jul 2018 02:31:15 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/HkgnaWVNm/</guid><description>&lt;blockquote>
&lt;p>ä¸å°å¿ƒåˆ é™¤solrçš„ä¸»é”®idï¼Œå¯¼è‡´æŠ¥é”™Schema Parsing Failed: unknown field â€˜idâ€™&lt;/p>
&lt;/blockquote>
&lt;h2 id="é—®é¢˜æè¿°">
 é—®é¢˜æè¿°
 &lt;a class="anchor" href="#%e9%97%ae%e9%a2%98%e6%8f%8f%e8%bf%b0">#&lt;/a>
&lt;/h2>
&lt;p>Schema Parsing Failed: unknown field â€˜idâ€™&lt;/p>
&lt;h2 id="è§£å†³æ–¹æ³•">
 è§£å†³æ–¹æ³•
 &lt;a class="anchor" href="#%e8%a7%a3%e5%86%b3%e6%96%b9%e6%b3%95">#&lt;/a>
&lt;/h2>
&lt;p>å…³é—­zookeeperã€solræœåŠ¡å¹¶åˆ é™¤zookeeperæ•°æ®ï¼Œç„¶åé‡æ–°å¯åŠ¨zookeeperã€solræœåŠ¡ã€‚&lt;/p></description></item><item><title>Nginxçš„connect() to xxx failed (13: Permission denied) å’Œ Nginx 403 forbidden</title><link>https://notes.zhangwenbing.com/blog/linux/HJlvWaG47/</link><pubDate>Mon, 23 Jul 2018 02:53:40 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/HJlvWaG47/</guid><description>&lt;blockquote>
&lt;p>è§£å†³Nginxçš„connect() to xxx failed (13: Permission denied) å’Œ Nginx 403 forbidden é”™è¯¯&lt;/p>
&lt;/blockquote>
&lt;h2 id="æŸ¥çœ‹selinuxçŠ¶æ€">
 æŸ¥çœ‹SeLinuxçŠ¶æ€
 &lt;a class="anchor" href="#%e6%9f%a5%e7%9c%8bselinux%e7%8a%b6%e6%80%81">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>getenforce
&lt;/code>&lt;/pre>&lt;p>å¦‚æœæ˜¯enabledåˆ™ç»§ç»­å¾€ä¸‹çœ‹ã€‚&lt;/p>
&lt;h2 id="ä¸´æ—¶å…³é—­ä¸éœ€è¦é‡å¯æœºå™¨">
 ä¸´æ—¶å…³é—­ï¼ˆä¸éœ€è¦é‡å¯æœºå™¨ï¼‰
 &lt;a class="anchor" href="#%e4%b8%b4%e6%97%b6%e5%85%b3%e9%97%ad%e4%b8%8d%e9%9c%80%e8%a6%81%e9%87%8d%e5%90%af%e6%9c%ba%e5%99%a8">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>setenforce 0
&lt;/code>&lt;/pre>&lt;h2 id="ä¿®æ”¹é…ç½®">
 ä¿®æ”¹é…ç½®
 &lt;a class="anchor" href="#%e4%bf%ae%e6%94%b9%e9%85%8d%e7%bd%ae">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>vim /etc/selinux/config #å°†SELINUX=enforcingæ”¹ä¸ºSELINUX=disabled
&lt;/code>&lt;/pre>&lt;p>å¦‚æœä½ æ‰§è¡Œäº†ä¸´æ—¶å…³é—­SeLinuxå¹¶æœºå™¨ä¸Šè·‘äº†é‡è¦çš„ä¸šåŠ¡ï¼Œé‚£å¯ä»¥ä¸éœ€è¦é©¬ä¸Šé‡å¯æœºå™¨ï¼Œç­‰å¾…ä¸‹æ¬¡é‡å¯é…ç½®ç”Ÿæ•ˆå³å¯ã€‚&lt;/p></description></item><item><title>XDCAM HD422 MXF</title><link>https://notes.zhangwenbing.com/blog/ffmpeg/Hy8NTRZmm/</link><pubDate>Tue, 10 Jul 2018 07:25:03 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/ffmpeg/Hy8NTRZmm/</guid><description>&lt;blockquote>
&lt;p>åˆ†åˆ«ä½¿ç”¨ffmpeg ffmbc å®ç° è¾“å‡ºXDCAM HD422 MXFæ–‡ä»¶&lt;/p>
&lt;/blockquote>
&lt;h2 id="ffmpeg">
 ffmpeg
 &lt;a class="anchor" href="#ffmpeg">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>ffmpeg -i test.mov -pix_fmt yuv422p -vcodec mpeg2video -non_linear_quant 1 -flags +ildct+ilme -top 1 -dc 10 -intra_vlc 1 -qmax 3 -lmin &amp;#34;1*QP2LAMBDA&amp;#34; -vtag xd5c -rc_max_vbv_use 1 -rc_min_vbv_use 1 -g 12 -b:v 50000k -minrate 50000k -maxrate 50000k -bufsize 8000k -acodec pcm_s16le -ar 48000 -bf 2 -ac 2 -f mxf_d10 output.mxf
&lt;/code>&lt;/pre>&lt;h2 id="ffmbc">
 ffmbc
 &lt;a class="anchor" href="#ffmbc">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>ffmbc -y -threads 8 -i å…ˆå¯¼ç‰‡.mp4 -target xdcamhd422 -tff -acodec pcm_s24le å…ˆå¯¼ç‰‡-out.mov
&lt;/code>&lt;/pre></description></item><item><title>nginx+rtmp+hlsç›´æ’­æ¨æµ</title><link>https://notes.zhangwenbing.com/blog/ffmpeg/BkPsvPiGm/</link><pubDate>Thu, 05 Jul 2018 10:04:28 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/ffmpeg/BkPsvPiGm/</guid><description>&lt;blockquote>
&lt;p>æºç ç¼–è¯‘nginx+rtmp+hlsï¼Œå¹¶é™„å¸¦nginxé…ç½®æ–‡ä»¶ã€æ¨æµçš„æ–¹å¼åŠæ’­æ”¾æ–¹æ³•ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="nginx">
 nginx
 &lt;a class="anchor" href="#nginx">#&lt;/a>
&lt;/h2>
&lt;h3 id="ç¼–è¯‘">
 ç¼–è¯‘
 &lt;a class="anchor" href="#%e7%bc%96%e8%af%91">#&lt;/a>
&lt;/h3>
&lt;pre tabindex="0">&lt;code>wget http://nginx.org/download/nginx-1.14.0.tar.gz
wget https://github.com/arut/nginx-rtmp-module/archive/v1.2.1.tar.gz
wget http://zlib.net/zlib-1.2.11.tar.gz
wget
#å…¨éƒ¨è§£å‹å¹¶ç¼–è¯‘nginx
./configure --sbin-path=/usr/local/nginx/nginx --conf-path=/usr/local/nginx/nginx.conf --pid-path=/usr/local/nginx/nginx.pid --with-http_ssl_module --with-pcre=/opt/app/openet/oetal1/chenhe/pcre-8.37 --with-zlib=/opt/app/openet/oetal1/chenhe/zlib-1.2.8 --with-openssl=/opt/app/openet/oetal1/chenhe/openssl-1.0.1t --add-module=../nginx-rtmp-module
&lt;/code>&lt;/pre>&lt;h3 id="é…ç½®">
 é…ç½®
 &lt;a class="anchor" href="#%e9%85%8d%e7%bd%ae">#&lt;/a>
&lt;/h3>
&lt;pre tabindex="0">&lt;code>worker_processes auto;

error_log logs/error.log debug;

events {
 worker_connections 1024;
}

rtmp {
 server {
 listen 1935;
 chunk_size 4000;

 application myapp {
 live on;
 }

 application hls {
 live on;
 hls on;
 hls_path /data/y/ngnix/hls;
 hls_playlist_length 1d;
 hls_sync 100ms;
 hls_continuous on;
 hls_fragment 8s;
 }
 }
}

http {
 server {
 listen 80;

 location / {
 root html;
 }

 location /stat {
 rtmp_stat all;
 rtmp_stat_stylesheet stat.xsl;
 }

 location /stat.xsl {
 root html;
 }

 location /hls {
 add_header Access-Control-Allow-Origin *;
 add_header Access-Control-Allow-Headers &amp;#34;Origin, X-Requested-With, Content-Type, Accept&amp;#34;;
 add_header Access-Control-Allow-Methods &amp;#34;GET, POST, OPTIONS&amp;#34;;
 #server hls fragments
 types{
 application/vnd.apple.mpegurl m3u8;
 video/mp2t ts;
 }
 alias /data/y/ngnix/hls;
 expires -1;
 }
 }
}
&lt;/code>&lt;/pre>&lt;h2 id="æ¨æµ">
 æ¨æµ
 &lt;a class="anchor" href="#%e6%8e%a8%e6%b5%81">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>#RTMPæ–¹å¼
/opt/ffmpeg/bin/ffmpeg -re -i &amp;#34;/home/1.mp4&amp;#34; -vcodec libx264 -vprofile baseline -acodec aac -ar 44100 -strict -2 -ac 1 -f flv -s 1280x720 -q 10 rtmp://127.0.0.1:1935/myapp/test1
#HTTPæ–¹å¼
/opt/ffmpeg/bin/ffmpeg -re -i &amp;#34;/home/2.mp4&amp;#34; -vcodec libx264 -vprofile baseline -acodec aac -ar 44100 -strict -2 -ac 1 -f flv -s 1280x720 -q 10 rtmp://127.0.0.1:1935/hls/test2
&lt;/code>&lt;/pre>&lt;p>å…·ä½“å‚æ•°å¯æ ¹æ®è‡ªå·±çš„éœ€æ±‚è°ƒæ•´&lt;/p></description></item><item><title>åˆ é™¤é™¤link(è½¯è¿æ¥)å¯¹åº”çš„æ–‡ä»¶ä»¥å¤–çš„æ‰€æœ‰æ–‡ä»¶</title><link>https://notes.zhangwenbing.com/blog/linux/H10wzCxGX/</link><pubDate>Wed, 27 Jun 2018 09:08:21 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/H10wzCxGX/</guid><description>&lt;blockquote>
&lt;p>ä½¿ç”¨findå’Œreadlinkåˆ é™¤é™¤link(è½¯è¿æ¥)å¯¹åº”çš„æ–‡ä»¶ä»¥å¤–çš„æ‰€æœ‰æ–‡ä»¶ï¼Œä¸€èˆ¬ç”¨äºè‡ªåŠ¨åˆ é™¤æ—¥å¿—æ–‡ä»¶ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="è„šæœ¬">
 è„šæœ¬
 &lt;a class="anchor" href="#%e8%84%9a%e6%9c%ac">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>#!/bin/bash

linkArr=`find $1 -type l -exec readlink {} \;`
fileArr=`find $1 -type f -name &amp;#34;*${2}*&amp;#34;`

for f in $fileArr;do
 isLink=false
 for l in $linkArr;do
 #åˆ¤æ–­å½“å‰æ–‡ä»¶æ˜¯å¦ä¸ºlinkå¯¹åº”çš„æ–‡ä»¶
 if [ &amp;#34;${f##*/}&amp;#34; == &amp;#34;$l&amp;#34; ];then
 isLink=true
 break
 fi
 done
 if [ $isLink == false ];then
 rm -f $f
 fi
done
&lt;/code>&lt;/pre>&lt;h2 id="è¯´æ˜">
 è¯´æ˜
 &lt;a class="anchor" href="#%e8%af%b4%e6%98%8e">#&lt;/a>
&lt;/h2>
&lt;h3 id="åŠŸèƒ½">
 åŠŸèƒ½
 &lt;a class="anchor" href="#%e5%8a%9f%e8%83%bd">#&lt;/a>
&lt;/h3>
&lt;p>åˆ é™¤é™¤linkå¯¹åº”çš„æ–‡ä»¶ä»¥å¤–çš„æ‰€æœ‰æ–‡ä»¶&lt;/p></description></item><item><title>mac homebrewå¸¸ç”¨å‘½ä»¤</title><link>https://notes.zhangwenbing.com/blog/macos/BkWmi6d-7/</link><pubDate>Thu, 21 Jun 2018 06:58:24 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/macos/BkWmi6d-7/</guid><description>&lt;blockquote>
&lt;p>brewå¸¸ç”¨çš„ä¸€äº›å‘½ä»¤&lt;/p>
&lt;/blockquote>
&lt;ol>
&lt;li>
&lt;p>å®‰è£…ï¼šruby -e â€œ$(curl -fsSL &lt;a href="https://raw.github.com/Homebrew/homebrew/go/install">https://raw.github.com/Homebrew/homebrew/go/install&lt;/a>)â€&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æœç´¢ï¼šbrew search XXX åœ¨å®‰è£…ä¹‹å‰å¯ä»¥å…ˆæŸ¥è¯¢ä¸€ä¸‹ï¼Œæ˜¯å¦æœ‰è¿™ä¸ªè½¯ä»¶&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æŸ¥è¯¢ï¼šbrew info XXX ä¸»è¦çœ‹å…·ä½“çš„ä¿¡æ¯ï¼Œæ¯”å¦‚ç›®å‰çš„ç‰ˆæœ¬ï¼Œä¾èµ–ï¼Œå®‰è£…åæ³¨æ„äº‹é¡¹ç­‰&lt;/p></description></item><item><title>GoToShell</title><link>https://notes.zhangwenbing.com/blog/macos/ry29U6xW7/</link><pubDate>Fri, 15 Jun 2018 05:03:06 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/macos/ry29U6xW7/</guid><description>&lt;blockquote>
&lt;p>ä¸€ä¸ªåœ¨Finderä¸­å¿«é€Ÿæ‰“å¼€hyperã€iTerm2ã€Terminalã€vscodeå’Œæ–°å»ºæ–‡ä»¶çš„å°å·¥å…·&lt;/p>
&lt;/blockquote>
&lt;h2 id="ç®€ä»‹">
 ç®€ä»‹
 &lt;a class="anchor" href="#%e7%ae%80%e4%bb%8b">#&lt;/a>
&lt;/h2>
&lt;p>å¯ä»¥å¿«é€Ÿæ‰“å¼€å¸¸è§çš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨ï¼Œå¹¶åˆ‡æ¢åˆ°å½“å‰finderæ‰€åœ¨çš„ç›®å½•ã€‚&lt;/p></description></item><item><title>centos 6 æ­å»º SolrCloud 7.3.1 é›†ç¾¤æœåŠ¡</title><link>https://notes.zhangwenbing.com/blog/linux/S1cZ9qilm/</link><pubDate>Mon, 11 Jun 2018 07:10:59 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/S1cZ9qilm/</guid><description>&lt;blockquote>
&lt;p>Solræ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ä¼ä¸šçº§æœç´¢åº”ç”¨æœåŠ¡å™¨ï¼Œå®ƒå¯¹å¤–æä¾›ç±»ä¼¼äºWeb-serviceçš„APIæ¥å£ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡httpè¯·æ±‚ï¼Œå‘æœç´¢å¼•æ“æœåŠ¡å™¨æäº¤ä¸€å®šæ ¼å¼çš„XMLæ–‡ä»¶ï¼Œç”Ÿæˆç´¢å¼•ï¼›ä¹Ÿå¯ä»¥é€šè¿‡Http Getæ“ä½œæå‡ºæŸ¥æ‰¾è¯·æ±‚ï¼Œå¹¶å¾—åˆ°XMLæ ¼å¼çš„è¿”å›ç»“æœã€‚&lt;/p></description></item><item><title>macç»ˆç«¯ï¼ˆiterm2ï¼‰ä»£ç†</title><link>https://notes.zhangwenbing.com/blog/macos/SkOqdFUxX/</link><pubDate>Thu, 07 Jun 2018 10:39:20 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/macos/SkOqdFUxX/</guid><description>&lt;blockquote>
&lt;p>ä¸€ä¸ªç®€å•çš„è„šæœ¬ï¼Œå®ç°ç»ˆç«¯socks5ä»£ç†ã€‚&lt;/p>
&lt;/blockquote>
&lt;pre tabindex="0">&lt;code>å¼€å§‹æ˜¯æ‰“ç®—ä½¿ç”¨â€œproxychains4â€çš„ï¼Œä½†æ˜¯éœ€è¦å…³é—­SIPåŠŸèƒ½(System Integrity Protection)ï¼Œä½œä¸ºä¸€ä¸ªæ³¨é‡ç³»ç»Ÿå®‰å…¨çš„ç”¨æˆ·ï¼Œæ€ä¹ˆèƒ½å…³é—­è¿™ä¸ªSIPå‘¢ï¼Œäºæ˜¯åªèƒ½å¦è¾Ÿè¹Šå¾„äº†ã€‚æœ€åæ‰¾åˆ°ä½¿ç”¨shell çš„ä»£ç†ç¯å¢ƒå˜é‡æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

$ cat /usr/local/bin/pc
#!/bin/bash
export http_proxy=socks5://127.0.0.1:1086
export https_proxy=$http_proxy
$@

$ chmod +x /usr/local/bin/pc

$ #éœ€è¦ä½¿ç”¨ä»£ç†çš„æ—¶å€™
$ pc curl www.google.com

æ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Œæ„Ÿè§‰æ¯”â€œproxychains4â€ç®€å•æ–¹ä¾¿å¤šäº†ï¼Œè€Œä¸”è¿˜ä¸è¦å…³é—­SIPã€‚ç†è®ºä¸ŠLinuxä¸‹ä¹Ÿæ˜¯å¯è¡Œçš„ï¼Œä½†æ˜¯æ²¡æœ‰æµ‹è¯•ã€‚
&lt;/code>&lt;/pre></description></item><item><title>mac os pkgè§£åŒ…</title><link>https://notes.zhangwenbing.com/blog/macos/BkHOYBUgX/</link><pubDate>Thu, 07 Jun 2018 06:06:25 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/macos/BkHOYBUgX/</guid><description>&lt;blockquote>
&lt;p>jdk1.8.pkgè§£åŒ…&lt;/p>
&lt;/blockquote>
&lt;p>æ¯æ¬¡å®‰è£…Javaçš„æ—¶å€™ï¼Œéƒ½æ˜¯ä¸€ä¸ªpkgå®‰è£…åŒ…ï¼Œæ²¡æœ‰åƒlinuxä¸‹ç›´æ¥ä¸€ä¸ªtaråŒ…é‚£æ ·ç»¿è‰²å’Œæ–¹ä¾¿ã€‚äºæ˜¯googleæœç´¢ä¸€ä¸‹ï¼Œç»ˆäºæ‰¾åˆ°è§£å†³çš„æ–¹æ³•äº†ã€‚&lt;/p></description></item><item><title>Mediainfoå¼€å¯http ftpæ”¯æŒ</title><link>https://notes.zhangwenbing.com/blog/linux/H1BwMFoy7/</link><pubDate>Wed, 30 May 2018 01:48:13 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/H1BwMFoy7/</guid><description>&lt;blockquote>
&lt;p>Libcurl support is disabled due to compilation options&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>./CLI_Compile.sh --with-libcurl
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>AAC åˆ° PCM éŸ³é¢‘è§£ç </title><link>https://notes.zhangwenbing.com/blog/ffmpeg/HJbQ88N980f/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/ffmpeg/HJbQ88N980f/</guid><description>&lt;blockquote>
&lt;p>æœ€è¿‘é‡åˆ°åœ¨ iOS å¹³å°ä¸Šå®æ—¶æ’­æ”¾ AAC éŸ³é¢‘æ•°æ®æµ, ä¸€å¼€å§‹å°è¯•ç”¨ AudioQueue ç›´æ¥è§£ AAC æœªæœ, è½¬è€Œå°† AAC è§£ç ä¸º PCM,&lt;/p>
&lt;p>æœ€ç»ˆå®â€¦&lt;/p>
&lt;p>æœ€è¿‘é‡åˆ°åœ¨ iOS å¹³å°ä¸Šå®æ—¶æ’­æ”¾ AAC éŸ³é¢‘æ•°æ®æµ, ä¸€å¼€å§‹å°è¯•ç”¨ AudioQueue ç›´æ¥è§£ AAC æœªæœ, è½¬è€Œå°† AAC è§£ç ä¸º PCM,&lt;/p></description></item><item><title>centos7 rdate æ—¶é—´åŒæ­¥æœåŠ¡</title><link>https://notes.zhangwenbing.com/blog/linux/rJY7U8E9U0z/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/rJY7U8E9U0z/</guid><description>&lt;h2 id="å®‰è£…è½¯ä»¶">
 å®‰è£…è½¯ä»¶
 &lt;a class="anchor" href="#%e5%ae%89%e8%a3%85%e8%bd%af%e4%bb%b6">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>yum install -y xinetd rdate
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ä¿®æ”¹é…åˆ¶">
 ä¿®æ”¹é…åˆ¶
 &lt;a class="anchor" href="#%e4%bf%ae%e6%94%b9%e9%85%8d%e5%88%b6">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>vim /etc/xinetd.d/time-stream
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># å°†disable = yes æ”¹ä¸º disable = no&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å¯åŠ¨æœåŠ¡">
 å¯åŠ¨æœåŠ¡
 &lt;a class="anchor" href="#%e5%90%af%e5%8a%a8%e6%9c%8d%e5%8a%a1">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># å¯åŠ¨xinetd&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>systemctl start xinetd
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># æ·»åŠ å¼€å¯å¯åŠ¨&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>systemctl enable xinetd
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="åŒæ­¥æ—¶é—´">
 åŒæ­¥æ—¶é—´
 &lt;a class="anchor" href="#%e5%90%8c%e6%ad%a5%e6%97%b6%e9%97%b4">#&lt;/a>
&lt;/h2>
&lt;h3 id="æœåŠ¡ç«¯">
 æœåŠ¡ç«¯
 &lt;a class="anchor" href="#%e6%9c%8d%e5%8a%a1%e7%ab%af">#&lt;/a>
&lt;/h3>
&lt;p>é¦–å…ˆåœ¨æœåŠ¡ç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼ˆåˆ°åº•å“ªä¸ªæ˜¯æœåŠ¡ç«¯å‘¢ï¼Ÿå°±æ˜¯ä½ åœ¨å“ªå°æœºå™¨ä¸Šé¢æ‰§è¡Œäº†ä»¥ä¸Šä¸‰ä¸ªæ­¥éª¤å°±æ˜¯æœåŠ¡ç«¯ï¼‰ï¼Œåœ¨æœåŠ¡ç«¯ä¸ŠåŒæ­¥ç½‘ç»œæ ‡å‡†æ—¶é—´ï¼Œç„¶åå†åŒæ­¥åˆ°å†…ç½‘å„å°æœºå™¨ä¸Šã€‚&lt;/p></description></item><item><title>centos7 åŒipç­–ç•¥è·¯ç”±é…ç½®æ–¹æ³•</title><link>https://notes.zhangwenbing.com/blog/linux/HyEL84qI0M/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/HyEL84qI0M/</guid><description>&lt;blockquote>
&lt;p>æœåŠ¡å™¨é…ç½®å¤šç½‘å¡å¤šç½‘å…³æ—¶ï¼Œä¸ºäº†é¿å…æ—¶ä¸æ—¶çš„å»æ·»åŠ ç›¸å…³å›ç¨‹è·¯ç”±ï¼Œå› æ­¤éœ€è¦é…ç½®ä¸€ä¸‹ç­–ç•¥è·¯ç”±ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>åŸæ–‡åœ°å€ &lt;a href="https://blog.csdn.net/pyxllq/article/details/105817064">blog.csdn.net&lt;/a>&lt;/p>
&lt;p>æœåŠ¡å™¨ç³»ç»Ÿç‰ˆæœ¬ï¼šCentOS Linux release 7.3.1611&lt;/p>
&lt;h2 id="1æ·»åŠ è·¯ç”±è¡¨">
 1.æ·»åŠ è·¯ç”±è¡¨
 &lt;a class="anchor" href="#1%e6%b7%bb%e5%8a%a0%e8%b7%af%e7%94%b1%e8%a1%a8">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>vi /etc/iproute2/rt_tables
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>101Â  Â  Â innerRoute
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>102Â  Â  Â globalRoute
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="2-æ·»åŠ è·¯ç”±é…ç½®è„šæœ¬">
 2. æ·»åŠ è·¯ç”±é…ç½®è„šæœ¬
 &lt;a class="anchor" href="#2-%e6%b7%bb%e5%8a%a0%e8%b7%af%e7%94%b1%e9%85%8d%e7%bd%ae%e8%84%9a%e6%9c%ac">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>ip route flush table globalRoute
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ip rule add dev eth1 table globalRoute
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">if&lt;/span> ! ip rule show | grep x.x.x.x ; &lt;span style="color:#66d9ef">then&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ip rule add from x.x.x.x table globalRoute
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ip route add default via y.y.y.y dev eth1 table globalRoute
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ip route flush table innerRoute
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ip rule add dev eth2 table innerRoute
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">if&lt;/span> ! ip rule show | grep 172.16.x.x ; &lt;span style="color:#66d9ef">then&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ip rule add from 172.16.x.x table innerRoute
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ip route add default via 172.16.y.y dev eth2 table innerRoute
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¸Šé¢ x.x.x.x æ˜¯é…ç½®åœ¨ç½‘å£ eth1 ä¸Šçš„ ipï¼Œy.y.y.y æ˜¯è¯¥ ip çš„ç½‘å…³ï¼Œ172.16.x.x æ˜¯ eth2 çš„ ipï¼Œæˆ‘è¿™é‡Œæ˜¯å†…ç½‘ ipï¼Œ172.16.y.y æ˜¯ 172 ç½‘å…³çš„ç½‘å…³ã€‚&lt;/p></description></item><item><title>centos7 ä¿®æ”¹å†…æ ¸å¼•å¯¼é¡ºåº</title><link>https://notes.zhangwenbing.com/blog/linux/rytGLI49LCf/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/rytGLI49LCf/</guid><description>&lt;blockquote>
&lt;p>none&lt;/p>
&lt;/blockquote>
&lt;h2 id="æŸ¥çœ‹å†…æ ¸">
 æŸ¥çœ‹å†…æ ¸
 &lt;a class="anchor" href="#%e6%9f%a5%e7%9c%8b%e5%86%85%e6%a0%b8">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>cat /boot/grub2/grub.cfg |grep menuentry

menuentry &amp;#39;CentOS Linux (3.10.0-327.36.3.el7.x86_64) 7 (Core)&amp;#39; --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option &amp;#39;gnulinux-3.10.0-327.el7.x86_64-advanced-80b9b662-0a1d-4e84-b07b-c1bf19e72d97&amp;#39; {
menuentry &amp;#39;CentOS Linux (3.10.0-327.22.2.el7.x86_64) 7 (Core)&amp;#39; --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option &amp;#39;gnulinux-3.10.0-327.el7.x86_64-advanced-80b9b662-0a1d-4e84-b07b-c1bf19e72d97&amp;#39; {
menuentry &amp;#39;CentOS Linux (3.10.0-327.el7.x86_64) 7 (Core)&amp;#39; --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option &amp;#39;gnulinux-3.10.0-327.el7.x86_64-advanced-80b9b662-0a1d-4e84-b07b-c1bf19e72d97&amp;#39; {
menuentry &amp;#39;CentOS Linux (0-rescue-7d26c16f128042a684ea474c9e2c240f) 7 (Core)&amp;#39; --class centos --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option &amp;#39;gnulinux-0-rescue-7d26c16f128042a684ea474c9e2c240f-advanced-80b9b662-0a1d-4e84-b07b-c1bf19e72d97&amp;#39;
&lt;/code>&lt;/pre>&lt;h2 id="ä¿®æ”¹é»˜è®¤">
 ä¿®æ”¹é»˜è®¤
 &lt;a class="anchor" href="#%e4%bf%ae%e6%94%b9%e9%bb%98%e8%ae%a4">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>grub2-set-default &amp;#34;CentOS Linux (3.10.0-327.22.2.el7.x86_64) 7 (Core)&amp;#34;
&lt;/code>&lt;/pre>&lt;h2 id="æŸ¥çœ‹ç”Ÿæ•ˆ">
 æŸ¥çœ‹ç”Ÿæ•ˆ
 &lt;a class="anchor" href="#%e6%9f%a5%e7%9c%8b%e7%94%9f%e6%95%88">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>grub2-editenv list
saved_entry=CentOS Linux (3.10.0-327.22.2.el7.x86_64) 7 (Core)
&lt;/code>&lt;/pre></description></item><item><title>Centos7æ­å»ºvpn</title><link>https://notes.zhangwenbing.com/blog/linux/B1AMUL45ICM/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/B1AMUL45ICM/</guid><description>&lt;h2 id="å‡†å¤‡ç¯å¢ƒ">
 å‡†å¤‡ç¯å¢ƒ
 &lt;a class="anchor" href="#%e5%87%86%e5%a4%87%e7%8e%af%e5%a2%83">#&lt;/a>
&lt;/h2>
&lt;h3 id="é¦–å…ˆæŸ¥çœ‹ç³»ç»Ÿæ˜¯å¦æ”¯æŒpptpdæœåŠ¡">
 é¦–å…ˆæŸ¥çœ‹ç³»ç»Ÿæ˜¯å¦æ”¯æŒpptpdæœåŠ¡ï¼š
 &lt;a class="anchor" href="#%e9%a6%96%e5%85%88%e6%9f%a5%e7%9c%8b%e7%b3%bb%e7%bb%9f%e6%98%af%e5%90%a6%e6%94%af%e6%8c%81pptpd%e6%9c%8d%e5%8a%a1">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>modprobe ppp-compress-18 &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> echo yes
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="å®‰è£…ppp--pptpdiptables">
 å®‰è£…ppp , pptpdï¼Œiptables
 &lt;a class="anchor" href="#%e5%ae%89%e8%a3%85ppp--pptpdiptables">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>yum install -y ppp pptpd iptables
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>systemctl mask firewalld
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>systemctl stop firewalld
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ä¿®æ”¹é…åˆ¶">
 ä¿®æ”¹é…åˆ¶
 &lt;a class="anchor" href="#%e4%bf%ae%e6%94%b9%e9%85%8d%e5%88%b6">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>vi /etc/pptpd.conf &lt;span style="color:#75715e">#æ‰¾åˆ°é…åˆ¶æ–‡ä»¶ä¸­é»˜è®¤çš„å€¼ï¼Œå»æ‰æ³¨é‡Šå³å¯&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>localip 192.168.0.1 &lt;span style="color:#75715e">#æœ¬æœºVPN IP&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>remoteip 192.168.0.234-238,192.168.0.245 å®¢æˆ·ç«¯å¯ä»¥è·å–åˆ°çš„ipç½‘æ®µ
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#ä¿®æ”¹DNS&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>vi /etc/ppp/options.pptpd &lt;span style="color:#75715e">#æœ«å°¾æ·»åŠ dns&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ms-dns 8.8.8.8
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ms-dns 114.114.114.114
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#æ·»åŠ vpnè´¦æˆ·&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>vi /etc/ppp/chap-secrets
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># client server secret IP addresses&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> user pptpd passwd *
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#å¼€å¯è·¯ç”±è½¬å‘&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>vi /etc/sysctl.conf
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>net.ipv4.ip_forward &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#75715e">#æ·»åŠ åœ¨é…åˆ¶æ–‡ä»¶çš„æœ«å°¾å³å¯&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sysctl -p &lt;span style="color:#75715e">#è¿è¡Œè¿™ä¸ªå‘½ä»¤ä¼šè¾“å‡ºä¸Šé¢æ·»åŠ çš„é‚£ä¸€è¡Œä¿¡æ¯ï¼Œæ„æ€æ˜¯ä½¿å†…æ ¸ä¿®æ”¹ç”Ÿæ•ˆ&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#åœ¨é˜²ç«å¢™ä¸Šå¼€å¯natè½¬å‘&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>iptables -t nat -A POSTROUTING -s 192.168.0.0/24 -o eth0 -j MASQUERADE &lt;span style="color:#75715e">#IPå’Œç½‘å£æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹å³å¯&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å¼€å¯æœåŠ¡">
 å¼€å¯æœåŠ¡
 &lt;a class="anchor" href="#%e5%bc%80%e5%90%af%e6%9c%8d%e5%8a%a1">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>service iptables save
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>systemctl restart iptables
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>systemctl restart pptpd
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Centoså¤šç½‘å¡ç»‘å®š(bonding)</title><link>https://notes.zhangwenbing.com/blog/linux/rJFUIE5I0G/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/rJFUIE5I0G/</guid><description>&lt;blockquote>
&lt;p>none&lt;/p>
&lt;/blockquote>
&lt;h2 id="å†…æ ¸æ¨¡å—">
 å†…æ ¸æ¨¡å—
 &lt;a class="anchor" href="#%e5%86%85%e6%a0%b8%e6%a8%a1%e5%9d%97">#&lt;/a>
&lt;/h2>
&lt;p>é€šè¿‡modinfo bondingå‘½ä»¤æŸ¥çœ‹Linuxæ˜¯å¦æ”¯æŒbonding&lt;/p>
&lt;pre tabindex="0">&lt;code>lsmod |grep bonding
#è½½å…¥bondingæ¨¡å—
modprobe bonding
&lt;/code>&lt;/pre>&lt;h2 id="é…ç½®bonding">
 é…ç½®bonding
 &lt;a class="anchor" href="#%e9%85%8d%e7%bd%aebonding">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code># cat /etc/modprobe.d/bond0.conf
alias bond0 bonding
cd /etc/sysconfig/network-scripts/
# grep -v &amp;#34;^#&amp;#34; ifcfg-bond0
DEVICE=bond0
BOOTPROTO=static
ONBOOT=yes
IPADDR=192.168.5.88
NETMASK=255.255.255.0
GATEWAY=192.168.5.1
USERCTL=no
====================================================
BONDING_OPTS=&amp;#34;mode=0 miimon=100&amp;#34;
è¯´æ˜ï¼šè¿™é‡Œä½¿ç”¨äº†BONDING_OPTSé€‰é¡¹ï¼Œåˆ™ä¸éœ€è¦å†ä½¿ç”¨ /etc/modprobe.d/bond0.conf é…ç½®æ–‡ä»¶å¯¹ç»‘å®šè®¾å¤‡è¿›è¡Œé…ç½®ã€‚å‚æ•°mode=0ï¼ŒæŒ‡è´Ÿè½½å‡è¡¡æ¨¡å¼ï¼Œè¯¦è§ä¸‹æ–‡ã€‚miimonæ˜¯ç”¨æ¥è¿›è¡Œé“¾è·¯ç›‘æµ‹çš„ï¼Œå…¶åŸç†æ˜¯æ£€æµ‹ç½‘ä¸Šçš„é“¾è·¯çŠ¶æ€ï¼Œä¸€èˆ¬å°†miimonå€¼è®¾ä¸º100ï¼Œè¡¨ç¤ºç³»ç»Ÿæ¯100msç›‘æµ‹ä¸€æ¬¡é“¾è·¯è¿æ¥çŠ¶æ€ï¼Œå¦‚æœæœ‰ä¸€æ¡çº¿è·¯ä¸é€šå°±è½¬å…¥å¦ä¸€æ¡çº¿è·¯ã€‚
====================================================
# grep -v &amp;#34;^#&amp;#34; ifcfg-eth1
DEVICE=eth1
ONBOOT=yes
BOOTPROTO=static
MASTER=bond0
SLAVE=yes
USERCTL=no
# grep -v &amp;#34;^#&amp;#34; ifcfg-eth0
DEVICE=eth0
BOOTPROTO=static
ONBOOT=yes
MASTER=bond0
SLAVE=yes
USERCTL=no
æ³¨æ„ï¼šå»ºè®®ä¸è¦æŒ‡å®šMACåœ°å€
# echo 100 &amp;gt; /sys/class/net/bond0/bonding/miimon
# echo 6 &amp;gt; /sys/class/net/bond0/bonding/mode
Mode of operation : 0 for balance-rr, 1 for active-backup, 2 for balance-xorï¼›
3 for broadcast, 4 for 802.3ad, 5 for balance-tlb, 6 for balance-alb (charp)
é‡å¯ç½‘ç»œ
# /etc/init.d/network restart
æ£€æŸ¥ä¸‹
ifconfig
cat /proc/net/bonding/bond0
&lt;/code>&lt;/pre>&lt;h2 id="bondingæ¨¡å¼">
 bondingæ¨¡å¼
 &lt;a class="anchor" href="#bonding%e6%a8%a1%e5%bc%8f">#&lt;/a>
&lt;/h2>
&lt;p>bondingçš„æ¨¡å¼ï¼š0-6ï¼Œå³ï¼š7ç§æ¨¡å¼&lt;/p></description></item><item><title>centoså‡çº§ æ’é™¤ä¸æƒ³å‡çº§çš„è½¯ä»¶åŒ…</title><link>https://notes.zhangwenbing.com/blog/linux/r1bIUL458Cz/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/r1bIUL458Cz/</guid><description>&lt;h2 id="æ–¹æ³•ä¸€">
 æ–¹æ³•ä¸€
 &lt;a class="anchor" href="#%e6%96%b9%e6%b3%95%e4%b8%80">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>yum --exclude&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;kernel*&amp;#34;&lt;/span> update
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="æ–¹æ³•äºŒ">
 æ–¹æ³•äºŒ
 &lt;a class="anchor" href="#%e6%96%b9%e6%b3%95%e4%ba%8c">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>cat /etc/yum.conf
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span>main&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>......
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>exclude&lt;span style="color:#f92672">=&lt;/span>kernel*
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¿®æ”¹/etc/yum.confï¼Œåœ¨â€œ[main]â€çš„æœ€ååŠ ä¸Šâ€œexclude=kernel*â€å³å¯ã€‚&lt;/p>
&lt;h2 id="æ€»ç»“">
 æ€»ç»“
 &lt;a class="anchor" href="#%e6%80%bb%e7%bb%93">#&lt;/a>
&lt;/h2>
&lt;p>æ–¹æ³•ä¸€ä¸ºé›¶æ—¶çš„ï¼Œä¹Ÿå°±æ˜¯åªåœ¨å½“æ¬¡æœ‰æ•ˆï¼Œè€Œæ–¹æ³•äºŒä¸ºæ°¸ä¹…æœ‰æ•ˆã€‚å¯æ ¹æ®ä¸åŒæƒ…å†µé€‰æ‹©ã€‚&lt;/p></description></item><item><title>ffmbcä¹‹è½¬DVCPROHD</title><link>https://notes.zhangwenbing.com/blog/ffmpeg/BkpKIL498RM/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/ffmpeg/BkpKIL498RM/</guid><description>&lt;blockquote>
&lt;p>ffmbc -i xx.ts -vcodec dvvideo -flags +ildct+ilme -tff -pix_fmt yuv422p -vf scalâ€¦&lt;/p>
&lt;/blockquote>
&lt;pre tabindex="0">&lt;code>ffmbc -i xx.ts -vcodec dvvideo -flags +ildct+ilme -tff -pix_fmt yuv422p -vf scale=1440:1080:1 -acodec pcm_s16le -ar 48000 -ac 1 -y xx.mxf
&lt;/code>&lt;/pre></description></item><item><title>ffmoegå¤šéŸ³é¢‘åˆæˆ(æ··æµ)ä½¿ç”¨æ–¹æ³•</title><link>https://notes.zhangwenbing.com/blog/ffmpeg/S1DOL84cLCz/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/ffmpeg/S1DOL84cLCz/</guid><description>&lt;blockquote>
&lt;p>ffmpeg -i INPUT1 -i INPUT2 -i INPUT3 -filter_complex amix=inputs=3:duration=firsâ€¦&lt;/p>
&lt;/blockquote>
&lt;pre tabindex="0">&lt;code>ffmpeg -i INPUT1 -i INPUT2 -i INPUT3 -filter_complex amix=inputs=3:duration=first:dropout_transition=3 OUTPUT
&lt;/code>&lt;/pre>&lt;p>å®ƒæ¥å—ä¸‹åˆ—å‚æ•°ï¼š&lt;/p>
&lt;p>inputs&lt;/p>
&lt;pre tabindex="0">&lt;code>è¾“å…¥æ•°ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œé»˜è®¤ä¸º2ã€‚
&lt;/code>&lt;/pre>&lt;p>duration&lt;/p>
&lt;pre tabindex="0">&lt;code>å¦‚ä½•ç¡®å®šæµçš„ç»“å°¾ã€‚
&lt;/code>&lt;/pre>&lt;p>longest&lt;/p>
&lt;pre tabindex="0">&lt;code>æœ€é•¿çš„è¾“å…¥æ—¶é—´ã€‚ï¼ˆé»˜è®¤ï¼‰
&lt;/code>&lt;/pre>&lt;p>shortest&lt;/p>
&lt;pre tabindex="0">&lt;code>æœ€çŸ­çš„è¾“å…¥æ—¶é—´ã€‚
&lt;/code>&lt;/pre>&lt;p>first&lt;/p>
&lt;pre tabindex="0">&lt;code>ç¬¬ä¸€ä¸ªè¾“å…¥çš„æ—¶é—´ã€‚
&lt;/code>&lt;/pre>&lt;p>dropout_transition&lt;/p>
&lt;pre tabindex="0">&lt;code>å½“è¾“å…¥æµç»“æŸæ—¶ï¼Œä½“ç§¯é‡æ•´åŒ–çš„è¿‡æ¸¡æ—¶é—´ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰ã€‚é»˜è®¤å€¼æ˜¯2ç§’ã€‚
&lt;/code>&lt;/pre></description></item><item><title>ffmpeg å¤šéŸ³è½¨æ··åˆæˆå¤šå£°é“</title><link>https://notes.zhangwenbing.com/blog/ffmpeg/Hy0UI8V9I0M/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/ffmpeg/Hy0UI8V9I0M/</guid><description>&lt;blockquote>
&lt;p>ä½¿ç”¨FFmpegåˆ¶ä½œå¤šå£°é“è§†é¢‘&lt;/p>
&lt;/blockquote>
&lt;p>å°†8ä¸ªéŸ³è½¨æ··åˆæˆåŒå£°é“&lt;/p>
&lt;pre tabindex="0">&lt;code>ffmpeg -i input.mkv -filter_complex &amp;#34;[0:1][0:2][0:3][0:4][0:5][0:6][0:7][0:8] amerge=inputs=8&amp;#34; -c:a pcm_s16le output.mkv
&lt;/code>&lt;/pre></description></item><item><title>ffmpegè·å–display_picture_numberå¯¹åº”å¸§ä¿¡æ¯</title><link>https://notes.zhangwenbing.com/blog/ffmpeg/B1mILV58AM/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/ffmpeg/B1mILV58AM/</guid><description>&lt;h2 id="ä½¿ç”¨æ–¹å¼">
 ä½¿ç”¨æ–¹å¼
 &lt;a class="anchor" href="#%e4%bd%bf%e7%94%a8%e6%96%b9%e5%bc%8f">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>ffmpeg -i input -vf &lt;span style="color:#e6db74">&amp;#34;select=eq(n\,15237)&amp;#34;&lt;/span>,showinfo -an -f null /dev/null
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="è¾“å‡ºç»“æœ">
 è¾“å‡ºç»“æœ
 &lt;a class="anchor" href="#%e8%be%93%e5%87%ba%e7%bb%93%e6%9e%9c">#&lt;/a>
&lt;/h2>
&lt;p>15237ä¸ºdisplay_picture_number&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span>Parsed_showinfo_1 @ 0x41ca760&lt;span style="color:#f92672">]&lt;/span> n: &lt;span style="color:#ae81ff">0&lt;/span> pts:54860400 pts_time:609.56 pos:427032896 fmt:yuv420p sar:1/1 s:1920x1080 i:T iskey:0 type:B checksum:A2FB0133 plane_checksum:&lt;span style="color:#f92672">[&lt;/span>7E1FA1A9 3D005549 67BC0A32&lt;span style="color:#f92672">]&lt;/span> mean:&lt;span style="color:#f92672">[&lt;/span>&lt;span style="color:#ae81ff">92&lt;/span> &lt;span style="color:#ae81ff">127&lt;/span> 134&lt;span style="color:#f92672">]&lt;/span> stdev:&lt;span style="color:#f92672">[&lt;/span>62.5 9.2 20.7&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å‚æ•°è§£é‡Š">
 å‚æ•°è§£é‡Š
 &lt;a class="anchor" href="#%e5%8f%82%e6%95%b0%e8%a7%a3%e9%87%8a">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">### showinfo ### ä¸æ”¹å˜è¾“å…¥è€Œåœ¨è¡Œä¸­æ˜¾ç¤ºæ¯å¸§ä¿¡æ¯ã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>æ˜¾ç¤ºçš„ä¿¡æ¯ä»¥&lt;span style="color:#e6db74">`&lt;/span>key/value&lt;span style="color:#e6db74">`&lt;/span>çš„åºåˆ—å½¢å¼ç»™å‡º
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ä¸‹é¢æ˜¯å°†æ˜¾ç¤ºåœ¨è¾“å‡ºä¸­çš„å€¼ï¼š
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>- n
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>å¸§åºæ•°ï¼Œä»0å¼€å§‹è®¡æ•°
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>- pts
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>è¾“å…¥å¸§çš„æ—¶é—´æˆ³ï¼Œä»¥æ—¶åŸºä¸ºå•ä½ï¼Œæ—¶é—´ä¾èµ–äºè¾“å…¥
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>- pts_time
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>æŒ‰ç§’è®¡çš„æ—¶é—´æˆ³
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>- pos
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>è¾“å…¥å¸§åœ¨è¾“å…¥æµä¸­çš„åç§»å®šä½ï¼Œ-1è¡¨ç¤ºä¿¡æ¯ä¸å¯ç”¨å’Œ/æˆ–æ— æ„ä¹‰ï¼ˆä¾‹å¦‚åˆæˆè§†é¢‘ä¸­ï¼‰
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>- fmt
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>åƒç´ æ ¼å¼å
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>- sar
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>è¾“å…¥å¸§çš„å®½é«˜æ¯”ï¼Œè¡¨ç¤ºä¸º&lt;span style="color:#e6db74">`&lt;/span>num/den&lt;span style="color:#e6db74">`&lt;/span>æ ¼å¼
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>- s
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>è¾“å…¥å¸§å°ºå¯¸ï¼Œè¯­æ³•åŒäº&lt;span style="color:#f92672">[&lt;/span>è§†é¢‘å°ºå¯¸ï¼ˆåˆ†è¾¨ç‡ï¼‰&lt;span style="color:#f92672">](&lt;/span>ffmpeg-doc-cn-07.md#è§†é¢‘å°ºå¯¸ï¼ˆåˆ†è¾¨ç‡ï¼‰&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>- i
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>äº¤é”™æ¨¡å¼ &lt;span style="color:#f92672">(&lt;/span>&lt;span style="color:#e6db74">&amp;#34;P&amp;#34;&lt;/span>å¯¹åº” &lt;span style="color:#e6db74">&amp;#34;é€è¡Œ&amp;#34;&lt;/span>, &lt;span style="color:#e6db74">&amp;#34;T&amp;#34;&lt;/span> å¯¹åº”ä¸Šåœºä¼˜å…ˆ, &lt;span style="color:#e6db74">&amp;#34;B&amp;#34;&lt;/span>ä¸ºä¸‹åœºä¼˜å…ˆt&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>- iskey
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ä¸º1è¡¨ç¤ºæ˜¯å…³é”®å¸§ï¼Œ0åˆ™ä¸æ˜¯
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>- type
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>è¾“å…¥å¸§å›¾ç‰‡ç±»å‹ &lt;span style="color:#f92672">(&lt;/span>&lt;span style="color:#e6db74">&amp;#34;I&amp;#34;&lt;/span>å¯¹åº”Iå¸§, &lt;span style="color:#e6db74">&amp;#34;P&amp;#34;&lt;/span> å¯¹åº”På¸§, &lt;span style="color:#e6db74">&amp;#34;B&amp;#34;&lt;/span> å¯¹åº”Bå¸§,æˆ–è€… &lt;span style="color:#e6db74">&amp;#34;?&amp;#34;&lt;/span>å¯¹åº”æœªçŸ¥ç±»å‹&lt;span style="color:#f92672">)&lt;/span>.å‚è€ƒå®šä¹‰ä¸&lt;span style="color:#e6db74">`&lt;/span>libavutil/avutil.h&lt;span style="color:#e6db74">`&lt;/span>ä¸­çš„&lt;span style="color:#e6db74">`&lt;/span>av_get_picture_type_char&lt;span style="color:#e6db74">`&lt;/span>å‡½æ•°å’Œ&lt;span style="color:#e6db74">`&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>- checksum
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>è¾“å…¥å¸§æ‰€æœ‰ä¿¡æ¯å†…å®¹çš„ Adler-32æ ¡éªŒå€¼ &lt;span style="color:#f92672">(&lt;/span>ä»¥16è¿›åˆ¶è¾“å‡º&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>- plane_checksum
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>è¾“å…¥å¸§æ‰€æœ‰ä¿¡æ¯å†…å®¹çš„ Adler-32æ ¡éªŒå€¼ &lt;span style="color:#f92672">(&lt;/span>ä»¥16è¿›åˆ¶è¾“å‡º&lt;span style="color:#f92672">)&lt;/span>, ä»¥æ ¼å¼&lt;span style="color:#e6db74">&amp;#34;[c0 c1 c2 c3]&amp;#34;&lt;/span>æ˜¾ç¤º
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>ffmpegéŸ³é¢‘åˆæˆå‘½ä»¤å…¨é›†</title><link>https://notes.zhangwenbing.com/blog/ffmpeg/S1uzUUNc8Cf/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/ffmpeg/S1uzUUNc8Cf/</guid><description>&lt;blockquote>
&lt;p>ç­‰æœ‰æ—¶é—´äº†å†å°†å…¶ç¿»è¯‘ä¸€ä¸‹ï¼Œæºç½‘å€-&amp;gt;ä¼ é€é—¨&lt;/p>
&lt;/blockquote>
&lt;p>stereo â†’ mono stream&lt;/p>
&lt;p>Mix a single stereo&lt;/p>
&lt;p>stream down to â€¦&lt;/p>
&lt;p>ç­‰æœ‰æ—¶é—´äº†å†å°†å…¶ç¿»è¯‘ä¸€ä¸‹ï¼Œæºç½‘å€-&amp;gt;ä¼ é€é—¨&lt;/p>
&lt;h2 id="stereo--mono-stream">
 stereo â†’ mono stream
 &lt;a class="anchor" href="#stereo--mono-stream">#&lt;/a>
&lt;/h2>
&lt;p>![stereo to mono diagram](&lt;a href="https://trac.ffmpeg.org/raw-">https://trac.ffmpeg.org/raw-&lt;/a>&lt;br>
attachment/wiki/AudioChannelManipulation/stereo_mono.png)Mix a single stereo&lt;/p></description></item><item><title>ffmpegé€è¡Œæ‰«æè½¬éš”è¡Œæ‰«æ</title><link>https://notes.zhangwenbing.com/blog/ffmpeg/BJDz88N580G/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/ffmpeg/BJDz88N580G/</guid><description>&lt;h2 id="å‘½ä»¤å‚æ•°">
 å‘½ä»¤å‚æ•°
 &lt;a class="anchor" href="#%e5%91%bd%e4%bb%a4%e5%8f%82%e6%95%b0">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>ffmpeg -i input -aspect 16:9 -c:v mpeg2video -b:v 4000k -minrate 4000k -maxrate 4000k -bufsize 2000k -dc &lt;span style="color:#ae81ff">9&lt;/span> -flags +ilme+ildct -alternate_scan &lt;span style="color:#ae81ff">1&lt;/span> -top &lt;span style="color:#ae81ff">0&lt;/span> output
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å…¶å®ä¸»è¦çš„å°±æ˜¯å¦‚ä¸‹å‚æ•°ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>-flags +ilme+ildct -alternate_scan &lt;span style="color:#ae81ff">1&lt;/span> -top &lt;span style="color:#ae81ff">0&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>alternate_scanä½¿ç”¨éš”è¡Œè½¬ç ï¼Œtopä¸ä¸€èˆ¬æ²¡æœ‰ä»€ä¹ˆè¦æ±‚çš„è¯é ‚åœºä¼˜å…ˆå°±å¯ä»¥äº†ã€‚&lt;/p></description></item><item><title>H.264ï¼šiå¸§ï¼Œpå¸§ï¼Œbå¸§ä»‹ç»</title><link>https://notes.zhangwenbing.com/blog/ffmpeg/Sy778INqIRM/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/ffmpeg/Sy778INqIRM/</guid><description>&lt;blockquote>
&lt;p>iå¸§&lt;/p>
&lt;/blockquote>
&lt;p>å¸§å†…ç¼–ç å¸§ï¼Œiå¸§è¡¨ç¤ºå…³é”®å¸§ï¼Œå®ƒä¿ç•™äº†ä¸€å‰¯ç”»é¢å®Œæ•´çš„æ•°æ®ä¿¡æ¯ï¼Œè§£ç çš„æ—¶å€™åªéœ€è¦è¿™å½’çœŸæ•°æ®å°±å¯ä»¥å®Œæˆï¼ˆå› ä¸ºiå¸§é‡Œé¢åŒ…å«äº†èŠ±é¢ç‹¸å…å¾—æ‰€æœ‰ä¿¡æ¯ï¼‰&lt;/p>
&lt;p>iå¸§çš„ç‰¹ç‚¹&lt;/p></description></item><item><title>H.264NALå¤´è§£æ</title><link>https://notes.zhangwenbing.com/blog/ffmpeg/S1cmUI4qUCf/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/ffmpeg/S1cmUI4qUCf/</guid><description>&lt;blockquote>
&lt;p>H.264 NALå¤´è§£æ å¦‚æœNALUå¯¹åº”çš„Sliceä¸ºä¸€å¸§çš„å¼€å§‹ï¼Œåˆ™ç”¨4å­—èŠ‚è¡¨ç¤ºï¼Œå³0x00000001ï¼›å¦åˆ™ç”¨3å­—èŠ‚è¡¨ç¤ºï¼Œ0x000001ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>NAL&lt;/p>
&lt;p>Heâ€¦&lt;/p>
&lt;p>H.264 NALå¤´è§£æ å¦‚æœNALUå¯¹åº”çš„Sliceä¸ºä¸€å¸§çš„å¼€å§‹ï¼Œåˆ™ç”¨4å­—èŠ‚è¡¨ç¤ºï¼Œå³0x00000001ï¼›å¦åˆ™ç”¨3å­—èŠ‚è¡¨ç¤ºï¼Œ0x000001ã€‚&lt;/p></description></item><item><title>iOS FFmpegé›†æˆ</title><link>https://notes.zhangwenbing.com/blog/ffmpeg/SkNmLLVcUCf/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/ffmpeg/SkNmLLVcUCf/</guid><description>&lt;blockquote>
&lt;p>FFmpegæ ‡å‡†åº“&lt;/p>
&lt;/blockquote>
&lt;p>æ¦‚å¿µ:&lt;/p>
&lt;p>FFmpegæ˜¯ä¸€å¥—å¯ä»¥ç”¨æ¥è®°å½•ã€è½¬æ¢æ•°å­—éŸ³é¢‘ã€è§†é¢‘ï¼Œå¹¶èƒ½å°†å…¶è½¬åŒ–ä¸ºæµçš„å¼€æºè®¡ç®—æœºç¨‹åºã€‚&lt;/p>
&lt;p>é‡‡ç”¨LGPLæˆ–GPLè®¸å¯è¯ã€‚å®ƒæä¾›äº†å½•åˆ¶â€¦&lt;/p></description></item><item><title>linux apache mysql php ä¼˜åŒ–</title><link>https://notes.zhangwenbing.com/blog/linux/SkaWUIN5U0z/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/SkaWUIN5U0z/</guid><description>&lt;blockquote>
&lt;p>none&lt;/p>
&lt;/blockquote>
&lt;h2 id="ä¸€å‡†å¤‡ç¯å¢ƒ">
 ä¸€ã€å‡†å¤‡ç¯å¢ƒ
 &lt;a class="anchor" href="#%e4%b8%80%e5%87%86%e5%a4%87%e7%8e%af%e5%a2%83">#&lt;/a>
&lt;/h2>
&lt;h3 id="1å®‰è£…mysql">
 1ã€å®‰è£…mysql
 &lt;a class="anchor" href="#1%e5%ae%89%e8%a3%85mysql">#&lt;/a>
&lt;/h3>
&lt;pre tabindex="0">&lt;code>#cmake -DCMAKE_INSTALL_PREFIX=/usr/local/mysql5.5 -DMYSQL_DATADIR=/usr/local/mysql5.5/data -DSYSCONFDIR=/usr/local/mysql5.5/etc -DWITH_INNOBASE_STORAGE_ENGINE=1 -DWITH_ARCHIVE_STORAGE_ENGINE=1 -DWITH_PERFSCHEMA_STORAGE_ENGINE=1 -DDEFAULT_CHARSET=utf8 -DDEFAULT_COLLATION=utf8_general_ci -DENABLED_LOCAL_INFILE=1 -DWITH_EXTRA_CHARSETS=all
#make
#make install
&lt;/code>&lt;/pre>&lt;h3 id="2å®‰è£…nginx">
 2ã€å®‰è£…nginx
 &lt;a class="anchor" href="#2%e5%ae%89%e8%a3%85nginx">#&lt;/a>
&lt;/h3>
&lt;pre tabindex="0">&lt;code>#./configure --prefix=/usr/local/nginx --http-log-path=/var/log/nginx/access.log --error-log-path=/var/log/nginx/error.log --pid-path=/var/run/nginx/nginx.pid --user=daemon --group=daemon --with-pcre
#make &amp;amp;&amp;amp; make install
&lt;/code>&lt;/pre>&lt;h3 id="3å®‰è£…php">
 3ã€å®‰è£…php
 &lt;a class="anchor" href="#3%e5%ae%89%e8%a3%85php">#&lt;/a>
&lt;/h3>
&lt;pre tabindex="0">&lt;code>#./configure --prefix=/usr/local/php5 --enable-bcmath --with-mysql=/usr/local/mysql5.5 --enable-fpm --with-fpm-user=daemon --with-fpm-group=daemon --with-config-file-path=/usr/local/php5
#make &amp;amp;&amp;amp; make install
&lt;/code>&lt;/pre>&lt;h3 id="4ä½¿nginxæ”¯æŒphp">
 4ã€ä½¿nginxæ”¯æŒphp
 &lt;a class="anchor" href="#4%e4%bd%bfnginx%e6%94%af%e6%8c%81php">#&lt;/a>
&lt;/h3>
&lt;h4 id="1nginxé…ç½®">
 (1)nginxé…ç½®
 &lt;a class="anchor" href="#1nginx%e9%85%8d%e7%bd%ae">#&lt;/a>
&lt;/h4>
&lt;pre tabindex="0">&lt;code>location ~ \.php$ {
root html;
fastcgi_pass 127.0.0.1:9000;
fastcgi_index index.php;
fastcgi_param SCRIPT_FILENAME /usr/local/nginx/html$fastcgi_script_name;
include fastcgi_params;
}
&lt;/code>&lt;/pre>&lt;h4 id="2phpé…ç½®">
 (2)phpé…ç½®
 &lt;a class="anchor" href="#2php%e9%85%8d%e7%bd%ae">#&lt;/a>
&lt;/h4>
&lt;pre tabindex="0">&lt;code>#vim /usr/local/php5/etc/php-fpm.conf
#cd /usr/local/php5/sbin
#./php-fpm -c /usr/local/php5/etc/php-fpm.conf
&lt;/code>&lt;/pre>&lt;h2 id="äºŒphpä¼˜åŒ–">
 äºŒã€phpä¼˜åŒ–
 &lt;a class="anchor" href="#%e4%ba%8cphp%e4%bc%98%e5%8c%96">#&lt;/a>
&lt;/h2>
&lt;p>æ³¨æ„ï¼šå¦‚ä½•æ·»åŠ phpåŠŸèƒ½æ¨¡å— ä¾‹ï¼šå®‰è£…mbstringå¤šå­—èŠ‚æ”¯æŒåŠŸèƒ½æ¨¡å—&lt;/p></description></item><item><title>linux bashæˆªå–å­—ç¬¦ä¸²çš„å‡ ç§æ–¹æ³•</title><link>https://notes.zhangwenbing.com/blog/linux/HJi_UUE5ICG/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/HJi_UUE5ICG/</guid><description>&lt;blockquote>
&lt;h1 id="å·æˆªå–åˆ é™¤å·¦è¾¹å­—ç¬¦ä¿ç•™å³è¾¹å­—ç¬¦">
 å·æˆªå–ï¼Œåˆ é™¤å·¦è¾¹å­—ç¬¦ï¼Œä¿ç•™å³è¾¹å­—ç¬¦
 &lt;a class="anchor" href="#%e5%8f%b7%e6%88%aa%e5%8f%96%e5%88%a0%e9%99%a4%e5%b7%a6%e8%be%b9%e5%ad%97%e7%ac%a6%e4%bf%9d%e7%95%99%e5%8f%b3%e8%be%b9%e5%ad%97%e7%ac%a6">#&lt;/a>
&lt;/h1>
&lt;/blockquote>
&lt;p>var=http://www.aaa.com/123.htm&lt;/p>
&lt;p>echo ${var#*//}&lt;/p>
&lt;p>å…¶ä¸­varæ˜¯å˜é‡åï¼Œâ€¦&lt;/p>
&lt;h3 id="-å·æˆªå–åˆ é™¤å·¦è¾¹å­—ç¬¦ä¿ç•™å³è¾¹å­—ç¬¦">
 # å·æˆªå–ï¼Œåˆ é™¤å·¦è¾¹å­—ç¬¦ï¼Œä¿ç•™å³è¾¹å­—ç¬¦
 &lt;a class="anchor" href="#-%e5%8f%b7%e6%88%aa%e5%8f%96%e5%88%a0%e9%99%a4%e5%b7%a6%e8%be%b9%e5%ad%97%e7%ac%a6%e4%bf%9d%e7%95%99%e5%8f%b3%e8%be%b9%e5%ad%97%e7%ac%a6">#&lt;/a>
&lt;/h3>
&lt;pre tabindex="0">&lt;code>var=http://www.aaa.com/123.htm
echo ${var#*//}
&lt;/code>&lt;/pre>&lt;p>å…¶ä¸­varæ˜¯å˜é‡åï¼Œ#å·æ˜¯è¿ç®—ç¬¦ï¼Œ &lt;em>å·æ˜¯é€šé…ç¬¦ï¼Œ&lt;/em>//è¡¨ç¤ºä»å·¦è¾¹å¼€å§‹åˆ é™¤ç¬¬ä¸€ä¸ªåˆ°//å¤„çš„æ‰€æœ‰å­—ç¬¦å³åˆ é™¤http://&lt;/p></description></item><item><title>linux crontabè®¡åˆ’ä»»åŠ¡è¯¦è§£</title><link>https://notes.zhangwenbing.com/blog/linux/rJvbIUV580z/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/rJvbIUV580z/</guid><description>&lt;blockquote>
&lt;p>crontabå‘½ä»¤å¸¸è§äºUnixå’Œç±»Unixçš„æ“ä½œç³»ç»Ÿä¹‹ä¸­ï¼Œç”¨äºè®¾ç½®å‘¨æœŸæ€§è¢«æ‰§è¡Œçš„æŒ‡ä»¤&lt;/p>
&lt;/blockquote>
&lt;h2 id="é…ç½®æ–‡ä»¶">
 é…ç½®æ–‡ä»¶
 &lt;a class="anchor" href="#%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>cat /etc/crontab
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>SHELL&lt;span style="color:#f92672">=&lt;/span>/bin/bash è®¡åˆ’ä»»åŠ¡çš„é»˜è®¤è„šæœ¬bash shell
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>PATH&lt;span style="color:#f92672">=&lt;/span>/sbin:/bin:/usr/sbin:/usr/bin é»˜è®¤æœç´¢è·¯å¾„
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>MAILTO&lt;span style="color:#f92672">=&lt;/span>root å½“è®¡åˆ’ä»»åŠ¡æœ‰æ ‡å‡†è¾“å‡ºæˆ–æ ‡å‡†é”™è¯¯è¾“å‡ºæ—¶ï¼Œä¼šå°†ç»“æœå‘é‚®ä»¶ç»™root
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>HOME&lt;span style="color:#f92672">=&lt;/span>/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># run-parts&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">01&lt;/span> * * * * root run-parts /etc/cron.hourly /etc/ åé¢ä¸€å®šæ˜¯ä¸ªæ–‡ä»¶å¤¹ï¼Œæ¯å°æ—¶æ‰§è¡Œ
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">02&lt;/span> &lt;span style="color:#ae81ff">4&lt;/span> * * * root run-parts /etc/cron.daily
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">22&lt;/span> &lt;span style="color:#ae81ff">4&lt;/span> * * &lt;span style="color:#ae81ff">0&lt;/span> root run-parts /etc/cron.weekly
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">42&lt;/span> &lt;span style="color:#ae81ff">4&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span> * * root run-parts /etc/cron.monthly
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="æ³¨æ„äº‹é¡¹">
 æ³¨æ„äº‹é¡¹
 &lt;a class="anchor" href="#%e6%b3%a8%e6%84%8f%e4%ba%8b%e9%a1%b9">#&lt;/a>
&lt;/h2>
&lt;p>å¤šä¸ªè®¡åˆ’ä»»åŠ¡ä¸å®œåŒæ—¶è¿›è¡Œé˜²æ­¢æœ‰éæ³•è®¡åˆ’ä»»åŠ¡å‘¨å’Œæ—¥ï¼Œæœˆä¸å¯åŒæ—¶å¹¶å­˜ï¼Œå®¹æ˜“å¯¼è‡´è®¡åˆ’ä»»åŠ¡æ—¶é—´æ··ä¹±&lt;/p></description></item><item><title>linux DHCPç®€å•ä½¿ç”¨æ–¹æ³•</title><link>https://notes.zhangwenbing.com/blog/linux/B1CLLE98CG/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/B1CLLE98CG/</guid><description>&lt;p>é…ç½®&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>vim /etc/dhcpd.conf
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>default-lease-time 1296000;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>max-lease-time 4000000;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#IPæœ€é•¿å¤±æ•ˆæ—¶é—´&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>option subnet-mask 255.255.255.0;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#å­ç½‘çš„æ©ç &lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>option broadcast-address 192.168.0.255;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#ç½‘ç»œçš„å¹¿æ’­åœ°å€&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>option routers 192.168.0.254;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#ç½‘å…³çš„åœ°å€&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>option domain-name-servers 211.151.48.59,211.151.48.47;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#åŸŸåè§£æåœ°å€&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ddns-update-style ad-hoc;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>subnet 192.168.0.0 netmask 255.255.255.0 &lt;span style="color:#f92672">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#å®šä¹‰IPæ± çš„å†…å®¹&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>range 192.168.0.100 192.168.0.240;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#åœ°å€èŒƒå›´ä¸º 100-240 å…±140ä¸ªIPåœ°å€ã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#ä¹Ÿå¯ä»¥è±¡ä¸‹é¢ä¸€æ ·æŒ‰MACåœ°å€æŒ‡å®šIP&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#host Jephe {hardware ethernet 00:a0:c9:a6:96:33;fixed-address 192.168.1.12;}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="è¯¦è§£">
 è¯¦è§£
 &lt;a class="anchor" href="#%e8%af%a6%e8%a7%a3">#&lt;/a>
&lt;/h2>
&lt;h3 id="parameterså‚æ•°">
 parametersï¼ˆå‚æ•°ï¼‰
 &lt;a class="anchor" href="#parameters%e5%8f%82%e6%95%b0">#&lt;/a>
&lt;/h3>
&lt;p>ddns-update-style é…ç½®DHCP-DNSäº’åŠ¨æ›´æ–°æ¨¡å¼ default-lease-time æŒ‡å®šç¼ºçœç§Ÿèµæ—¶é—´çš„é•¿åº¦ï¼Œå•ä½æ˜¯ç§’ max-&lt;/p></description></item><item><title>linux dnsï¼ˆnamedï¼‰æœ€å°é…ç½®</title><link>https://notes.zhangwenbing.com/blog/linux/HkiLUE5UCf/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/HkiLUE5UCf/</guid><description>&lt;blockquote>
&lt;p>none&lt;/p>
&lt;/blockquote>
&lt;h2 id="ä¸€ç®€ä»‹">
 ä¸€ã€ç®€ä»‹
 &lt;a class="anchor" href="#%e4%b8%80%e7%ae%80%e4%bb%8b">#&lt;/a>
&lt;/h2>
&lt;p>ç›¸å¯¹äºå­˜å‚¨å’Œå¤§æ•°æ®é¢†åŸŸï¼ŒCDNæ˜¯ä¸€ä¸ªç›¸å¯¹å°çš„é¢†åŸŸï¼Œä½†è¡Œè¡Œå‡ºçŠ¶å…ƒï¼ŒBINDå°±æ˜¯CDNé¢†åŸŸçš„è‰è”Nå±Šçš„çŠ¶å…ƒéƒã€‚BINDæ˜¯ä¸€æ¬¾éå¸¸å¸¸ç”¨çš„DNSå¼€æºæœåŠ¡å™¨ï¼Œå…¨çƒæœ‰90%çš„DNSç”¨BINDå®ç°ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼ŒBIND9.8.1ç”¨Cè¯­è¨€å®ç°ï¼Œä»£ç é‡å·¨å¤§ï¼Œå…¶è®¾è®¡å®ç°å‡ ä¹æ¶µç›–äº†æœåŠ¡å™¨ç¼–ç¨‹çš„æ‰€æœ‰ç»†èŠ‚ã€‚&lt;/p></description></item><item><title>linux mountå‘½ä»¤è¯¦è§£</title><link>https://notes.zhangwenbing.com/blog/linux/B1OZ8INcIAM/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/B1OZ8INcIAM/</guid><description>&lt;h2 id="åŠŸèƒ½">
 åŠŸèƒ½
 &lt;a class="anchor" href="#%e5%8a%9f%e8%83%bd">#&lt;/a>
&lt;/h2>
&lt;p>åŠ è½½æŒ‡å®šçš„æ–‡ä»¶ç³»ç»Ÿã€‚&lt;/p>
&lt;h2 id="è¯­æ³•">
 è¯­æ³•
 &lt;a class="anchor" href="#%e8%af%ad%e6%b3%95">#&lt;/a>
&lt;/h2>
&lt;p>mount [-afFhnrvVw] [-L] [-o] [-t] [è®¾å¤‡å] [åŠ è½½ç‚¹]&lt;/p>
&lt;h2 id="ç”¨æ³•">
 ç”¨æ³•
 &lt;a class="anchor" href="#%e7%94%a8%e6%b3%95">#&lt;/a>
&lt;/h2>
&lt;p>è¯´æ˜ï¼šmountå¯å°†æŒ‡å®šè®¾å¤‡ä¸­æŒ‡å®šçš„æ–‡ä»¶ç³»ç»ŸåŠ è½½åˆ°Linuxç›®å½•ä¸‹ï¼ˆä¹Ÿå°±æ˜¯è£…è½½ç‚¹ï¼‰ã€‚å¯å°†ç»å¸¸ä½¿ç”¨çš„è®¾å¤‡å†™å…¥æ–‡ä»¶/etc/fastab,ä»¥ä½¿ç³»ç»Ÿåœ¨æ¯æ¬¡å¯åŠ¨æ—¶è‡ªåŠ¨åŠ è½½ã€‚mountåŠ è½½è®¾å¤‡çš„ä¿¡æ¯è®°å½•åœ¨/etc/mtabæ–‡ä»¶ä¸­ã€‚ä½¿ç”¨umountå‘½ä»¤å¸è½½è®¾å¤‡æ—¶ï¼Œè®°å½•å°†è¢«æ¸…é™¤ã€‚&lt;/p></description></item><item><title>linux nfsé…ç½®åŠè®¿é—®æ§åˆ¶</title><link>https://notes.zhangwenbing.com/blog/linux/rJJe8UNcU0M/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/rJJe8UNcU0M/</guid><description>&lt;h2 id="nfsè½¯ä»¶åŒ…">
 NFSè½¯ä»¶åŒ…
 &lt;a class="anchor" href="#nfs%e8%bd%af%e4%bb%b6%e5%8c%85">#&lt;/a>
&lt;/h2>
&lt;p>nfs-utils portmap (rhel6æ¢æˆäº†rpcbind ,æ‰€ä»¥å¯åŠ¨æœåŠ¡æ—¶éœ€è¦æ³¨æ„)&lt;/p>
&lt;h2 id="nfsæ–‡ä»¶">
 NFSæ–‡ä»¶
 &lt;a class="anchor" href="#nfs%e6%96%87%e4%bb%b6">#&lt;/a>
&lt;/h2>
&lt;p>/etc/exports #NFSä¸»é…ç½®æ–‡ä»¶ /etc/init.d/nfs #NFSå¯åŠ¨è„šæœ¬ /etc/init.d/protmap&lt;/p>
&lt;p>#portmapå¯åŠ¨è„šæœ¬ /var/lib/*tab #NFSæ—¥å¿—æ–‡ä»¶&lt;/p></description></item><item><title>linux openssh å¸¸è§é—®é¢˜æ±‡æ€»</title><link>https://notes.zhangwenbing.com/blog/linux/SJ68UEcUCM/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/SJ68UEcUCM/</guid><description>&lt;blockquote>
&lt;p>è½¯ä»¶åŒ…å&lt;/p>
&lt;/blockquote>
&lt;p>openssh-server openssh-clients&lt;/p>
&lt;p>æœåŠ¡åï¼šsshd&lt;/p>
&lt;p>æœåŠ¡ç«¯é…ç½®æ–‡ä»¶ï¼š/etc/ssh/sshd.config å®¢æˆ·ç«¯â€¦&lt;/p>
&lt;h2 id="è½¯ä»¶åŒ…å">
 è½¯ä»¶åŒ…å
 &lt;a class="anchor" href="#%e8%bd%af%e4%bb%b6%e5%8c%85%e5%90%8d">#&lt;/a>
&lt;/h2>
&lt;p>openssh-server openssh-clients&lt;/p>
&lt;h2 id="æœåŠ¡åsshd">
 æœåŠ¡åï¼šsshd
 &lt;a class="anchor" href="#%e6%9c%8d%e5%8a%a1%e5%90%8dsshd">#&lt;/a>
&lt;/h2>
&lt;p>æœåŠ¡ç«¯é…ç½®æ–‡ä»¶ï¼š/etc/ssh/sshd.config å®¢æˆ·ç«¯é…ç½®æ–‡ä»¶ï¼š/etc/ssh/ssh.config&lt;/p></description></item><item><title>linux sambaé…ç½®åŠä¹±ç çš„è§£å†³æ–¹æ³•</title><link>https://notes.zhangwenbing.com/blog/linux/rkxlI845IAz/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/rkxlI845IAz/</guid><description>&lt;h2 id="ç®€è¦è¯´æ˜">
 ç®€è¦è¯´æ˜
 &lt;a class="anchor" href="#%e7%ae%80%e8%a6%81%e8%af%b4%e6%98%8e">#&lt;/a>
&lt;/h2>
&lt;p>sambaï¼šè¿™ä¸ªè½¯ä½“ä¸»è¦æä¾›äº†SMBä¼ºæœå™¨æ‰€éœ€çš„å„é¡¹æœåŠ¡ç¨‹å¼(smbdåŠnmbd)ã€çš„æ–‡ä»¶æ¡£ã€ä»¥åŠå…¶ä»–ä¸SAMBAç›¸å…³çš„logrotateè®¾å®šæ¡£åŠå¼€æœºé¢„è®¾é€‰é¡¹æ¡£æ¡ˆç­‰ï¼›&lt;/p></description></item><item><title>Linux Screenå‘½ä»¤</title><link>https://notes.zhangwenbing.com/blog/linux/B1muLLNcIRf/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/B1muLLNcIRf/</guid><description>&lt;p>Linux screen å‘½ä»¤ç”¨äºå¤šé‡è§†çª—ç®¡ç†ç¨‹åºã€‚&lt;/p>
&lt;p>screen ä¸ºå¤šé‡è§†çª—ç®¡ç†ç¨‹åºã€‚æ­¤å¤„æ‰€è°“çš„è§†çª—ï¼Œæ˜¯æŒ‡ä¸€ä¸ªå…¨å±å¹•çš„æ–‡å­—æ¨¡å¼ç”»é¢ã€‚é€šå¸¸åªæœ‰åœ¨ä½¿ç”¨ telnet ç™»å…¥ä¸»æœºæˆ–æ˜¯ä½¿ç”¨è€å¼çš„ç»ˆç«¯æœºæ—¶ï¼Œæ‰æœ‰å¯èƒ½ç”¨åˆ° screen ç¨‹åºã€‚&lt;/p></description></item><item><title>linux VMè™šæ‹Ÿå†…å­˜å’ŒBDPä¼˜åŒ–</title><link>https://notes.zhangwenbing.com/blog/linux/Hk2bI84c8Rz/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/Hk2bI84c8Rz/</guid><description>&lt;blockquote>
&lt;p>none&lt;/p>
&lt;/blockquote>
&lt;h2 id="vmè™šæ‹Ÿå†…å­˜ä¼˜åŒ–">
 VMè™šæ‹Ÿå†…å­˜ä¼˜åŒ–
 &lt;a class="anchor" href="#vm%e8%99%9a%e6%8b%9f%e5%86%85%e5%ad%98%e4%bc%98%e5%8c%96">#&lt;/a>
&lt;/h2>
&lt;p>#getconf PAGESIZE&lt;/p>
&lt;p>vm.dirty_background_bytes ç³»ç»Ÿå†…æ‰€åŒ…å«çš„è„æ•°æ®æ€»æ•°&lt;/p>
&lt;p>vm.dirty_background_ratio è„æ•°æ®æ‰€å ç”¨å†…å­˜çš„ç™¾åˆ†æ¯”&lt;/p>
&lt;p>vm.dirty_expire_centisecs è„æ•°æ®åœ¨å†…å­˜ä¸­çš„å­˜æ”¾æ—¶é—´&lt;/p>
&lt;p>vm.dirty_bytes å¦‚æœè¿›ç¨‹çš„è„æ•°æ®è¶…è¿‡è¯¥å€¼æ—¶åˆ™è¦æ±‚å†™åˆ°ç£ç›˜&lt;/p>
&lt;h2 id="bdpä¼˜åŒ–">
 BDPä¼˜åŒ–
 &lt;a class="anchor" href="#bdp%e4%bc%98%e5%8c%96">#&lt;/a>
&lt;/h2>
&lt;p>BDP=Bandwidth*RRT net.core.rmem_max æœ€å¤§ç¼“å†²åŒº(çª—å£)å¤§å°&lt;/p></description></item><item><title>linux vncç®€å•é…ç½®</title><link>https://notes.zhangwenbing.com/blog/linux/H13UIE5LRM/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/H13UIE5LRM/</guid><description>&lt;blockquote>
&lt;p>none&lt;/p>
&lt;/blockquote>
&lt;h2 id="vncç«¯å£">
 VNCç«¯å£
 &lt;a class="anchor" href="#vnc%e7%ab%af%e5%8f%a3">#&lt;/a>
&lt;/h2>
&lt;p>vncserverç›‘å¬ç«¯å£ RFBåè®®ï¼š5900+æ¡Œé¢å· HTTPåè®®ï¼š5800+æ¡Œé¢å· Xåè®®ï¼š6000+æ¡Œé¢å·&lt;/p>
&lt;p>vncserverä½¿ç”¨çš„æ¡Œé¢ç¼–å·é»˜è®¤æ˜¯ä»1å¼€å§‹ï¼Œä¾æ¬¡ä½¿ç”¨ã€‚&lt;/p></description></item><item><title>linux å¸¸ç”¨ç³»ç»Ÿèµ„æºæŸ¥çœ‹å‘½ä»¤</title><link>https://notes.zhangwenbing.com/blog/linux/S19ZLLE9I0G/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/S19ZLLE9I0G/</guid><description>&lt;blockquote>
&lt;p>none&lt;/p>
&lt;/blockquote>
&lt;h2 id="ä¸€sarå‘½ä»¤">
 ä¸€ã€sarå‘½ä»¤
 &lt;a class="anchor" href="#%e4%b8%80sar%e5%91%bd%e4%bb%a4">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code># sar 1 10 ç›‘æ§CPUï¼Œæ¯ç§’ç›‘æ§ä¸€æ¬¡ï¼Œå…±ç›‘æ§10æ¬¡
# sar -P ALL 1 5 ç›‘æ§æ‰€æœ‰CPU
# sar -S 1 10 ç›‘æ§äº¤æ¢åˆ†åŒº
# sar -d 1 10 ç›‘æ§ç£ç›˜IO
# sar -b 1 10 ç›‘æ§ç£ç›˜IOå’Œé€Ÿç‡
# sar -r 1 10 ç›‘æ§å†…å­˜ä½¿ç”¨
# sar -n DEV 1 10 ç›‘æ§ç½‘ç»œæ¥å£å¡çš„æ•°æ®ä¼ è¾“
&lt;/code>&lt;/pre>&lt;h2 id="äºŒmpstat">
 äºŒã€mpstat
 &lt;a class="anchor" href="#%e4%ba%8cmpstat">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code># mpstat -P ALL 1 10
&lt;/code>&lt;/pre>&lt;h2 id="ä¸‰iostat">
 ä¸‰ã€iostat
 &lt;a class="anchor" href="#%e4%b8%89iostat">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code># iostat -c 2
# iostat -d 1 100
# iostat 1 20
# iostat -p /dev/sda2 1 10
&lt;/code>&lt;/pre>&lt;h2 id="å››vmstat">
 å››ã€vmstat
 &lt;a class="anchor" href="#%e5%9b%9bvmstat">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>#vmstat -d 1 20
è¾“å‡ºä¿¡æ¯
r è¿è¡Œé˜Ÿåˆ—ä¸­çš„è¿›ç¨‹æ•°ï¼Œä¸è¦é•¿æ—¶é—´è¶…è¿‡CPUæ ¸å¿ƒæ€»æ•°
b ç­‰å¾…IOçš„è¿›ç¨‹æ•°
si æ¯ç§’ä»äº¤æ¢åˆ†åŒºå†™åˆ°å†…å­˜çš„æ•°æ®å¤§å°
so æ¯ç§’å†™å…¥äº¤æ¢åˆ†åŒºçš„æ•°æ®å¤§å°
#vmstat -a 1 10
&lt;/code>&lt;/pre>&lt;h2 id="äº”å…¶å®ƒå¸¸ç”¨ç›‘æ§å‘½ä»¤">
 äº”ã€å…¶å®ƒå¸¸ç”¨ç›‘æ§å‘½ä»¤
 &lt;a class="anchor" href="#%e4%ba%94%e5%85%b6%e5%ae%83%e5%b8%b8%e7%94%a8%e7%9b%91%e6%8e%a7%e5%91%bd%e4%bb%a4">#&lt;/a>
&lt;/h2>
&lt;p>(1) top (2) free (3) iptraf&lt;/p></description></item><item><title>linux é˜²æ‹’ç»æœåŠ¡æ”»å‡»</title><link>https://notes.zhangwenbing.com/blog/linux/H1sZIUN9I0f/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/H1sZIUN9I0f/</guid><description>&lt;blockquote>
&lt;p>none&lt;/p>
&lt;/blockquote>
&lt;h2 id="ä¸€ä½¿ç”¨è„šæœ¬">
 ä¸€ã€ä½¿ç”¨è„šæœ¬
 &lt;a class="anchor" href="#%e4%b8%80%e4%bd%bf%e7%94%a8%e8%84%9a%e6%9c%ac">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>wget http://www.inetbase.com/scripts/ddos/install.sh å®‰è£…è„šæœ¬
wget http://www.inetbase.com/scripts/ddos/uninstall.sh å¸è½½è„šæœ¬
&lt;/code>&lt;/pre>&lt;h2 id="äºŒå†…æ ¸ä¼˜åŒ–">
 äºŒã€å†…æ ¸ä¼˜åŒ–
 &lt;a class="anchor" href="#%e4%ba%8c%e5%86%85%e6%a0%b8%e4%bc%98%e5%8c%96">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>net.ipv4.tcp_max_syn_backlog = 1024 #è®¾å®šsyné˜Ÿåˆ—é•¿åº¦
net.ipv4.tcp_syncookies = 1 #è®¾å®šæ˜¯å¦å¯ç”¨cookies
net.ipv4.tcp_synack_retries = 3 #è®¾å®šsynacké‡è¯•æ¬¡æ•°
net.ipv4.tcp_syn_retries = 2 #è®¾å®šsyné‡è¯•æ¬¡æ•°
net.ipv4.icmp_echo_ignore_all = 1 #ä¸å›åº”ping
net.ipv4.icmp_echo_ignore_broadcast = 1 #ä¸å›åº”å¹¿æ’­ping
&lt;/code>&lt;/pre>&lt;h2 id="ä¸‰é˜²ç«å¢™é…ç½®">
 ä¸‰ã€é˜²ç«å¢™é…ç½®
 &lt;a class="anchor" href="#%e4%b8%89%e9%98%b2%e7%81%ab%e5%a2%99%e9%85%8d%e7%bd%ae">#&lt;/a>
&lt;/h2>
&lt;h3 id="1åŸºäºæ•°æ®åŒ…è¿›è¡Œé™åˆ¶">
 1ã€åŸºäºæ•°æ®åŒ…è¿›è¡Œé™åˆ¶
 &lt;a class="anchor" href="#1%e5%9f%ba%e4%ba%8e%e6%95%b0%e6%8d%ae%e5%8c%85%e8%bf%9b%e8%a1%8c%e9%99%90%e5%88%b6">#&lt;/a>
&lt;/h3>
&lt;pre tabindex="0">&lt;code>#iptables -A INPUT -p tcp --tcp-flags syn,ack,fin syn -m limit --limit 5/s --limit-burst 8 -j ACCEPT
#iptables -A INPUT -p tcp -m state --state ESTABLISHED,RELATED -j ACCEPT
&lt;/code>&lt;/pre>&lt;h3 id="2åŸºäºè¿æ¥æ•°è¿›è¡Œé™åˆ¶">
 2ã€åŸºäºè¿æ¥æ•°è¿›è¡Œé™åˆ¶
 &lt;a class="anchor" href="#2%e5%9f%ba%e4%ba%8e%e8%bf%9e%e6%8e%a5%e6%95%b0%e8%bf%9b%e8%a1%8c%e9%99%90%e5%88%b6">#&lt;/a>
&lt;/h3>
&lt;pre tabindex="0">&lt;code>#iptables -A INPUT -s 192.168.0.0/24 -p tcp --dport 23 -m connlimit --connlimit-above 2 -j DROP
&lt;/code>&lt;/pre>&lt;h3 id="3åŸºäºåœ°å€åˆ—è¡¨è¿›è¡Œé™åˆ¶">
 3ã€åŸºäºåœ°å€åˆ—è¡¨è¿›è¡Œé™åˆ¶
 &lt;a class="anchor" href="#3%e5%9f%ba%e4%ba%8e%e5%9c%b0%e5%9d%80%e5%88%97%e8%a1%a8%e8%bf%9b%e8%a1%8c%e9%99%90%e5%88%b6">#&lt;/a>
&lt;/h3>
&lt;pre tabindex="0">&lt;code>#iptables -A INPUT -p tcp --dport 80 --tcp-flags syn,ack,fin syn -m recent --name webpool --rcheck --seconds 120 --hitcount 10 -j LOG --log-prefix=&amp;#34;ddos:&amp;#34; --log-ip-options
#iptables -A INPUT -p tcp --dport 80 --syn -m recent --name webpool --rcheck --seconds 120 --hitcount 10 -j DROP
#iptables -A INPUT -p tcp --dport 80 --syn -m recent --name webpool --set -j ACCEPT
&lt;/code>&lt;/pre></description></item><item><title>linux é˜²å¾¡SYNæ”»å‡»</title><link>https://notes.zhangwenbing.com/blog/linux/HyYg884c80f/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/HyYg884c80f/</guid><description>&lt;blockquote>
&lt;p>none&lt;/p>
&lt;/blockquote>
&lt;h2 id="ä¸€é»˜è®¤syné…ç½®">
 ä¸€ã€é»˜è®¤syné…ç½®
 &lt;a class="anchor" href="#%e4%b8%80%e9%bb%98%e8%ae%a4syn%e9%85%8d%e7%bd%ae">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>sysctl -a | grep _syn
net.ipv4.tcp_max_syn_backlog = 1024
net.ipv4.tcp_syncookies = 1
net.ipv4.tcp_synack_retries = 5
net.ipv4.tcp_syn_retries = 5
&lt;/code>&lt;/pre>&lt;p>tcp_max_syn_backlog æ˜¯SYNé˜Ÿåˆ—çš„é•¿åº¦ï¼ŒåŠ å¤§SYNé˜Ÿåˆ—é•¿åº¦å¯ä»¥å®¹çº³æ›´å¤šç­‰å¾…è¿æ¥çš„ç½‘ç»œè¿æ¥æ•°ã€‚&lt;/p>
&lt;p>tcp_syncookiesæ˜¯ä¸€ä¸ªå¼€å…³ï¼Œæ˜¯å¦æ‰“å¼€SYN Cookie åŠŸèƒ½ï¼Œè¯¥åŠŸèƒ½å¯ä»¥é˜²æ­¢éƒ¨åˆ†SYNæ”»å‡»ã€‚&lt;/p></description></item><item><title>linuxï¼ˆå†…æ ¸ï¼‰oom kille vm.overcommit_memoryå‚æ•°è¯¦è§£</title><link>https://notes.zhangwenbing.com/blog/linux/HkGxI8VcL0f/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/HkGxI8VcL0f/</guid><description>&lt;blockquote>
&lt;p>none&lt;/p>
&lt;/blockquote>
&lt;h2 id="è¯¦ç»†è¯´æ˜">
 è¯¦ç»†è¯´æ˜
 &lt;a class="anchor" href="#%e8%af%a6%e7%bb%86%e8%af%b4%e6%98%8e">#&lt;/a>
&lt;/h2>
&lt;p>å¯é€‰å€¼ï¼š0ã€1ã€2ã€‚&lt;/p>
&lt;p>0ï¼Œ è¡¨ç¤ºå†…æ ¸å°†æ£€æŸ¥æ˜¯å¦æœ‰è¶³å¤Ÿçš„å¯ç”¨å†…å­˜ä¾›åº”ç”¨è¿›ç¨‹ä½¿ç”¨ï¼›å¦‚æœæœ‰è¶³å¤Ÿçš„å¯ç”¨å†…å­˜ï¼Œå†…å­˜ç”³è¯·å…è®¸ï¼›å¦åˆ™ï¼Œå†…å­˜ç”³è¯·å¤±è´¥ï¼Œå¹¶æŠŠé”™è¯¯è¿”å›ç»™åº”ç”¨è¿›ç¨‹ã€‚&lt;/p></description></item><item><title>linuxä»£ç†åœ°å€å¤±æ•ˆå¯¼è‡´çš„é—®é¢˜è§£æ</title><link>https://notes.zhangwenbing.com/blog/linux/HJCOI8NqUAG/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/HJCOI8NqUAG/</guid><description>&lt;blockquote>
&lt;p>none&lt;/p>
&lt;/blockquote>
&lt;h2 id="é”™è¯¯æè¿°">
 é”™è¯¯æè¿°
 &lt;a class="anchor" href="#%e9%94%99%e8%af%af%e6%8f%8f%e8%bf%b0">#&lt;/a>
&lt;/h2>
&lt;p>ä»»ä½•éœ€è¦ä½¿ç”¨httpæœåŠ¡çš„ç¨‹åºéƒ½ä¼šå­˜åœ¨å‡æ­»æˆ–è¶…æ—¶ï¼ŒåŒ…æ‹¬wgetã€curã€yumç­‰ç­‰ã€‚&lt;/p>
&lt;h2 id="åˆæ­¥å‘ç°">
 åˆæ­¥å‘ç°
 &lt;a class="anchor" href="#%e5%88%9d%e6%ad%a5%e5%8f%91%e7%8e%b0">#&lt;/a>
&lt;/h2>
&lt;p>ä½¿ç”¨sudo å¯æ˜¯æ­£å¸¸è®¿é—®ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>sudo yum install wget
&lt;/code>&lt;/pre>&lt;h2 id="ç„¶åå‘ç°">
 ç„¶åå‘ç°
 &lt;a class="anchor" href="#%e7%84%b6%e5%90%8e%e5%8f%91%e7%8e%b0">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>[root@jn6 tmp]# wget http://mirrors.163.com/.help/CentOS6-Base-163.repo
--2018-03-08 14:13:53-- http://mirrors.163.com/.help/CentOS6-Base-163.repo
Connecting to 10.1.205.242:3128...
&lt;/code>&lt;/pre>&lt;p>æ ¹æ®ä¸Šé¢çš„æç¤ºå‘ç°äº†&lt;/p></description></item><item><title>linuxå†…å­˜æ¸…ç†é‡Šæ”¾å‘½ä»¤</title><link>https://notes.zhangwenbing.com/blog/linux/S13z8UE5UCf/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/S13z8UE5UCf/</guid><description>&lt;blockquote>
&lt;p>none&lt;/p>
&lt;/blockquote>
&lt;h2 id="å‘½ä»¤">
 å‘½ä»¤
 &lt;a class="anchor" href="#%e5%91%bd%e4%bb%a4">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>sync
echo 1 &amp;gt; /proc/sys/vm/drop_caches
echo 2 &amp;gt; /proc/sys/vm/drop_caches
echo 3 &amp;gt; /proc/sys/vm/drop_caches
&lt;/code>&lt;/pre>&lt;h2 id="è§£é‡Š">
 è§£é‡Š
 &lt;a class="anchor" href="#%e8%a7%a3%e9%87%8a">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>cacheé‡Šæ”¾ï¼š
To free pagecache:
echo 1 &amp;gt; /proc/sys/vm/drop_caches

To free dentries and inodes:
echo 2 &amp;gt; /proc/sys/vm/drop_caches

To free pagecache, dentries and inodes:
echo 3 &amp;gt; /proc/sys/vm/drop_caches
&lt;/code>&lt;/pre>&lt;h2 id="è¯´æ˜">
 è¯´æ˜
 &lt;a class="anchor" href="#%e8%af%b4%e6%98%8e">#&lt;/a>
&lt;/h2>
&lt;p>é‡Šæ”¾å‰æœ€å¥½syncä¸€ä¸‹ï¼Œé˜²æ­¢ä¸¢æ•°æ®ã€‚&lt;/p></description></item><item><title>Linuxæ¸…é™¤å†…å­˜</title><link>https://notes.zhangwenbing.com/blog/linux/B1FO88V580M/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/B1FO88V580M/</guid><description>&lt;h2 id="å¦‚ä½•åœ¨-linux-ä¸­æ¸…é™¤ç¼“å­˜cache">
 å¦‚ä½•åœ¨ Linux ä¸­æ¸…é™¤ç¼“å­˜ï¼ˆCacheï¼‰ï¼Ÿ
 &lt;a class="anchor" href="#%e5%a6%82%e4%bd%95%e5%9c%a8-linux-%e4%b8%ad%e6%b8%85%e9%99%a4%e7%bc%93%e5%ad%98cache">#&lt;/a>
&lt;/h2>
&lt;p>æ¯ä¸ª Linux ç³»ç»Ÿæœ‰ä¸‰ç§é€‰é¡¹æ¥æ¸…é™¤ç¼“å­˜è€Œä¸éœ€è¦ä¸­æ–­ä»»ä½•è¿›ç¨‹æˆ–æœåŠ¡ã€‚&lt;/p>
&lt;p>ï¼ˆLCTT è¯‘æ³¨ï¼šCacheï¼Œè¯‘ä½œâ€œç¼“å­˜â€ï¼ŒæŒ‡ CPU&lt;/p></description></item><item><title>linuxæ— äººå€¼å®ˆå®‰è£…ä¹‹æ‰¾ä¸åˆ°pxelinux.0æ–‡ä»¶çš„è§£å†³åŠæ³•</title><link>https://notes.zhangwenbing.com/blog/linux/ryedLUN9UAf/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/ryedLUN9UAf/</guid><description>&lt;blockquote>
&lt;p>none&lt;/p>
&lt;/blockquote>
&lt;h2 id="è§£å†³æ€è·¯">
 è§£å†³æ€è·¯
 &lt;a class="anchor" href="#%e8%a7%a3%e5%86%b3%e6%80%9d%e8%b7%af">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>yum search pxelinux
&lt;/code>&lt;/pre>&lt;p>é€šè¿‡ä¸Šé¢çš„æ–¹æ³•æˆ‘ä»¬æ‰¾åˆ°äº†syslinuxåŒ…&lt;/p>
&lt;p>ç„¶åå®‰è£…syslinux&lt;/p>
&lt;pre tabindex="0">&lt;code>yum install syslinux
&lt;/code>&lt;/pre>&lt;p>æœ€åæ‰¾åˆ°pxelinux.0æ–‡ä»¶&lt;/p>
&lt;pre tabindex="0">&lt;code>ls /usr/share/syslinux/pxelinux.0
&lt;/code>&lt;/pre></description></item><item><title>Mac terminalæ¸…é™¤å†å²å‘½ä»¤çºªå½•</title><link>https://notes.zhangwenbing.com/blog/macos/HkGt88E9U0f/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/macos/HkGt88E9U0f/</guid><description>&lt;blockquote>
&lt;p>Linuxä¼ ç»Ÿæ¸…é™¤æ–¹å¼å¹¶æ²¡èƒ½è§£å†³&lt;/p>
&lt;/blockquote>
&lt;p>history -c&lt;/p>
&lt;p>æˆ‘ç”¨çš„iterm2 + zsh&lt;/p>
&lt;p>å¸¸ç”¨historyå‘½ä»¤ï¼š&lt;/p>
&lt;p>æŸ¥çœ‹å†å²å‘½ä»¤çºªå½•:&lt;/p>
&lt;p>historyâ€¦&lt;/p>
&lt;p>Linuxä¼ ç»Ÿæ¸…é™¤æ–¹å¼å¹¶æ²¡èƒ½è§£å†³&lt;/p>
&lt;pre tabindex="0">&lt;code>history -c
&lt;/code>&lt;/pre>&lt;p>æˆ‘ç”¨çš„iterm2 + zsh&lt;/p></description></item><item><title>MacOS 10.12 è§£å†³æ‰¾ä¸åˆ°ä»»ä½•æ¥æºè®¾ç½®</title><link>https://notes.zhangwenbing.com/blog/macos/H1JGLLVcL0G/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/macos/H1JGLLVcL0G/</guid><description>&lt;blockquote>
&lt;p>å®‰è£…ç¬¬ä¸‰æ–¹è½¯ä»¶å¿…å¤‡æŠ€èƒ½&lt;/p>
&lt;/blockquote>
&lt;p>æ‰“å¼€ç»ˆç«¯ ( ç»ˆç«¯åœ¨ åº”ç”¨ç¨‹åº - å®ç”¨å·¥å…·å†… )&lt;/p>
&lt;p>è¾“å…¥ä»¥ä¸‹å‘½ä»¤å¹¶å›è½¦&lt;/p>
&lt;pre tabindex="0">&lt;code>sudo spctl --master-disable
&lt;/code>&lt;/pre>&lt;p>ç„¶åæŸ¥çœ‹é—®é¢˜æ˜¯å¦è§£å†³ï¼Œ åå¥½è®¾ç½®-&amp;gt;å®‰å…¨æ€§ä¸éšç§-&amp;gt;é€šç”¨-&amp;gt;ä»»ä½•æ¥æº&lt;/p></description></item><item><title>mediainfoè·å–tsæ–‡ä»¶å¤§å°å’Œä¿¡æ¯ä¸å‡†ç¡®ï¼ˆMPEG-TSï¼šæ£€æµ‹æ–‡ä»¶çš„åºåˆ—ï¼‰çš„è§£å†³åŠæ³•</title><link>https://notes.zhangwenbing.com/blog/linux/Sky_LU458CM/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/Sky_LU458CM/</guid><description>&lt;blockquote>
&lt;p>è§£å†³mediainfoè·å–tsåª’ä½“ä¿¡æ¯ä¸å‡†ç¡®é—®é¢˜&lt;/p>
&lt;/blockquote>
&lt;h2 id="åœºæ™¯">
 åœºæ™¯
 &lt;a class="anchor" href="#%e5%9c%ba%e6%99%af">#&lt;/a>
&lt;/h2>
&lt;p>åœ¨/opt/ç›®å½•ä¸‹æ€»å…±æœ‰200å¤šä¸ªæ–‡ä»¶æ–‡ä»¶ååˆ†åˆ«å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>/opt/2017LPLå¤å­£èµ›ç¬¬01é›†.ts&lt;/p></description></item><item><title>nginx ç®€å•é…ç½®åŠä½¿ç”¨æ•™ç¨‹</title><link>https://notes.zhangwenbing.com/blog/linux/SyqLL45IRz/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/SyqLL45IRz/</guid><description>&lt;blockquote>
&lt;p>none&lt;/p>
&lt;/blockquote>
&lt;h2 id="å¸¸ç”¨é…ç½®">
 å¸¸ç”¨é…ç½®
 &lt;a class="anchor" href="#%e5%b8%b8%e7%94%a8%e9%85%8d%e7%bd%ae">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>#è¿è¡Œç”¨æˆ·
user nobody;
#å¯åŠ¨è¿›ç¨‹,é€šå¸¸è®¾ç½®æˆå’Œcpuçš„æ•°é‡ç›¸ç­‰
worker_processes 1;

#å…¨å±€é”™è¯¯æ—¥å¿—åŠPIDæ–‡ä»¶
#error_log logs/error.log;
#error_log logs/error.log notice;
#error_log logs/error.log info;

#pid logs/nginx.pid;

#å·¥ä½œæ¨¡å¼åŠè¿æ¥æ•°ä¸Šé™
events {
 #epollæ˜¯å¤šè·¯å¤ç”¨IO(I/O Multiplexing)ä¸­çš„ä¸€ç§æ–¹å¼,
 #ä»…ç”¨äºlinux2.6ä»¥ä¸Šå†…æ ¸,å¯ä»¥å¤§å¤§æé«˜nginxçš„æ€§èƒ½
 use epoll;

 #å•ä¸ªåå°worker processè¿›ç¨‹çš„æœ€å¤§å¹¶å‘é“¾æ¥æ•°
 worker_connections 1024;

 # å¹¶å‘æ€»æ•°æ˜¯ worker_processes å’Œ worker_connections çš„ä¹˜ç§¯
 # å³ max_clients = worker_processes * worker_connections
 # åœ¨è®¾ç½®äº†åå‘ä»£ç†çš„æƒ…å†µä¸‹ï¼Œmax_clients = worker_processes * worker_connections / 4 ä¸ºä»€ä¹ˆ
 # ä¸ºä»€ä¹ˆä¸Šé¢åå‘ä»£ç†è¦é™¤ä»¥4ï¼Œåº”è¯¥è¯´æ˜¯ä¸€ä¸ªç»éªŒå€¼
 # æ ¹æ®ä»¥ä¸Šæ¡ä»¶ï¼Œæ­£å¸¸æƒ…å†µä¸‹çš„Nginx Serverå¯ä»¥åº”ä»˜çš„æœ€å¤§è¿æ¥æ•°ä¸ºï¼š4 * 8000 = 32000
 # worker_connections å€¼çš„è®¾ç½®è·Ÿç‰©ç†å†…å­˜å¤§å°æœ‰å…³
 # å› ä¸ºå¹¶å‘å—IOçº¦æŸï¼Œmax_clientsçš„å€¼é¡»å°äºç³»ç»Ÿå¯ä»¥æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶æ•°
 # è€Œç³»ç»Ÿå¯ä»¥æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶æ•°å’Œå†…å­˜å¤§å°æˆæ­£æ¯”ï¼Œä¸€èˆ¬1GBå†…å­˜çš„æœºå™¨ä¸Šå¯ä»¥æ‰“å¼€çš„æ–‡ä»¶æ•°å¤§çº¦æ˜¯10ä¸‡å·¦å³
 # æˆ‘ä»¬æ¥çœ‹çœ‹360Må†…å­˜çš„VPSå¯ä»¥æ‰“å¼€çš„æ–‡ä»¶å¥æŸ„æ•°æ˜¯å¤šå°‘ï¼š
 # $ cat /proc/sys/fs/file-max
 # è¾“å‡º 34336
 # 32000 &amp;lt; 34336ï¼Œå³å¹¶å‘è¿æ¥æ€»æ•°å°äºç³»ç»Ÿå¯ä»¥æ‰“å¼€çš„æ–‡ä»¶å¥æŸ„æ€»æ•°ï¼Œè¿™æ ·å°±åœ¨æ“ä½œç³»ç»Ÿå¯ä»¥æ‰¿å—çš„èŒƒå›´ä¹‹å†…
 # æ‰€ä»¥ï¼Œworker_connections çš„å€¼éœ€æ ¹æ® worker_processes è¿›ç¨‹æ•°ç›®å’Œç³»ç»Ÿå¯ä»¥æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶æ€»æ•°è¿›è¡Œé€‚å½“åœ°è¿›è¡Œè®¾ç½®
 # ä½¿å¾—å¹¶å‘æ€»æ•°å°äºæ“ä½œç³»ç»Ÿå¯ä»¥æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶æ•°ç›®
 # å…¶å®è´¨ä¹Ÿå°±æ˜¯æ ¹æ®ä¸»æœºçš„ç‰©ç†CPUå’Œå†…å­˜è¿›è¡Œé…ç½®
 # å½“ç„¶ï¼Œç†è®ºä¸Šçš„å¹¶å‘æ€»æ•°å¯èƒ½ä¼šå’Œå®é™…æœ‰æ‰€åå·®ï¼Œå› ä¸ºä¸»æœºè¿˜æœ‰å…¶ä»–çš„å·¥ä½œè¿›ç¨‹éœ€è¦æ¶ˆè€—ç³»ç»Ÿèµ„æºã€‚
 # ulimit -SHn 65535

}

http {
 #è®¾å®šmimeç±»å‹,ç±»å‹ç”±mime.typeæ–‡ä»¶å®šä¹‰
 include mime.types;
 default_type application/octet-stream;
 #è®¾å®šæ—¥å¿—æ ¼å¼
 log_format main &amp;#39;$remote_addr - $remote_user [$time_local] &amp;#34;$request&amp;#34; &amp;#39;
 &amp;#39;$status $body_bytes_sent &amp;#34;$http_referer&amp;#34; &amp;#39;
 &amp;#39;&amp;#34;$http_user_agent&amp;#34; &amp;#34;$http_x_forwarded_for&amp;#34;&amp;#39;;

 access_log logs/access.log main;

 #sendfile æŒ‡ä»¤æŒ‡å®š nginx æ˜¯å¦è°ƒç”¨ sendfile å‡½æ•°ï¼ˆzero copy æ–¹å¼ï¼‰æ¥è¾“å‡ºæ–‡ä»¶ï¼Œ
 #å¯¹äºæ™®é€šåº”ç”¨ï¼Œå¿…é¡»è®¾ä¸º on,
 #å¦‚æœç”¨æ¥è¿›è¡Œä¸‹è½½ç­‰åº”ç”¨ç£ç›˜IOé‡è´Ÿè½½åº”ç”¨ï¼Œå¯è®¾ç½®ä¸º offï¼Œ
 #ä»¥å¹³è¡¡ç£ç›˜ä¸ç½‘ç»œI/Oå¤„ç†é€Ÿåº¦ï¼Œé™ä½ç³»ç»Ÿçš„uptime.
 sendfile on;
 #tcp_nopush on;

 #è¿æ¥è¶…æ—¶æ—¶é—´
 #keepalive_timeout 0;
 keepalive_timeout 65;
 tcp_nodelay on;

 #å¼€å¯gzipå‹ç¼©
 gzip on;
 gzip_disable &amp;#34;MSIE [1-6].&amp;#34;;

 #è®¾å®šè¯·æ±‚ç¼“å†²
 client_header_buffer_size 128k;
 large_client_header_buffers 4 128k;

 #è®¾å®šè™šæ‹Ÿä¸»æœºé…ç½®
 server {
 #ä¾¦å¬80ç«¯å£
 listen 80;
 #å®šä¹‰ä½¿ç”¨ www.nginx.cnè®¿é—®
 server_name www.nginx.cn;

 #å®šä¹‰æœåŠ¡å™¨çš„é»˜è®¤ç½‘ç«™æ ¹ç›®å½•ä½ç½®
 root html;

 #è®¾å®šæœ¬è™šæ‹Ÿä¸»æœºçš„è®¿é—®æ—¥å¿—
 access_log logs/nginx.access.log main;

 #é»˜è®¤è¯·æ±‚
 location / {

 #å®šä¹‰é¦–é¡µç´¢å¼•æ–‡ä»¶çš„åç§°
 index index.php index.html index.htm;

 }

 # å®šä¹‰é”™è¯¯æç¤ºé¡µé¢
 error_page 500 502 503 504 /50x.html;
 location = /50x.html {
 }

 #é™æ€æ–‡ä»¶ï¼Œnginxè‡ªå·±å¤„ç†
 location ~ ^/(images|javascript|js|css|flash|media|static)/ {

 #è¿‡æœŸ30å¤©ï¼Œé™æ€æ–‡ä»¶ä¸æ€ä¹ˆæ›´æ–°ï¼Œè¿‡æœŸå¯ä»¥è®¾å¤§ä¸€ç‚¹ï¼Œ
 #å¦‚æœé¢‘ç¹æ›´æ–°ï¼Œåˆ™å¯ä»¥è®¾ç½®å¾—å°ä¸€ç‚¹ã€‚
 expires 30d;
 }

 #PHP è„šæœ¬è¯·æ±‚å…¨éƒ¨è½¬å‘åˆ° FastCGIå¤„ç†. ä½¿ç”¨FastCGIé»˜è®¤é…ç½®.
 location ~ .php$ {
 fastcgi_pass 127.0.0.1:9000;
 fastcgi_index index.php;
 fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
 include fastcgi_params;
 }

 #ç¦æ­¢è®¿é—® .htxxx æ–‡ä»¶
 location ~ /.ht {
 deny all;
 }

 }
}
&lt;/code>&lt;/pre>&lt;h2 id="å…¶ä»–é…ç½®">
 å…¶ä»–é…ç½®
 &lt;a class="anchor" href="#%e5%85%b6%e4%bb%96%e9%85%8d%e7%bd%ae">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>#å®šä¹‰Nginxè¿è¡Œçš„ç”¨æˆ·å’Œç”¨æˆ·ç»„
user www www;

#nginxè¿›ç¨‹æ•°ï¼Œå»ºè®®è®¾ç½®ä¸ºç­‰äºCPUæ€»æ ¸å¿ƒæ•°ã€‚
worker_processes 8;

#å…¨å±€é”™è¯¯æ—¥å¿—å®šä¹‰ç±»å‹ï¼Œ[ debug | info | notice | warn | error | crit ]
error_log /var/log/nginx/error.log info;

#è¿›ç¨‹æ–‡ä»¶
pid /var/run/nginx.pid;

#ä¸€ä¸ªnginxè¿›ç¨‹æ‰“å¼€çš„æœ€å¤šæ–‡ä»¶æè¿°ç¬¦æ•°ç›®ï¼Œç†è®ºå€¼åº”è¯¥æ˜¯æœ€å¤šæ‰“å¼€æ–‡ä»¶æ•°ï¼ˆç³»ç»Ÿçš„å€¼ulimit -nï¼‰ä¸nginxè¿›ç¨‹æ•°ç›¸é™¤ï¼Œä½†æ˜¯nginxåˆ†é…è¯·æ±‚å¹¶ä¸å‡åŒ€ï¼Œæ‰€ä»¥å»ºè®®ä¸ulimit -nçš„å€¼ä¿æŒä¸€è‡´ã€‚
worker_rlimit_nofile 65535;

#å·¥ä½œæ¨¡å¼ä¸è¿æ¥æ•°ä¸Šé™
events
{
#å‚è€ƒäº‹ä»¶æ¨¡å‹ï¼Œuse [ kqueue | rtsig | epoll | /dev/poll | select | poll ]; epollæ¨¡å‹æ˜¯Linux 2.6ä»¥ä¸Šç‰ˆæœ¬å†…æ ¸ä¸­çš„é«˜æ€§èƒ½ç½‘ç»œI/Oæ¨¡å‹ï¼Œå¦‚æœè·‘åœ¨FreeBSDä¸Šé¢ï¼Œå°±ç”¨kqueueæ¨¡å‹ã€‚
use epoll;
#å•ä¸ªè¿›ç¨‹æœ€å¤§è¿æ¥æ•°ï¼ˆæœ€å¤§è¿æ¥æ•°=è¿æ¥æ•°*è¿›ç¨‹æ•°ï¼‰
worker_connections 65535;
}

#è®¾å®šhttpæœåŠ¡å™¨
http
{
include mime.types; #æ–‡ä»¶æ‰©å±•åä¸æ–‡ä»¶ç±»å‹æ˜ å°„è¡¨
default_type application/octet-stream; #é»˜è®¤æ–‡ä»¶ç±»å‹
#charset utf-8; #é»˜è®¤ç¼–ç 
server_names_hash_bucket_size 128; #æœåŠ¡å™¨åå­—çš„hashè¡¨å¤§å°
client_header_buffer_size 32k; #ä¸Šä¼ æ–‡ä»¶å¤§å°é™åˆ¶
large_client_header_buffers 4 64k; #è®¾å®šè¯·æ±‚ç¼“
client_max_body_size 8m; #è®¾å®šè¯·æ±‚ç¼“
sendfile on; #å¼€å¯é«˜æ•ˆæ–‡ä»¶ä¼ è¾“æ¨¡å¼ï¼ŒsendfileæŒ‡ä»¤æŒ‡å®šnginxæ˜¯å¦è°ƒç”¨sendfileå‡½æ•°æ¥è¾“å‡ºæ–‡ä»¶ï¼Œå¯¹äºæ™®é€šåº”ç”¨è®¾ä¸º onï¼Œå¦‚æœç”¨æ¥è¿›è¡Œä¸‹è½½ç­‰åº”ç”¨ç£ç›˜IOé‡è´Ÿè½½åº”ç”¨ï¼Œå¯è®¾ç½®ä¸ºoffï¼Œä»¥å¹³è¡¡ç£ç›˜ä¸ç½‘ç»œI/Oå¤„ç†é€Ÿåº¦ï¼Œé™ä½ç³»ç»Ÿçš„è´Ÿè½½ã€‚æ³¨æ„ï¼šå¦‚æœå›¾ç‰‡æ˜¾ç¤ºä¸æ­£å¸¸æŠŠè¿™ä¸ªæ”¹æˆoffã€‚
autoindex on; #å¼€å¯ç›®å½•åˆ—è¡¨è®¿é—®ï¼Œåˆé€‚ä¸‹è½½æœåŠ¡å™¨ï¼Œé»˜è®¤å…³é—­ã€‚
tcp_nopush on; #é˜²æ­¢ç½‘ç»œé˜»å¡
tcp_nodelay on; #é˜²æ­¢ç½‘ç»œé˜»å¡
keepalive_timeout 120; #é•¿è¿æ¥è¶…æ—¶æ—¶é—´ï¼Œå•ä½æ˜¯ç§’

#FastCGIç›¸å…³å‚æ•°æ˜¯ä¸ºäº†æ”¹å–„ç½‘ç«™çš„æ€§èƒ½ï¼šå‡å°‘èµ„æºå ç”¨ï¼Œæé«˜è®¿é—®é€Ÿåº¦ã€‚ä¸‹é¢å‚æ•°çœ‹å­—é¢æ„æ€éƒ½èƒ½ç†è§£ã€‚
fastcgi_connect_timeout 300;
fastcgi_send_timeout 300;
fastcgi_read_timeout 300;
fastcgi_buffer_size 64k;
fastcgi_buffers 4 64k;
fastcgi_busy_buffers_size 128k;
fastcgi_temp_file_write_size 128k;

#gzipæ¨¡å—è®¾ç½®
gzip on; #å¼€å¯gzipå‹ç¼©è¾“å‡º
gzip_min_length 1k; #æœ€å°å‹ç¼©æ–‡ä»¶å¤§å°
gzip_buffers 4 16k; #å‹ç¼©ç¼“å†²åŒº
gzip_http_version 1.0; #å‹ç¼©ç‰ˆæœ¬ï¼ˆé»˜è®¤1.1ï¼Œå‰ç«¯å¦‚æœæ˜¯squid2.5è¯·ä½¿ç”¨1.0ï¼‰
gzip_comp_level 2; #å‹ç¼©ç­‰çº§
gzip_types text/plain application/x-javascript text/css application/xml;
#å‹ç¼©ç±»å‹ï¼Œé»˜è®¤å°±å·²ç»åŒ…å«text/htmlï¼Œæ‰€ä»¥ä¸‹é¢å°±ä¸ç”¨å†å†™äº†ï¼Œå†™ä¸Šå»ä¹Ÿä¸ä¼šæœ‰é—®é¢˜ï¼Œä½†æ˜¯ä¼šæœ‰ä¸€ä¸ªwarnã€‚
gzip_vary on;
#limit_zone crawler $binary_remote_addr 10m; #å¼€å¯é™åˆ¶IPè¿æ¥æ•°çš„æ—¶å€™éœ€è¦ä½¿ç”¨

upstream blog.ha97.com {
#upstreamçš„è´Ÿè½½å‡è¡¡ï¼Œweightæ˜¯æƒé‡ï¼Œå¯ä»¥æ ¹æ®æœºå™¨é…ç½®å®šä¹‰æƒé‡ã€‚weigthå‚æ•°è¡¨ç¤ºæƒå€¼ï¼Œæƒå€¼è¶Šé«˜è¢«åˆ†é…åˆ°çš„å‡ ç‡è¶Šå¤§ã€‚
server 192.168.80.121:80 weight=3;
server 192.168.80.122:80 weight=2;
server 192.168.80.123:80 weight=3;
}

#è™šæ‹Ÿä¸»æœºçš„é…ç½®
server
{
#ç›‘å¬ç«¯å£
listen 80;
#åŸŸåå¯ä»¥æœ‰å¤šä¸ªï¼Œç”¨ç©ºæ ¼éš”å¼€
server_name www.ha97.com ha97.com;
index index.html index.htm index.php;
root /data/www/ha97;
location ~ .*\.(php|php5)?$
{
fastcgi_pass 127.0.0.1:9000;
fastcgi_index index.php;
include fastcgi.conf;
}
#å›¾ç‰‡ç¼“å­˜æ—¶é—´è®¾ç½®
location ~ .*\.(gif|jpg|jpeg|png|bmp|swf)$
{
expires 10d;
}
#JSå’ŒCSSç¼“å­˜æ—¶é—´è®¾ç½®
location ~ .*\.(js|css)?$
{
expires 1h;
}
#æ—¥å¿—æ ¼å¼è®¾å®š
log_format access &amp;#39;$remote_addr - $remote_user [$time_local] &amp;#34;$request&amp;#34; &amp;#39;
&amp;#39;$status $body_bytes_sent &amp;#34;$http_referer&amp;#34; &amp;#39;
&amp;#39;&amp;#34;$http_user_agent&amp;#34; $http_x_forwarded_for&amp;#39;;
#å®šä¹‰æœ¬è™šæ‹Ÿä¸»æœºçš„è®¿é—®æ—¥å¿—
access_log /var/log/nginx/ha97access.log access;

#å¯¹ &amp;#34;/&amp;#34; å¯ç”¨åå‘ä»£ç†
location / {
proxy_pass http://127.0.0.1:88;
proxy_redirect off;
proxy_set_header X-Real-IP $remote_addr;
#åç«¯çš„WebæœåŠ¡å™¨å¯ä»¥é€šè¿‡X-Forwarded-Forè·å–ç”¨æˆ·çœŸå®IP
proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
#ä»¥ä¸‹æ˜¯ä¸€äº›åå‘ä»£ç†çš„é…ç½®ï¼Œå¯é€‰ã€‚
proxy_set_header Host $host;
client_max_body_size 10m; #å…è®¸å®¢æˆ·ç«¯è¯·æ±‚çš„æœ€å¤§å•æ–‡ä»¶å­—èŠ‚æ•°
client_body_buffer_size 128k; #ç¼“å†²åŒºä»£ç†ç¼“å†²ç”¨æˆ·ç«¯è¯·æ±‚çš„æœ€å¤§å­—èŠ‚æ•°ï¼Œ
proxy_connect_timeout 90; #nginxè·Ÿåç«¯æœåŠ¡å™¨è¿æ¥è¶…æ—¶æ—¶é—´(ä»£ç†è¿æ¥è¶…æ—¶)
proxy_send_timeout 90; #åç«¯æœåŠ¡å™¨æ•°æ®å›ä¼ æ—¶é—´(ä»£ç†å‘é€è¶…æ—¶)
proxy_read_timeout 90; #è¿æ¥æˆåŠŸåï¼Œåç«¯æœåŠ¡å™¨å“åº”æ—¶é—´(ä»£ç†æ¥æ”¶è¶…æ—¶)
proxy_buffer_size 4k; #è®¾ç½®ä»£ç†æœåŠ¡å™¨ï¼ˆnginxï¼‰ä¿å­˜ç”¨æˆ·å¤´ä¿¡æ¯çš„ç¼“å†²åŒºå¤§å°
proxy_buffers 4 32k; #proxy_buffersç¼“å†²åŒºï¼Œç½‘é¡µå¹³å‡åœ¨32kä»¥ä¸‹çš„è®¾ç½®
proxy_busy_buffers_size 64k; #é«˜è´Ÿè·ä¸‹ç¼“å†²å¤§å°ï¼ˆproxy_buffers*2ï¼‰
proxy_temp_file_write_size 64k;
#è®¾å®šç¼“å­˜æ–‡ä»¶å¤¹å¤§å°ï¼Œå¤§äºè¿™ä¸ªå€¼ï¼Œå°†ä»upstreamæœåŠ¡å™¨ä¼ 
}

#è®¾å®šæŸ¥çœ‹NginxçŠ¶æ€çš„åœ°å€
location /NginxStatus {
stub_status on;
access_log on;
auth_basic &amp;#34;NginxStatus&amp;#34;;
auth_basic_user_file conf/htpasswd;
#htpasswdæ–‡ä»¶çš„å†…å®¹å¯ä»¥ç”¨apacheæä¾›çš„htpasswdå·¥å…·æ¥äº§ç”Ÿã€‚
}

#æœ¬åœ°åŠ¨é™åˆ†ç¦»åå‘ä»£ç†é…ç½®
#æ‰€æœ‰jspçš„é¡µé¢å‡äº¤ç”±tomcatæˆ–resinå¤„ç†
location ~ .(jsp|jspx|do)?$ {
proxy_set_header Host $host;
proxy_set_header X-Real-IP $remote_addr;
proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
proxy_pass http://127.0.0.1:8080;
}
#æ‰€æœ‰é™æ€æ–‡ä»¶ç”±nginxç›´æ¥è¯»å–ä¸ç»è¿‡tomcatæˆ–resin
location ~ .*.(htm|html|gif|jpg|jpeg|png|bmp|swf|ioc|rar|zip|txt|flv|mid|doc|ppt|pdf|xls|mp3|wma)$
{ expires 15d; }
location ~ .*.(js|css)?$
{ expires 1h; }
}
}
&lt;/code>&lt;/pre></description></item><item><title>nginx+php+ThinkPHPç¯å¢ƒå¸¸è§é”™è¯¯æ€»ç»“</title><link>https://notes.zhangwenbing.com/blog/linux/ByS8884qI0M/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/ByS8884qI0M/</guid><description>&lt;blockquote>
&lt;p>é”™è¯¯ä¸€&lt;/p>
&lt;/blockquote>
&lt;p>2017/09/07 16:39:18 [error] 21753#0: *26 FastCGI sent in stderr: â€œPrimary sâ€¦&lt;/p>
&lt;h2 id="é”™è¯¯ä¸€">
 é”™è¯¯ä¸€
 &lt;a class="anchor" href="#%e9%94%99%e8%af%af%e4%b8%80">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>2017/09/07 16:39:18 [error] 21753#0: *26 FastCGI sent in stderr: &amp;#34;Primary script unknown&amp;#34; while reading response header from upstream, client: 172.31.26.114, server: localhost, request: &amp;#34;GET /1.php HTTP/1.1&amp;#34;, upstream: &amp;#34;fastcgi://127.0.0.1:9000&amp;#34;, host: &amp;#34;10.200.8.220:8000&amp;#34;
&lt;/code>&lt;/pre>&lt;h3 id="è§£å†³ç‰ˆæœ¬">
 è§£å†³ç‰ˆæœ¬
 &lt;a class="anchor" href="#%e8%a7%a3%e5%86%b3%e7%89%88%e6%9c%ac">#&lt;/a>
&lt;/h3>
&lt;p>åœ¨serverèŠ‚ç‚¹ä¸‹æ·»åŠ ä»¥ä¸‹é…ç½®&lt;/p></description></item><item><title>Nginxåå‘ä»£ç†ã€é•œåƒç¼“å­˜åŠ é€ŸåŠè´Ÿè½½å‡è¡¡çš„é…ç½®</title><link>https://notes.zhangwenbing.com/blog/linux/H1v8I4cLAf/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/H1v8I4cLAf/</guid><description>&lt;blockquote>
&lt;p>none&lt;/p>
&lt;/blockquote>
&lt;p>Nginxå·²ç»å…·å¤‡Squidæ‰€æ‹¥æœ‰çš„Webç¼“å­˜åŠ é€ŸåŠŸèƒ½ã€æ¸…é™¤æŒ‡å®šURLç¼“å­˜çš„åŠŸèƒ½ã€‚è€Œåœ¨æ€§èƒ½ä¸Šï¼ŒNginxå¯¹å¤šæ ¸CPUçš„åˆ©ç”¨ï¼Œèƒœè¿‡Squidä¸å°‘ã€‚å¦å¤–ï¼Œåœ¨åå‘ä»£ç†ã€è´Ÿè½½å‡è¡¡ã€å¥åº·æ£€æŸ¥ã€åç«¯æœåŠ¡å™¨æ•…éšœè½¬ç§»ã€Rewriteé‡å†™ã€æ˜“ç”¨æ€§ä¸Šï¼ŒNginxä¹Ÿæ¯”Squidå¼ºå¤§å¾—å¤šã€‚&lt;/p></description></item><item><title>nignxä¿®æ”¹æœ€å¤§ä¸Šä¼ æ–‡ä»¶å¤§å°é™åˆ¶</title><link>https://notes.zhangwenbing.com/blog/linux/rykY88V58CG/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/rykY88V58CG/</guid><description>&lt;blockquote>
&lt;p>none&lt;/p>
&lt;/blockquote>
&lt;pre tabindex="0">&lt;code>location / {
 root html;
 index index.html index.htm;
 client_max_body_size 1000m;
 }
&lt;/code>&lt;/pre>&lt;p>â€œclient_max_body_sizeâ€è®¾ç½®ä¸€ä¸‹ä¸Šä¼ çš„æœ€å¤§ä¸Šé™,ç„¶åé‡å¯nginxå³å¯ã€‚&lt;/p></description></item><item><title>rabbitmq æ¶ˆæ¯é˜Ÿåˆ—å®‰è£…å’Œé…ç½®</title><link>https://notes.zhangwenbing.com/blog/linux/HkXeLI4cIAG/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/HkXeLI4cIAG/</guid><description>&lt;blockquote>
&lt;p>none&lt;/p>
&lt;/blockquote>
&lt;h2 id="erlang">
 erlang
 &lt;a class="anchor" href="#erlang">#&lt;/a>
&lt;/h2>
&lt;p>é¦–å…ˆå®‰è£…erlangè¯­è¨€ç¯å¢ƒ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>yum install erlang -y
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="rabbitmq">
 rabbitMQ
 &lt;a class="anchor" href="#rabbitmq">#&lt;/a>
&lt;/h2>
&lt;p>rabbitMQä¸‹è½½åœ°å€ï¼šç›´è¾¾å®‰è£…æ–¹æ³•:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>rpm -ivh --force --nodeps rabbitmq-server-3.6.0-1.noarch.rpm
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>æˆ–è€…
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>yum localinstall rabbitmq-server-3.6.0-1.noarch.rpm -y
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å¯åŠ¨æœåŠ¡">
 å¯åŠ¨æœåŠ¡
 &lt;a class="anchor" href="#%e5%90%af%e5%8a%a8%e6%9c%8d%e5%8a%a1">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>/etc/init.d/rabbitmq-server start
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rabbitmq-plugins enable rabbitmq_management
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="é…ç½®ä¸»å¤‡">
 é…ç½®ä¸»å¤‡
 &lt;a class="anchor" href="#%e9%85%8d%e7%bd%ae%e4%b8%bb%e5%a4%87">#&lt;/a>
&lt;/h2>
&lt;h3 id="åŒæ­¥cookie">
 åŒæ­¥cookie
 &lt;a class="anchor" href="#%e5%90%8c%e6%ad%a5cookie">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>chmod &lt;span style="color:#ae81ff">777&lt;/span> /var/lib/rabbitmq/.erlang.cookie
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>scp /var/lib/rabbitmq/.erlang.cookie Go02:/var/lib/rabbitmq/.erlang.cookie
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>chmod &lt;span style="color:#ae81ff">400&lt;/span> /var/lib/rabbitmq/.erlang.cookie
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="æ·»åŠ èŠ‚ç‚¹">
 æ·»åŠ èŠ‚ç‚¹
 &lt;a class="anchor" href="#%e6%b7%bb%e5%8a%a0%e8%8a%82%e7%82%b9">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>rabbitmqctl stop_app
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rabbitmqctl reset
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rabbitmqctl join_cluster &lt;span style="color:#f92672">[&lt;/span>--ram&lt;span style="color:#f92672">]&lt;/span> rabbit@Go01 //æ­¤å¤„çš„Go01ä¸ºä¸»èŠ‚ç‚¹çš„hostname,éœ€è¦åœ¨/etc/hostsä¸­æŒ‡å®š
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rabbitmqctl start_app
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="åˆ é™¤èŠ‚ç‚¹">
 åˆ é™¤èŠ‚ç‚¹
 &lt;a class="anchor" href="#%e5%88%a0%e9%99%a4%e8%8a%82%e7%82%b9">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>rabbitmqctl stop_app
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rabbitmqctl forget_cluster_node rabbit@rabbit1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ä¿®æ”¹ç±»å‹">
 ä¿®æ”¹ç±»å‹
 &lt;a class="anchor" href="#%e4%bf%ae%e6%94%b9%e7%b1%bb%e5%9e%8b">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>rabbitmqctl stop_app
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rabbitmqctl change_cluster_node_type ram
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rabbitmqctl start_app
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="æ·»åŠ ç”¨æˆ·">
 æ·»åŠ ç”¨æˆ·
 &lt;a class="anchor" href="#%e6%b7%bb%e5%8a%a0%e7%94%a8%e6%88%b7">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>rabbitmqctl add_user admin admin
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>æ·»åŠ æƒé™:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rabbitmqctl set_permissions -p &lt;span style="color:#e6db74">&amp;#34;/&amp;#34;&lt;/span> admin &lt;span style="color:#e6db74">&amp;#34;.*&amp;#34;&lt;/span> &lt;span style="color:#e6db74">&amp;#34;.*&amp;#34;&lt;/span> &lt;span style="color:#e6db74">&amp;#34;.*&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>åˆ é™¤æµ‹è¯•ç”¨æˆ·:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rabbitmqctl delete_user guest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>èµ‹äºˆå…¶administratorè§’è‰²ï¼š
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rabbitmqctl set_user_tags admin administrator
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ä¿®æ”¹é…ç½®">
 ä¿®æ”¹é…ç½®
 &lt;a class="anchor" href="#%e4%bf%ae%e6%94%b9%e9%85%8d%e7%bd%ae">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>//é˜²æ­¢æœåŠ¡ç«¯å¼‚å¸¸ä¸­æ–­æ¢å¤åé•œåƒé˜Ÿåˆ—ä¸èƒ½æ¢å¤çš„é—®é¢˜
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>vim /etc/rabbitmq/rabbitmq.conf
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">{&lt;/span>rabbit,&lt;span style="color:#f92672">[{&lt;/span>tcp_listeners,&lt;span style="color:#f92672">[&lt;/span>5672&lt;span style="color:#f92672">]}&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">{&lt;/span>cluster_partition_handling, autoheal&lt;span style="color:#f92672">}]}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">]&lt;/span>.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#ä¸è¦å¿˜è®°æœ€åé¢çš„é‚£ä¸ªç‚¹å·å“¦ï¼&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ç¯å¢ƒå˜é‡">
 ç¯å¢ƒå˜é‡
 &lt;a class="anchor" href="#%e7%8e%af%e5%a2%83%e5%8f%98%e9%87%8f">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>touch /etc/rabbitmq/rabbitmq-env.conf#è¾“å…¥
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> RABBITMQ_NODENAME&lt;span style="color:#f92672">=&lt;/span>FZTEC-240088 èŠ‚ç‚¹åç§° RABBITMQ_NODE_IP_ADDRESS&lt;span style="color:#f92672">=&lt;/span>127.0.0.1 ç›‘å¬IP
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> RABBITMQ_NODE_PORT&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">5672&lt;/span> ç›‘å¬ç«¯å£ RABBITMQ_LOG_BASE&lt;span style="color:#f92672">=&lt;/span>/data/rabbitmq/log æ—¥å¿—ç›®å½•
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> RABBITMQ_PLUGINS_DIR&lt;span style="color:#f92672">=&lt;/span>/data/rabbitmq/plugins æ’ä»¶ç›®å½•
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> RABBITMQ_MNESIA_BASE&lt;span style="color:#f92672">=&lt;/span>/data/rabbitmq/mnesia åç«¯å­˜å‚¨ç›®å½•
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="rabbitmqçš„ç”¨æˆ·è§’è‰²åˆ†ç±»">
 RabbitMQçš„ç”¨æˆ·è§’è‰²åˆ†ç±»
 &lt;a class="anchor" href="#rabbitmq%e7%9a%84%e7%94%a8%e6%88%b7%e8%a7%92%e8%89%b2%e5%88%86%e7%b1%bb">#&lt;/a>
&lt;/h3>
&lt;p>noneã€managementã€policymakerã€monitoringã€administrator&lt;/p></description></item><item><title>RabbitMQä¸‰ç§Exchangeæ¨¡å¼(fanout,direct,topic)çš„æ€§èƒ½æ¯”è¾ƒ</title><link>https://notes.zhangwenbing.com/blog/linux/HybPILE5U0z/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/HybPILE5U0z/</guid><description>&lt;blockquote>
&lt;p>none&lt;/p>
&lt;/blockquote>
&lt;p>RabbitMQä¸­ï¼Œæ‰€æœ‰ç”Ÿäº§è€…æäº¤çš„æ¶ˆæ¯éƒ½ç”±Exchangeæ¥æ¥å—ï¼Œç„¶åExchangeæŒ‰ç…§ç‰¹å®šçš„ç­–ç•¥è½¬å‘åˆ°Queueè¿›è¡Œå­˜å‚¨&lt;/p>
&lt;p>RabbitMQæä¾›äº†å››ç§Exchangeï¼šfanout,direct,topic,header&lt;/p></description></item><item><title>RabbitMQæ€§èƒ½ä¼˜åŒ–</title><link>https://notes.zhangwenbing.com/blog/linux/H1z5LL49I0z/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/H1z5LL49I0z/</guid><description>&lt;blockquote>
&lt;p>none&lt;/p>
&lt;/blockquote>
&lt;h2 id="rabbitmqconfig">
 rabbitmq.config
 &lt;a class="anchor" href="#rabbitmqconfig">#&lt;/a>
&lt;/h2>
&lt;p>rabbitmq.configæ–‡ä»¶æ—¶rabbitmqçš„é…ç½®æ–‡ä»¶ï¼Œä»–éµå®ˆErlangé…ç½®æ–‡ä»¶å®šä¹‰ã€‚&lt;/p>
&lt;p>rabbitmq.configæ–‡ä»¶ä½ç½®ï¼š&lt;/p></description></item><item><title>rabbitmqä¹‹æœºå™¨æœºå™¨å…¨éƒ¨æ–­ç”µæ¢å¤è®°å½•</title><link>https://notes.zhangwenbing.com/blog/linux/rkCKI84cLAG/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/rkCKI84cLAG/</guid><description>&lt;p>ä»Šå¤©é‡åˆ°ä¸€ä¸ªrabbitmqé›†ç¾¤åŒæ—¶æ–­ç”µï¼Œå½“æœºå™¨å…¨éƒ¨å¯åŠ¨çš„æ—¶å€™å‘ç°rabbitmqæ— æ³•æ­£å¸¸å¯åŠ¨ï¼Œç„¶åå‘ç°å¦‚ä¸‹æ—¥å¿—ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">=&lt;/span>INFO REPORT&lt;span style="color:#f92672">====&lt;/span> 25-Apr-2018::11:11:07 &lt;span style="color:#f92672">===&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Starting RabbitMQ 3.5.3 on Erlang R16B03-1
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Copyright &lt;span style="color:#f92672">(&lt;/span>C&lt;span style="color:#f92672">)&lt;/span> 2007-2014 GoPivotal, Inc.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Licensed under the MPL. See http://www.rabbitmq.com/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">=&lt;/span>INFO REPORT&lt;span style="color:#f92672">====&lt;/span> 25-Apr-2018::11:11:07 &lt;span style="color:#f92672">===&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>node : rabbit@WIN-ACC2J7AGNM9
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>home dir : C:&lt;span style="color:#ae81ff">\U&lt;/span>sers&lt;span style="color:#ae81ff">\A&lt;/span>dministrator
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>config file&lt;span style="color:#f92672">(&lt;/span>s&lt;span style="color:#f92672">)&lt;/span> : e:/RabbitMQ Data/rabbitmq.config &lt;span style="color:#f92672">(&lt;/span>not found&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cookie hash : kR4NuIdBr2n8/4Qt9uIgqQ&lt;span style="color:#f92672">==&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>log : E:/RabbitMQ Data/log/rabbit@WIN-ACC2J7AGNM9.log
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sasl log : E:/RabbitMQ Data/log/rabbit@WIN-ACC2J7AGNM9-sasl.log
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>database dir : e:/RabbitMQ Data/db/rabbit@WIN-ACC2J7AGNM9-mnesia
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">=&lt;/span>WARNING REPORT&lt;span style="color:#f92672">====&lt;/span> 25-Apr-2018::11:11:07 &lt;span style="color:#f92672">===&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Kernel poll &lt;span style="color:#f92672">(&lt;/span>epoll, kqueue, etc&lt;span style="color:#f92672">)&lt;/span> is disabled. Throughput and CPU utilization may worsen.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">=&lt;/span>INFO REPORT&lt;span style="color:#f92672">====&lt;/span> 25-Apr-2018::11:11:08 &lt;span style="color:#f92672">===&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Memory limit set to 13095MB of 32738MB total.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">=&lt;/span>INFO REPORT&lt;span style="color:#f92672">====&lt;/span> 25-Apr-2018::11:11:08 &lt;span style="color:#f92672">===&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Disk free limit set to 50MB
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">=&lt;/span>INFO REPORT&lt;span style="color:#f92672">====&lt;/span> 25-Apr-2018::11:11:08 &lt;span style="color:#f92672">===&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Limiting to approx &lt;span style="color:#ae81ff">8092&lt;/span> file handles &lt;span style="color:#f92672">(&lt;/span>&lt;span style="color:#ae81ff">7280&lt;/span> sockets&lt;span style="color:#f92672">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">=&lt;/span>INFO REPORT&lt;span style="color:#f92672">====&lt;/span> 25-Apr-2018::11:11:38 &lt;span style="color:#f92672">===&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Timeout contacting cluster nodes: &lt;span style="color:#f92672">[&lt;/span>&lt;span style="color:#e6db74">&amp;#39;rabbit@WIN-2W6NDAIZBIA&amp;#39;&lt;/span>&lt;span style="color:#f92672">]&lt;/span>.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>BACKGROUND
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">==========&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>This cluster node was shut down &lt;span style="color:#66d9ef">while&lt;/span> other nodes were still running.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>To avoid losing data, you should start the other nodes first, &lt;span style="color:#66d9ef">then&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>start this one. To force this node to start, first invoke
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">&amp;#34;rabbitmqctl force_boot&amp;#34;&lt;/span>. If you &lt;span style="color:#66d9ef">do&lt;/span> so, any changes made on other
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cluster nodes after this one was shut down may be lost.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>DIAGNOSTICS
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">===========&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>attempted to contact: &lt;span style="color:#f92672">[&lt;/span>&lt;span style="color:#e6db74">&amp;#39;rabbit@WIN-2W6NDAIZBIA&amp;#39;&lt;/span>&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rabbit@WIN-2W6NDAIZBIA:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> * connected to epmd &lt;span style="color:#f92672">(&lt;/span>port 4369&lt;span style="color:#f92672">)&lt;/span> on WIN-2W6NDAIZBIA
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> * epmd reports: node &lt;span style="color:#e6db74">&amp;#39;rabbit&amp;#39;&lt;/span> not running at all
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> no other nodes on WIN-2W6NDAIZBIA
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> * suggestion: start the node
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>current node details:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>- node name: &lt;span style="color:#e6db74">&amp;#39;rabbit@WIN-ACC2J7AGNM9&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>- home dir: C:&lt;span style="color:#ae81ff">\U&lt;/span>sers&lt;span style="color:#ae81ff">\A&lt;/span>dministrator
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>- cookie hash: kR4NuIdBr2n8/4Qt9uIgqQ&lt;span style="color:#f92672">==&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å…³é”®çš„åœ°æ–¹åœ¨äºä¸­é—´çš„è¿™æ®µè¯´æ˜ï¼š&lt;/p></description></item><item><title>rabbitmqä¹‹ä¿®æ”¹æ•°æ®å’Œlogç›®å½•ä½ç½®ä½ç½®</title><link>https://notes.zhangwenbing.com/blog/linux/ry3FIUV58AM/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/ry3FIUV58AM/</guid><description>&lt;blockquote>
&lt;p>vim /etc/rabbitmq/rabbitmq-env.conf&lt;/p>
&lt;/blockquote>
&lt;h1 id="i-am-a-complete-etcrabbitmqrabbitmq-e">
 I am a complete /etc/rabbitmq/rabbitmq-eâ€¦
 &lt;a class="anchor" href="#i-am-a-complete-etcrabbitmqrabbitmq-e">#&lt;/a>
&lt;/h1>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span> vim /etc/rabbitmq/rabbitmq-env.conf
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># I am a complete /etc/rabbitmq/rabbitmq-env.conf file.&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Comment lines start with a hash character.&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># This is a /bin/sh script file - use ordinary envt var syntax&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>MNESIA_BASE&lt;span style="color:#f92672">=&lt;/span>/data/rabbitmq/mnesia
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>LOG_BASE&lt;span style="color:#f92672">=&lt;/span>/data/logs/rabbitmq
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Rematrix is needed between 10 channels and 7.1(wide) but there is not enough</title><link>https://notes.zhangwenbing.com/blog/ffmpeg/S1EdILNqU0M/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/ffmpeg/S1EdILNqU0M/</guid><description>&lt;blockquote>
&lt;p>è§£å†³åŠæ³•&lt;/p>
&lt;/blockquote>
&lt;p>å°†10ä¸ªå£°é“æ‹†åˆ†æˆ10ä¸ªéŸ³è½¨&lt;/p>
&lt;p>ffmpeg -i INPUTFILE -filter_complex â€œ[0:a]pan=mono|c0=c0[â€¦&lt;/p>
&lt;h2 id="è§£å†³åŠæ³•">
 è§£å†³åŠæ³•
 &lt;a class="anchor" href="#%e8%a7%a3%e5%86%b3%e5%8a%9e%e6%b3%95">#&lt;/a>
&lt;/h2>
&lt;p>å°†10ä¸ªå£°é“æ‹†åˆ†æˆ10ä¸ªéŸ³è½¨&lt;/p>
&lt;pre tabindex="0">&lt;code>ffmpeg -i INPUTFILE -filter_complex &amp;#34;[0:a]pan=mono|c0=c0[a0];[0:a]pan=mono|c0=c1[a1];[0:a]pan=mono|c0=c2[a2];[0:a]pan=mono|c0=c3[a3];[0:a]pan=mono|c0=c4[a4];[0:a]pan=mono|c0=c5[a5];[0:a]pan=mono|c0=c6[a6];[0:a]pan=mono|c0=c7[a7];[0:a]pan=mono|c0=c8[a8];[0:a]pan=mono|c0=c9[a9]&amp;#34; -map &amp;#34;[a0]&amp;#34; -map &amp;#34;[a1]&amp;#34; -map &amp;#34;[a2]&amp;#34; -map &amp;#34;[a3]&amp;#34; -map &amp;#34;[a4]&amp;#34; -map &amp;#34;[a5]&amp;#34; -map &amp;#34;[a6]&amp;#34; -map &amp;#34;[a7]&amp;#34; -map &amp;#34;[a8]&amp;#34; -map &amp;#34;[a9]&amp;#34; -vn -c:a pcm_s24le OUTPUTFILE

ffmpeg -i INPUTFILE -vn -c:a pcm_s24le -map 0:1 -filter:a:0 &amp;#34;pan=mono|c0=c0&amp;#34; -map 0:1 -filter:a:1 &amp;#34;pan=mono|c0=c1&amp;#34; -map 0:1 -filter:a:2 &amp;#34;pan=mono|c0=c2&amp;#34; -map 0:1 -filter:a:3 &amp;#34;pan=mono|c0=c3&amp;#34; -map 0:1 -filter:a:4 &amp;#34;pan=mono|c0=c4&amp;#34; -map 0:1 -filter:a:5 &amp;#34;pan=mono|c0=c5&amp;#34; -map 0:1 -filter:a:6 &amp;#34;pan=mono|c0=c6&amp;#34; -map 0:1 -filter:a:7 &amp;#34;pan=mono|c0=c7&amp;#34; -map 0:1 -filter:a:8 &amp;#34;pan=mono|c0=c8&amp;#34; -map 0:1 -filter:a:9 &amp;#34;pan=mono|c0=c9&amp;#34; OUTPUTFILE
&lt;/code>&lt;/pre></description></item><item><title>Ubuntu é˜¿é‡Œäº‘é•œåƒæº</title><link>https://notes.zhangwenbing.com/blog/linux/B11rILN5UAz/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/B11rILN5UAz/</guid><description>&lt;h2 id="å‡†å¤‡å·¥ä½œ">
 å‡†å¤‡å·¥ä½œ
 &lt;a class="anchor" href="#%e5%87%86%e5%a4%87%e5%b7%a5%e4%bd%9c">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo cp /etc/apt/sources.list /etc/apt/sources.list.bak &lt;span style="color:#75715e">#å¤‡ä»½&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ä¿®æ”¹é…ç½®">
 ä¿®æ”¹é…ç½®
 &lt;a class="anchor" href="#%e4%bf%ae%e6%94%b9%e9%85%8d%e7%bd%ae">#&lt;/a>
&lt;/h2>
&lt;h3 id="1404">
 14.04
 &lt;a class="anchor" href="#1404">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo vim /etc/apt/sources.list &lt;span style="color:#75715e">#ä¿®æ”¹&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>deb http://mirrors.aliyun.com/ubuntu/ trusty main restricted universe multiverse
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>deb http://mirrors.aliyun.com/ubuntu/ trusty-security main restricted universe multiverse
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>deb http://mirrors.aliyun.com/ubuntu/ trusty-updates main restricted universe multiverse
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>deb http://mirrors.aliyun.com/ubuntu/ trusty-proposed main restricted universe multiverse
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>deb http://mirrors.aliyun.com/ubuntu/ trusty-backports main restricted universe multiverse
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>deb-src http://mirrors.aliyun.com/ubuntu/ trusty main restricted universe multiverse
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>deb-src http://mirrors.aliyun.com/ubuntu/ trusty-security main restricted universe multiverse
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>deb-src http://mirrors.aliyun.com/ubuntu/ trusty-updates main restricted universe multiverse
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>deb-src http://mirrors.aliyun.com/ubuntu/ trusty-proposed main restricted universe multiverse
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>deb-src http://mirrors.aliyun.com/ubuntu/ trusty-backports main restricted universe multiverse
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="1604">
 16.04
 &lt;a class="anchor" href="#1604">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo vim /etc/apt/sources.list &lt;span style="color:#75715e">#ä¿®æ”¹&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>deb-src http://archive.ubuntu.com/ubuntu xenial main restricted &lt;span style="color:#75715e">#Added by software-properties&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>deb http://mirrors.aliyun.com/ubuntu/ xenial main restricted
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>deb-src http://mirrors.aliyun.com/ubuntu/ xenial main restricted multiverse universe &lt;span style="color:#75715e">#Added by software-properties&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>deb http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>deb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted multiverse universe &lt;span style="color:#75715e">#Added by software-properties&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>deb http://mirrors.aliyun.com/ubuntu/ xenial universe
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>deb http://mirrors.aliyun.com/ubuntu/ xenial-updates universe
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>deb http://mirrors.aliyun.com/ubuntu/ xenial multiverse
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>deb http://mirrors.aliyun.com/ubuntu/ xenial-updates multiverse
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>deb http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>deb-src http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse &lt;span style="color:#75715e">#Added by software-properties&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>deb http://archive.canonical.com/ubuntu xenial partner
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>deb-src http://archive.canonical.com/ubuntu xenial partner
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>deb http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>deb-src http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted multiverse universe &lt;span style="color:#75715e">#Added by software-properties&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>deb http://mirrors.aliyun.com/ubuntu/ xenial-security universe
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>deb http://mirrors.aliyun.com/ubuntu/ xenial-security multiverse
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="æ›´æ–°ç¼“å­˜">
 æ›´æ–°ç¼“å­˜
 &lt;a class="anchor" href="#%e6%9b%b4%e6%96%b0%e7%bc%93%e5%ad%98">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo apt-get update &lt;span style="color:#75715e">#æ›´æ–°åˆ—è¡¨&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>ubuntuç¼–è¯‘å®‰è£…vimåŠé…åˆ¶æ–¹æ³•</title><link>https://notes.zhangwenbing.com/blog/linux/HyGHL8E5LRM/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/HyGHL8E5LRM/</guid><description>&lt;blockquote>
&lt;p>ä¸€ä¸ªéå¸¸å¥½ç”¨çš„vimé…ç½®æ–‡ä»¶&lt;/p>
&lt;/blockquote>
&lt;h2 id="vimç®€ä»‹">
 vimç®€ä»‹
 &lt;a class="anchor" href="#vim%e7%ae%80%e4%bb%8b">#&lt;/a>
&lt;/h2>
&lt;p>Vimæ˜¯ä¸€ä¸ªç±»ä¼¼äºViçš„è‘—åçš„åŠŸèƒ½å¼ºå¤§ã€é«˜åº¦å¯å®šåˆ¶çš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œåœ¨Viçš„åŸºç¡€ä¸Šæ”¹è¿›å’Œå¢åŠ äº†å¾ˆå¤šç‰¹æ€§ã€‚VIMæ˜¯è‡ªç”±è½¯ä»¶ã€‚&lt;/p></description></item><item><title>vim å¿«é€Ÿå…¥é—¨æ‰‹å†Œ</title><link>https://notes.zhangwenbing.com/blog/linux/BJ8I8E9U0M/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/BJ8I8E9U0M/</guid><description>&lt;blockquote>
&lt;p>vimå¸¸è§æ“ä½œ&lt;/p>
&lt;/blockquote>
&lt;h2 id="å›¾ç¤º">
 å›¾ç¤º
 &lt;a class="anchor" href="#%e5%9b%be%e7%a4%ba">#&lt;/a>
&lt;/h2>
&lt;p>![vi-vim-cheat-sheet-sch.png](/static/uploads/BJ8I8E9U0M/img/vi-vim-cheat-&lt;br>
sheet-sch_SyLsV8yY4.png)&lt;/p>
&lt;h2 id="ä¸€ç§»åŠ¨å…‰æ ‡">
 ä¸€ã€ç§»åŠ¨å…‰æ ‡
 &lt;a class="anchor" href="#%e4%b8%80%e7%a7%bb%e5%8a%a8%e5%85%89%e6%a0%87">#&lt;/a>
&lt;/h2>
&lt;p>1ã€å·¦ç§»hã€å³ç§»lã€ä¸‹ç§»jã€ä¸Šç§»k&lt;/p>
&lt;p>2ã€å‘ä¸‹ç¿»é¡µctrl + fï¼Œå‘ä¸Šç¿»é¡µctrl + b&lt;/p>
&lt;p>3ã€å‘ä¸‹ç¿»åŠé¡µctrl + dï¼Œå‘ä¸Šç¿»åŠé¡µctrl + u&lt;/p></description></item><item><title>vsftpd é…ç½®æ–¹æ³•åŠè®¿é—®æ§åˆ¶</title><link>https://notes.zhangwenbing.com/blog/linux/BJrx8LE98CG/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/BJrx8LE98CG/</guid><description>&lt;blockquote>
&lt;p>vsftpd è¯¦ç»†é…ç½®è¯´æ˜&lt;/p>
&lt;/blockquote>
&lt;h2 id="vsftpdå¸¸ç”¨é…ç½®">
 vsftpdå¸¸ç”¨é…ç½®
 &lt;a class="anchor" href="#vsftpd%e5%b8%b8%e7%94%a8%e9%85%8d%e7%bd%ae">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#å…³é—­åŒ¿åç”¨æˆ·è®¿é—®æƒé™&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>anonymous_enable&lt;span style="color:#f92672">=&lt;/span>NO
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#å¼€å¯æœ¬åœ°ç”¨æˆ·æƒé™&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>local_enable&lt;span style="color:#f92672">=&lt;/span>YES
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#å¼€å¯å†™æƒé™&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>write_enable&lt;span style="color:#f92672">=&lt;/span>YES
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#è®¾ç½®ä¾¦å¬ç«¯å£&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>listen_port&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">21&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#å†™æ–‡ä»¶æ—¶çš„umask&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>local_umask&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">002&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#è¢«åŠ¨æ¨¡å¼åŠå¼€æ”¾ç«¯å£æ®µ&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#pasv_enable=yes&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#pasv_min_port=30000&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#pasv_max_port=50000&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#è¶…æ—¶æ—¶é—´&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#idle_session_timeout=6000000&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#data_connection_timeout=6000000&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>dirmessage_enable&lt;span style="color:#f92672">=&lt;/span>YES
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>xferlog_enable&lt;span style="color:#f92672">=&lt;/span>YES
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>connect_from_port_20&lt;span style="color:#f92672">=&lt;/span>YES
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>xferlog_std_format&lt;span style="color:#f92672">=&lt;/span>YES
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>chroot_local_user&lt;span style="color:#f92672">=&lt;/span>YES
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>chroot_list_enable&lt;span style="color:#f92672">=&lt;/span>YES
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>chroot_list_file&lt;span style="color:#f92672">=&lt;/span>/etc/vsftpd/chroot_list
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>listen&lt;span style="color:#f92672">=&lt;/span>YES
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>pam_service_name&lt;span style="color:#f92672">=&lt;/span>vsftpd
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>userlist_enable&lt;span style="color:#f92672">=&lt;/span>YES
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>tcp_wrappers&lt;span style="color:#f92672">=&lt;/span>YES
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>use_localtime&lt;span style="color:#f92672">=&lt;/span>YES
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>reverse_lookup_enable&lt;span style="color:#f92672">=&lt;/span>NO
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#convert_charset_enable=0&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#local_charset=UTF8&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#remote_charset=GB2312&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#double_377=1&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åˆ›å»ºè´¦æˆ·&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>useradd -M -s /sbin/nologin -d /mnt/usernamefile/ username
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">for&lt;/span> i in name1 name2 name3;&lt;span style="color:#66d9ef">do&lt;/span> useradd -M -s /sbin/nologin -d /mnt/$i/ $i;&lt;span style="color:#66d9ef">done&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">for&lt;/span> i in name1 name2 name3;&lt;span style="color:#66d9ef">do&lt;/span> echo &lt;span style="color:#e6db74">&amp;#34;&lt;/span>$i&lt;span style="color:#e6db74">&amp;#34;&lt;/span>&lt;span style="color:#ae81ff">123&lt;/span> | passwd --stdin $i ;&lt;span style="color:#66d9ef">done&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="åˆ›å»ºç›®å½•">
 åˆ›å»ºç›®å½•
 &lt;a class="anchor" href="#%e5%88%9b%e5%bb%ba%e7%9b%ae%e5%bd%95">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>mkdir usernamefile
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>chown username:username usernamefile
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">for&lt;/span> i in name1 name2 name3;&lt;span style="color:#66d9ef">do&lt;/span> mkdir /mnt/$i;&lt;span style="color:#66d9ef">done&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">for&lt;/span> i in name1 name2 name3;&lt;span style="color:#66d9ef">do&lt;/span> chown $i:$i /mnt/$i/;&lt;span style="color:#66d9ef">done&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>chmod -R &lt;span style="color:#ae81ff">770&lt;/span> *
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="vsftpdè¢«åŠ¨æ¨¡å¼">
 vsftpdè¢«åŠ¨æ¨¡å¼
 &lt;a class="anchor" href="#vsftpd%e8%a2%ab%e5%8a%a8%e6%a8%a1%e5%bc%8f">#&lt;/a>
&lt;/h2>
&lt;h3 id="1å¼€å¯è¢«åŠ¨æ¨¡å¼">
 1ã€å¼€å¯è¢«åŠ¨æ¨¡å¼
 &lt;a class="anchor" href="#1%e5%bc%80%e5%90%af%e8%a2%ab%e5%8a%a8%e6%a8%a1%e5%bc%8f">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>vim vsftpd.conf
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>pasv_enable&lt;span style="color:#f92672">=&lt;/span>YES &lt;span style="color:#75715e">#å¼€å¯è¢«åŠ¨æ¨¡å¼&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>pasv_min_port&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">3000&lt;/span> &lt;span style="color:#75715e">#éšæœºæœ€å°ç«¯å£&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>pasv_max_port&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">4000&lt;/span> &lt;span style="color:#75715e">#éšæœºæœ€å¤§ç«¯å£&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="2åŠ è½½å†…æ ¸">
 2ã€åŠ è½½å†…æ ¸
 &lt;a class="anchor" href="#2%e5%8a%a0%e8%bd%bd%e5%86%85%e6%a0%b8">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>modprobe ip_conntrack_ftp
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>modprobe ip_nat_ftp
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="3é˜²ç«å¢™">
 3ã€é˜²ç«å¢™
 &lt;a class="anchor" href="#3%e9%98%b2%e7%81%ab%e5%a2%99">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>vim /etc/sysconfig/iptables åœ¨*filterä¸‹åŠ å…¥ä¸‹
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> -A OUTPUT -p tcp --sport 3000:4000 -j ACCEPT
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> -A INPUT -p tcp --dport 3000:4000 -j ACCEPT
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>iptables-restore &amp;lt; /etc/sysconfig/iptables åŠ è½½iptablesé…ç½®
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="vsftpdè™šæ‹Ÿç”¨æˆ·">
 vsftpdè™šæ‹Ÿç”¨æˆ·
 &lt;a class="anchor" href="#vsftpd%e8%99%9a%e6%8b%9f%e7%94%a8%e6%88%b7">#&lt;/a>
&lt;/h2>
&lt;h3 id="1vsftpdå®‰è£…">
 1ã€vsftpdå®‰è£…
 &lt;a class="anchor" href="#1vsftpd%e5%ae%89%e8%a3%85">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>yum -y install vsftpd &lt;span style="color:#75715e">#vsftpdè½¯ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>yum -y install db4-utils &lt;span style="color:#75715e">#ç”Ÿæˆè™šæ‹Ÿç”¨æˆ·è®¤è¯æ•°æ®æ–‡ä»¶å‘½ä»¤&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="2é…ç½®vsftp">
 2ã€é…ç½®vsftp
 &lt;a class="anchor" href="#2%e9%85%8d%e7%bd%aevsftp">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>vim /etc/vsftpd/vsftpd.conf
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> listen&lt;span style="color:#f92672">=&lt;/span>YES &lt;span style="color:#75715e">#ç‹¬ç«‹è¿è¡Œvsftpd&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> anonymous_enable&lt;span style="color:#f92672">=&lt;/span>NO &lt;span style="color:#75715e">#é™åˆ¶åŒ¿åç”¨æˆ·ç™»å½•&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> dirmessage_enable&lt;span style="color:#f92672">=&lt;/span>YES
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> xferlog_enable&lt;span style="color:#f92672">=&lt;/span>YES
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> xferlog_file&lt;span style="color:#f92672">=&lt;/span>/var/log/vsftpd.log
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> xferlog_std_format&lt;span style="color:#f92672">=&lt;/span>YES
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> chroot_list_enable&lt;span style="color:#f92672">=&lt;/span>YES &lt;span style="color:#75715e">#é™åˆ¶è™šæ‹Ÿç”¨æˆ·åˆ‡æ¢ç›®å½•&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> chroot_list_file&lt;span style="color:#f92672">=&lt;/span>/etc/vsftpd/chroot_list &lt;span style="color:#75715e">#é™åˆ¶åˆ‡æ¢ç›®å½•çš„ç”¨æˆ·åˆ—è¡¨&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> chroot_local_user&lt;span style="color:#f92672">=&lt;/span>YES
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> guest_enable&lt;span style="color:#f92672">=&lt;/span>YES &lt;span style="color:#75715e">#å¼€å¯è™šæ‹Ÿç”¨æˆ·è®¤è¯&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> guest_username&lt;span style="color:#f92672">=&lt;/span>ftp &lt;span style="color:#75715e">#æ˜ å°„çš„çœŸå®ç”¨æˆ·&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> user_config_dir&lt;span style="color:#f92672">=&lt;/span>/etc/vsftpd/vsftpd_user_conf &lt;span style="color:#75715e">#è™šæ‹Ÿç”¨æˆ·é…ç½®ç›®å½•&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pam_service_name&lt;span style="color:#f92672">=&lt;/span>vsftpd.vu &lt;span style="color:#75715e">#vsftpdè®¤è¯çš„pamè®¤è¯æ¨¡å—&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> local_enable&lt;span style="color:#f92672">=&lt;/span>YES
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="3è™šæ‹Ÿç”¨æˆ·db">
 3ã€è™šæ‹Ÿç”¨æˆ·db
 &lt;a class="anchor" href="#3%e8%99%9a%e6%8b%9f%e7%94%a8%e6%88%b7db">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>cd /etc/vsftpd
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>vim user.txt
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> yuangang &lt;span style="color:#75715e">#ç”¨æˆ·å&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#ae81ff">123456&lt;/span> &lt;span style="color:#75715e">#å¯†ç &lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>db_load -T -t hash -f user.txt /etc/vsftpd/vsftpd_login.db
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>chmod &lt;span style="color:#ae81ff">600&lt;/span> /etc/vsftpd/vsftpd_login.db
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># é…ç½®pamè®¤è¯&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>vim /etc/pam.d/vsftpd.vu
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> auth required /lib/security/pam_userdb.so db&lt;span style="color:#f92672">=&lt;/span>/etc/vsftpd/vsftpd_login
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> account required /lib/security/pam_userdb.so db&lt;span style="color:#f92672">=&lt;/span>/etc/vsftpd/vsftpd_login
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>vim /etc/vsftpd/chroot_list &lt;span style="color:#75715e">#é™åˆ¶è™šæ‹Ÿç”¨æˆ·åˆ‡æ¢ç›®å½•&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ftp
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> yuangang
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="4é…ç½®è™šæ‹Ÿç”¨æˆ·">
 4ã€é…ç½®è™šæ‹Ÿç”¨æˆ·
 &lt;a class="anchor" href="#4%e9%85%8d%e7%bd%ae%e8%99%9a%e6%8b%9f%e7%94%a8%e6%88%b7">#&lt;/a>
&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>cd /etc/vsftpd/vsftpd_user_conf
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>vim yuangang
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> write_enable&lt;span style="color:#f92672">=&lt;/span>YES
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> anon_world_readable_only&lt;span style="color:#f92672">=&lt;/span>NO
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> anon_upload_enable&lt;span style="color:#f92672">=&lt;/span>YES
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> anon_mkdir_write_enable&lt;span style="color:#f92672">=&lt;/span>YES
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> anon_other_write_enable&lt;span style="color:#f92672">=&lt;/span>YES
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> local_root&lt;span style="color:#f92672">=&lt;/span>/data/httpd/yuangang
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># å»ºç«‹è™šæ‹Ÿç”¨æˆ·ftpç›®å½•&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>mkdir /data/httpd/yuangang
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>chown -R ftp.root /data/httpd
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>chmod o+rw /data/httpd/yuangang
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="vsftpd-cmds_allowed">
 vsftpd cmds_allowed
 &lt;a class="anchor" href="#vsftpd-cmds_allowed">#&lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>cmds_allowed&lt;span style="color:#f92672">=&lt;/span>ABOR,CWD,LIST,MDTM,MKD,NLST,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>PASS,PASV,PORT,PWD,QUIT,RETR,RMD,RNFR,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>RNTO,SITE,SIZE,STOR,TYPE,USER,ACCT,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>APPE,CDUP,HELP,MODE,NOOP,REIN,STAT,STOU,STRU,SYST
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ³¨æ„:ä¸€å®šä¸èƒ½ä½¿ç”¨æ¢è¡Œå’Œç©ºæ ¼ï¼Œä¸ç„¶å°±æ²¡æ•ˆæœ..&lt;/p></description></item><item><title>webè¿ç»´ç›¸å…³æŸ¥è¯¢å‘½ä»¤</title><link>https://notes.zhangwenbing.com/blog/linux/SJ_88EqU0M/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/SJ_88EqU0M/</guid><description>&lt;blockquote>
&lt;p>none&lt;/p>
&lt;/blockquote>
&lt;h2 id="1-æŸ¥çœ‹tcpè¿æ¥çŠ¶æ€">
 1. æŸ¥çœ‹TCPè¿æ¥çŠ¶æ€
 &lt;a class="anchor" href="#1-%e6%9f%a5%e7%9c%8btcp%e8%bf%9e%e6%8e%a5%e7%8a%b6%e6%80%81">#&lt;/a>
&lt;/h2>
&lt;pre tabindex="0">&lt;code>netstat -nat |awk &amp;#39;{print $6}&amp;#39;|sort|uniq -c|sort -rn
netstat -n | awk &amp;#39;/^tcp/ {++S[$NF]};END {for(a in S) print a, S[a]}&amp;#39; æˆ–
netstat -n | awk &amp;#39;/^tcp/ {++state[$NF]}; END {for(key in state) print key,&amp;#34;\t&amp;#34;,state[key]}&amp;#39;
netstat -n | awk &amp;#39;/^tcp/ {++arr[$NF]};END {for(k in arr) print k,&amp;#34;\t&amp;#34;,arr[k]}&amp;#39;
netstat -n |awk &amp;#39;/^tcp/ {print $NF}&amp;#39;|sort|uniq -c|sort -rn
netstat -ant | awk &amp;#39;{print $NF}&amp;#39; | grep -v &amp;#39;[a-z]&amp;#39; | sort | uniq -c
&lt;/code>&lt;/pre>&lt;p>(ä»¥ä¸Šæ¯ä¸€è¡Œå®ç°çš„æ•ˆæœåŸºæœ¬ç›¸åŒï¼Œåœ¨æ­¤åˆ—å‡ºä¸åŒçš„å†™æ³•ï¼Œæ–¹ä¾¿å¯¹è„šæœ¬å†™æ³•çš„æ›´æ·±ç†è§£ï¼‰&lt;/p></description></item><item><title>zabbixä¹‹æ— æ³•å¯åŠ¨é—®é¢˜åŠè§£å†³åŠæ³•</title><link>https://notes.zhangwenbing.com/blog/linux/Sykc8UNqICz/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/Sykc8UNqICz/</guid><description>&lt;blockquote>
&lt;p>none&lt;/p>
&lt;/blockquote>
&lt;p>1ã€&lt;/p>
&lt;p>é”™è¯¯æç¤º&lt;/p>
&lt;pre tabindex="0">&lt;code>zabbix_agentd [1749]: cannot create PID file [/var/run/zabbix/zabbix_agentd.pid]: [2] No such file or directory
&lt;/code>&lt;/pre>&lt;p>è§£å†³æ–¹æ³•&lt;/p>
&lt;pre tabindex="0">&lt;code>mkdir /var/run/zabbix/
chown zabbix.zabbix /var/run/zabbix/
chmod g+w /var/run/zabbix/
touch /var/run/zabbix/zabbix_agentd.pid
/etc/init.d/zabbix-agent restart
ps aux | grep zabbix
&lt;/code>&lt;/pre></description></item><item><title>é˜¿é‡Œäº‘ECS Linuxçš„rc.localï¼ˆå¼€æœºå¯åŠ¨ï¼‰è®¾ç½®ä¸ç”Ÿæ•ˆ</title><link>https://notes.zhangwenbing.com/blog/linux/SytNL84q8Af/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/SytNL84q8Af/</guid><description>&lt;blockquote>
&lt;p>none&lt;/p>
&lt;/blockquote>
&lt;h2 id="ä½¿ç”¨åœºæ™¯">
 ä½¿ç”¨åœºæ™¯
 &lt;a class="anchor" href="#%e4%bd%bf%e7%94%a8%e5%9c%ba%e6%99%af">#&lt;/a>
&lt;/h2>
&lt;p>å‰æ®µæ—¶é—´ä½¿ç”¨é˜¿é‡Œäº‘çš„ecsï¼Œå°†ä¸€äº›å¼€æœºå¯åŠ¨çš„å‘½ä»¤å†™åˆ°/etc/rc.localé‡Œé¢ï¼Œå‘ç°ä¸ç”Ÿæ•ˆã€‚ç»è¿‡ä¸€ç•ªæŸ¥è¯¢å’Œæœç´¢ä¹‹åï¼Œæœ€åå‘ç°ä¸€ä¸ªå‘ï¼Œå±…ç„¶è¦ç»™è¿™ä¸ªæ–‡ä»¶è®¾ç½®æ‰§è¡Œæƒé™æ‰ç”Ÿæ•ˆã€‚&lt;/p></description></item><item><title>ç®€æAndroidé›†æˆFFMPEGæ¨æµ</title><link>https://notes.zhangwenbing.com/blog/ffmpeg/SyD7UIEcUAM/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/ffmpeg/SyD7UIEcUAM/</guid><description>&lt;blockquote>
&lt;p>å¦‚ä»Šï¼Œè§†é¢‘ç›´æ’­è¡Œä¸šåœ¨ä¸­å›½ç®—æ˜¯æ¯”è¾ƒçƒ­é—¨ã€‚åœ¨åˆšåˆšè¿‡å»çš„2015å¹´ï¼Œè§†é¢‘ç›´æ’­æˆä¸ºäº’è”ç½‘è¡Œä¸šæœ€æŠ¢çœ¼çš„é¢†åŸŸä¹‹ä¸€ã€‚ä»æ¸¸æˆåˆ°ç§€åœºï¼Œä»ä¼ ç»Ÿçš„ç½‘é¡µç«¯åˆ°ç§»åŠ¨äº’è”ç½‘ï¼Œå„å¤§ç›´æ’­å¹³å°åŒ…æ‹¬â€¦&lt;/p></description></item><item><title>æ’æŸ¥linuxæ ¹ç›®å½•ç©ºé—´å ç”¨ä¸å®é™…ç©ºé—´ä¸ç¬¦</title><link>https://notes.zhangwenbing.com/blog/linux/HJqtULE5I0z/</link><pubDate>Mon, 14 May 2018 04:45:01 +0800</pubDate><guid>https://notes.zhangwenbing.com/blog/linux/HJqtULE5I0z/</guid><description>&lt;blockquote>
&lt;p>none&lt;/p>
&lt;/blockquote>
&lt;h2 id="å‘ç°é—®é¢˜">
 å‘ç°é—®é¢˜
 &lt;a class="anchor" href="#%e5%8f%91%e7%8e%b0%e9%97%ae%e9%a2%98">#&lt;/a>
&lt;/h2>
&lt;p>é¦–å…ˆä½¿ç”¨â€df -Thâ€æŸ¥çœ‹æ ¹ç›®å½•çš„ç©ºé—´ä½¿ç”¨å’Œâ€du -sh /â€œçš„ç»“æœè¿›è¡Œå¯¹æ¯”ã€‚&lt;/p>
&lt;h2 id="æ’æŸ¥é—®é¢˜">
 æ’æŸ¥é—®é¢˜
 &lt;a class="anchor" href="#%e6%8e%92%e6%9f%a5%e9%97%ae%e9%a2%98">#&lt;/a>
&lt;/h2>
&lt;h3 id="ç¬¬ä¸€ç§æƒ…å†µ">
 ç¬¬ä¸€ç§æƒ…å†µ
 &lt;a class="anchor" href="#%e7%ac%ac%e4%b8%80%e7%a7%8d%e6%83%85%e5%86%b5">#&lt;/a>
&lt;/h3>
&lt;p>æ–‡ä»¶è¢«åˆ æ‰ï¼Œä½†æ˜¯å†™è¿™ä¸ªæ–‡ä»¶çš„è¿›ç¨‹æ²¡é€€å‡º&lt;/p></description></item></channel></rss>