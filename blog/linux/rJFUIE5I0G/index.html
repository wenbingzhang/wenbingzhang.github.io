<!doctype html><html lang=zh dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content='
  内核模块
  #

通过modinfo bonding命令查看Linux是否支持bonding
lsmod |grep bonding
#载入bonding模块
modprobe bonding

  配置bonding
  #

# cat /etc/modprobe.d/bond0.conf
alias bond0 bonding
cd /etc/sysconfig/network-scripts/
# grep -v "^#" ifcfg-bond0
DEVICE=bond0
BOOTPROTO=static
ONBOOT=yes
IPADDR=192.168.5.88
NETMASK=255.255.255.0
GATEWAY=192.168.5.1
USERCTL=no
====================================================
BONDING_OPTS="mode=0 miimon=100"
说明：这里使用了BONDING_OPTS选项，则不需要再使用 /etc/modprobe.d/bond0.conf 配置文件对绑定设备进行配置。参数mode=0，指负载均衡模式，详见下文。miimon是用来进行链路监测的，其原理是检测网上的链路状态，一般将miimon值设为100，表示系统每100ms监测一次链路连接状态，如果有一条线路不通就转入另一条线路。
====================================================
# grep -v "^#" ifcfg-eth1
DEVICE=eth1
ONBOOT=yes
BOOTPROTO=static
MASTER=bond0
SLAVE=yes
USERCTL=no
# grep -v "^#" ifcfg-eth0
DEVICE=eth0
BOOTPROTO=static
ONBOOT=yes
MASTER=bond0
SLAVE=yes
USERCTL=no
注意：建议不要指定MAC地址
# echo 100 > /sys/class/net/bond0/bonding/miimon
# echo 6 > /sys/class/net/bond0/bonding/mode
Mode of operation : 0 for balance-rr, 1 for active-backup, 2 for balance-xor；
3 for broadcast, 4 for 802.3ad, 5 for balance-tlb, 6 for balance-alb (charp)
重启网络
# /etc/init.d/network restart
检查下
ifconfig
cat /proc/net/bonding/bond0

  bonding模式
  #

bonding的模式：0-6，即：7种模式'><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://notes.zhangwenbing.com/blog/linux/rJFUIE5I0G/"><meta property="og:site_name" content="张文兵的笔记"><meta property="og:title" content="Centos多网卡绑定(bonding)"><meta property="og:description" content=' 内核模块 # 通过modinfo bonding命令查看Linux是否支持bonding
lsmod |grep bonding #载入bonding模块 modprobe bonding 配置bonding # # cat /etc/modprobe.d/bond0.conf alias bond0 bonding cd /etc/sysconfig/network-scripts/ # grep -v "^#" ifcfg-bond0 DEVICE=bond0 BOOTPROTO=static ONBOOT=yes IPADDR=192.168.5.88 NETMASK=255.255.255.0 GATEWAY=192.168.5.1 USERCTL=no ==================================================== BONDING_OPTS="mode=0 miimon=100" 说明：这里使用了BONDING_OPTS选项，则不需要再使用 /etc/modprobe.d/bond0.conf 配置文件对绑定设备进行配置。参数mode=0，指负载均衡模式，详见下文。miimon是用来进行链路监测的，其原理是检测网上的链路状态，一般将miimon值设为100，表示系统每100ms监测一次链路连接状态，如果有一条线路不通就转入另一条线路。 ==================================================== # grep -v "^#" ifcfg-eth1 DEVICE=eth1 ONBOOT=yes BOOTPROTO=static MASTER=bond0 SLAVE=yes USERCTL=no # grep -v "^#" ifcfg-eth0 DEVICE=eth0 BOOTPROTO=static ONBOOT=yes MASTER=bond0 SLAVE=yes USERCTL=no 注意：建议不要指定MAC地址 # echo 100 > /sys/class/net/bond0/bonding/miimon # echo 6 > /sys/class/net/bond0/bonding/mode Mode of operation : 0 for balance-rr, 1 for active-backup, 2 for balance-xor； 3 for broadcast, 4 for 802.3ad, 5 for balance-tlb, 6 for balance-alb (charp) 重启网络 # /etc/init.d/network restart 检查下 ifconfig cat /proc/net/bonding/bond0 bonding模式 # bonding的模式：0-6，即：7种模式'><meta property="og:locale" content="zh"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-05-14T04:45:01+08:00"><meta property="article:modified_time" content="2018-05-14T04:45:01+08:00"><meta property="article:tag" content="Linux"><title>Centos多网卡绑定(bonding) | 张文兵的笔记</title>
<link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png><link rel=canonical href=https://notes.zhangwenbing.com/blog/linux/rJFUIE5I0G/><link rel=stylesheet href=/book.min.7bc0bb908f28131671779537cc0c91a39075ed4cba93497f05888d37375171ce.css integrity="sha256-e8C7kI8oExZxd5U3zAyRo5B17Uy6k0l/BYiNNzdRcc4=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/zh.search.min.48800af68fbedb7c84ccea7977f9fc153f33baead16235bd8ce38d14a2214a8a.js integrity="sha256-SIAK9o++23yEzOp5d/n8FT8zuurRYjW9jOONFKIhSoo=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>张文兵的笔记</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=搜索 aria-label=搜索 maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><input type=checkbox id=section-6d1804e163fb7f5fbc576b94719a59cb class=toggle>
<label for=section-6d1804e163fb7f5fbc576b94719a59cb class="flex justify-between"><a role=button>👨🏼‍💻 编程相关</a></label><ul><li><input type=checkbox id=section-f56428119b0aac71309abf8dfea134ce class=toggle>
<label for=section-f56428119b0aac71309abf8dfea134ce class="flex justify-between"><a role=button>📔 C++</a></label><ul><li><input type=checkbox id=section-fb47b341e1fcc9c423db5ed573183d82 class=toggle>
<label for=section-fb47b341e1fcc9c423db5ed573183d82 class="flex justify-between"><a role=button>🔖 MacOS相关</a></label><ul><li><a href=/notes/2024/06/06/sf4ff6x8cuyhvzougj9dwg/>📝 MacOS签名</a></li><li><a href=/notes/2024/05/28/3txbbb7iruppjsg4p7rwnb/>📝 MacOS堆栈大小</a></li></ul></li><li><input type=checkbox id=section-b76e207ac5e871ff00bceef2a05945c7 class=toggle>
<label for=section-b76e207ac5e871ff00bceef2a05945c7 class="flex justify-between"><a role=button>🔖 Qt</a></label><ul><li><a href=/notes/2024/08/01/rnc4n7cfifidx8ca2rhjme/>📝 QML鼠标事件</a></li><li><a href=/notes/2024/08/06/ny773erqjgbzmzgfikfvds/>📝 QML虚拟列表</a></li></ul></li><li><input type=checkbox id=section-03639da61c682690825d49325c54c7e8 class=toggle>
<label for=section-03639da61c682690825d49325c54c7e8 class="flex justify-between"><a role=button>🔖 Python</a></label><ul><li><a href=/notes/2025/02/10/7auahqg8nnxm5ydhxzqrnr/>📝 调用Python代码</a></li><li><a href=/notes/2025/02/10/gqci9riugfetribe6j6fou/>📝 调用Python方法</a></li><li><a href=/notes/2025/02/10/pkdrvn9md3ggfmbxahx4ef/>📝 注册Python模块</a></li></ul></li></ul></li><li><input type=checkbox id=section-aea9addc7ea0cf58a2c2c9ec52f959c9 class=toggle>
<label for=section-aea9addc7ea0cf58a2c2c9ec52f959c9 class="flex justify-between"><a role=button>📔 Git</a></label><ul><li><a href=/notes/2024/03/11/j3c62fv8dglvf2kg975zlv/>📝 标签操作</a></li><li><a href=/notes/2024/03/14/5kqlzqjqawbxf2t6vusxar/>📝 删除Commit</a></li><li><a href=/blog/git/WNYzxj6GR/>📝 git之删除远程分支</a></li><li><a href=/blog/git/-fZeBsu3T/>📝 git更新.gitignore</a></li><li><a href=/blog/git/H1Krv6b-4/>📝 git修改历史cimmit信息</a></li><li><a href=/blog/git/By9OI51xN/>📝 git基础笔记</a></li><li><a href=/blog/git/Hk6GGp6cQ/>📝 Git回滚到某个commit</a></li></ul></li></ul></li><li><input type=checkbox id=section-caf3b688bb818cc6cfc82165db78eba5 class=toggle>
<label for=section-caf3b688bb818cc6cfc82165db78eba5 class="flex justify-between"><a role=button>♻️ 回收归档</a></label><ul><li><input type=checkbox id=section-4a72fedb3d7dfc18dbbcab83511bf75a class=toggle>
<label for=section-4a72fedb3d7dfc18dbbcab83511bf75a class="flex justify-between"><a role=button>📔 Rust</a></label><ul><li><input type=checkbox id=section-8aa26b33a0315c1be70924160dd1a92c class=toggle>
<label for=section-8aa26b33a0315c1be70924160dd1a92c class="flex justify-between"><a role=button>🔖 学习笔记</a></label><ul><li><a href=/notes/2024/03/06/e3ksq3zkmps14gcxuirwzx/>📝 所有权</a></li><li><a href=/notes/2024/03/06/o4arkqgfnqygr5ckif2gkk/>📝 借用与引用</a></li></ul></li></ul></li></ul></li><li><a href=/links/>🤝 友情链接</a></li></ul><ul><li><a href=/articles/>📚 我的文章</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu>
</label><strong>Centos多网卡绑定(bonding)</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#内核模块>内核模块</a></li><li><a href=#配置bonding>配置bonding</a></li><li><a href=#bonding模式>bonding模式</a><ul><li><a href=#第一种模式>第一种模式：</a></li><li><a href=#第二种模式>第二种模式：</a></li><li><a href=#第三种模式>第三种模式：</a></li><li><a href=#第四种模式>第四种模式：</a></li><li><a href=#第五种模式>第五种模式：</a></li><li><a href=#第六种模式>第六种模式：</a></li><li><a href=#第七种模式>第七种模式：</a></li></ul></li></ul></nav></aside></header><article class="markdown book-post"><h1 class=book-post-title><a href=/blog/linux/rJFUIE5I0G/>Centos多网卡绑定(bonding)</a></h1><div class=book-post-meta><span class=book-post-meta-date>2018-05-14</span>
<span class=book-post-meta-separator-categories>&nbsp; | &nbsp;</span>
<span class=book-post-meta-categories><a href=/categories/linux/>Linux</a>
</span><span class=book-post-meta-separator-tags>&nbsp; | &nbsp;</span>
<span class=book-post-meta-tags><a href=/tags/linux/>Linux</a></span></div><h2 id=内核模块>内核模块
<a class=anchor href=#%e5%86%85%e6%a0%b8%e6%a8%a1%e5%9d%97>#</a></h2><p>通过modinfo bonding命令查看Linux是否支持bonding</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>lsmod |grep bonding
</span></span><span style=display:flex><span><span style=color:#75715e>#载入bonding模块</span>
</span></span><span style=display:flex><span>modprobe bonding
</span></span></code></pre></div><h2 id=配置bonding>配置bonding
<a class=anchor href=#%e9%85%8d%e7%bd%aebonding>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># cat /etc/modprobe.d/bond0.conf</span>
</span></span><span style=display:flex><span>alias bond0 bonding
</span></span><span style=display:flex><span>cd /etc/sysconfig/network-scripts/
</span></span><span style=display:flex><span><span style=color:#75715e># grep -v &#34;^#&#34; ifcfg-bond0</span>
</span></span><span style=display:flex><span>DEVICE<span style=color:#f92672>=</span>bond0
</span></span><span style=display:flex><span>BOOTPROTO<span style=color:#f92672>=</span>static
</span></span><span style=display:flex><span>ONBOOT<span style=color:#f92672>=</span>yes
</span></span><span style=display:flex><span>IPADDR<span style=color:#f92672>=</span>192.168.5.88
</span></span><span style=display:flex><span>NETMASK<span style=color:#f92672>=</span>255.255.255.0
</span></span><span style=display:flex><span>GATEWAY<span style=color:#f92672>=</span>192.168.5.1
</span></span><span style=display:flex><span>USERCTL<span style=color:#f92672>=</span>no
</span></span><span style=display:flex><span><span style=color:#f92672>====================================================</span>
</span></span><span style=display:flex><span>BONDING_OPTS<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mode=0 miimon=100&#34;</span>
</span></span><span style=display:flex><span>说明：这里使用了BONDING_OPTS选项，则不需要再使用 /etc/modprobe.d/bond0.conf 配置文件对绑定设备进行配置。参数mode<span style=color:#f92672>=</span>0，指负载均衡模式，详见下文。miimon是用来进行链路监测的，其原理是检测网上的链路状态，一般将miimon值设为100，表示系统每100ms监测一次链路连接状态，如果有一条线路不通就转入另一条线路。
</span></span><span style=display:flex><span><span style=color:#f92672>====================================================</span>
</span></span><span style=display:flex><span><span style=color:#75715e># grep -v &#34;^#&#34; ifcfg-eth1</span>
</span></span><span style=display:flex><span>DEVICE<span style=color:#f92672>=</span>eth1
</span></span><span style=display:flex><span>ONBOOT<span style=color:#f92672>=</span>yes
</span></span><span style=display:flex><span>BOOTPROTO<span style=color:#f92672>=</span>static
</span></span><span style=display:flex><span>MASTER<span style=color:#f92672>=</span>bond0
</span></span><span style=display:flex><span>SLAVE<span style=color:#f92672>=</span>yes
</span></span><span style=display:flex><span>USERCTL<span style=color:#f92672>=</span>no
</span></span><span style=display:flex><span><span style=color:#75715e># grep -v &#34;^#&#34; ifcfg-eth0</span>
</span></span><span style=display:flex><span>DEVICE<span style=color:#f92672>=</span>eth0
</span></span><span style=display:flex><span>BOOTPROTO<span style=color:#f92672>=</span>static
</span></span><span style=display:flex><span>ONBOOT<span style=color:#f92672>=</span>yes
</span></span><span style=display:flex><span>MASTER<span style=color:#f92672>=</span>bond0
</span></span><span style=display:flex><span>SLAVE<span style=color:#f92672>=</span>yes
</span></span><span style=display:flex><span>USERCTL<span style=color:#f92672>=</span>no
</span></span><span style=display:flex><span>注意：建议不要指定MAC地址
</span></span><span style=display:flex><span><span style=color:#75715e># echo 100 &gt; /sys/class/net/bond0/bonding/miimon</span>
</span></span><span style=display:flex><span><span style=color:#75715e># echo 6 &gt; /sys/class/net/bond0/bonding/mode</span>
</span></span><span style=display:flex><span>Mode of operation : <span style=color:#ae81ff>0</span> <span style=color:#66d9ef>for</span> balance-rr, <span style=color:#ae81ff>1</span> <span style=color:#66d9ef>for</span> active-backup, <span style=color:#ae81ff>2</span> <span style=color:#66d9ef>for</span> balance-xor；
</span></span><span style=display:flex><span><span style=color:#ae81ff>3</span> <span style=color:#66d9ef>for</span> broadcast, <span style=color:#ae81ff>4</span> <span style=color:#66d9ef>for</span> 802.3ad, <span style=color:#ae81ff>5</span> <span style=color:#66d9ef>for</span> balance-tlb, <span style=color:#ae81ff>6</span> <span style=color:#66d9ef>for</span> balance-alb <span style=color:#f92672>(</span>charp<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>重启网络
</span></span><span style=display:flex><span><span style=color:#75715e># /etc/init.d/network restart</span>
</span></span><span style=display:flex><span>检查下
</span></span><span style=display:flex><span>ifconfig
</span></span><span style=display:flex><span>cat /proc/net/bonding/bond0
</span></span></code></pre></div><h2 id=bonding模式>bonding模式
<a class=anchor href=#bonding%e6%a8%a1%e5%bc%8f>#</a></h2><p>bonding的模式：0-6，即：7种模式</p><h3 id=第一种模式>第一种模式：
<a class=anchor href=#%e7%ac%ac%e4%b8%80%e7%a7%8d%e6%a8%a1%e5%bc%8f>#</a></h3><p>mod=0 ，即：(balance-rr) Round-robin policy（平衡抡循环策略）</p><p>特点：传输数据包顺序是依次传输（即：第1个包走eth2，下一个包就走eth3….一直循环下去，直到最后一个传输完毕），</p><p>此模式提供负载平衡和容错能力；但是我们知道如果一个连接或者会话的数据包从不同的接口发出的话，中途再经过不同的链路，在客户端很有可能会出现数据包无序到达的问题，而无序到达的数据包需要重新要求被发送，这样网络的吞吐量就会下降</p><h3 id=第二种模式>第二种模式：
<a class=anchor href=#%e7%ac%ac%e4%ba%8c%e7%a7%8d%e6%a8%a1%e5%bc%8f>#</a></h3><p>mod=1，即： (active-backup) Active-backup policy（主-备份策略）</p><p>特点：只有一个设备处于活动状态，当</p><p>一个宕掉另一个马上由备份转换为主设备。mac地址是外部可见得，从外面看来，bond的MAC地址是唯一的，以避免switch(交换机)发生混乱。此模式只提供了容错能力；由此可见此算法的优点是可以提供高网络连接的可用性，但是它的资源利用率较低，只有一个接口处于工作状态，在有</p><p>N 个网络接口的情况下，资源利用率为1/N</p><h3 id=第三种模式>第三种模式：
<a class=anchor href=#%e7%ac%ac%e4%b8%89%e7%a7%8d%e6%a8%a1%e5%bc%8f>#</a></h3><p>mod=2，即：(balance-xor) XOR policy（平衡策略）</p><p>特点：基于指定的传输HASH策略传输数据包。缺省的策略是：(源MAC地址 XOR 目标MAC地址) %</p><p>slave数量。其他的传输策略可以通过xmit_hash_policy选项指定，此模式提供负载平衡和容错能力</p><h3 id=第四种模式>第四种模式：
<a class=anchor href=#%e7%ac%ac%e5%9b%9b%e7%a7%8d%e6%a8%a1%e5%bc%8f>#</a></h3><p>mod=3，即：broadcast（广播策略） 特点：在每个slave接口上传输每个数据包，此模式提供了容错能力</p><h3 id=第五种模式>第五种模式：
<a class=anchor href=#%e7%ac%ac%e4%ba%94%e7%a7%8d%e6%a8%a1%e5%bc%8f>#</a></h3><p>mod=4，即：(802.3ad) IEEE 802.3ad Dynamic link aggregation（IEEE 802.3ad 动态链接聚合）</p><p>特点：创建一个聚合组，它们共享同样的速率和双工设定。根据802.3ad规范将多个slave工作在同一个激活的聚合体下。</p><p>外出流量的slave选举是基于传输hash策略，该策略可以通过xmit_hash_policy选项从缺省的XOR策略改变到其他策略。需要注意的是，并不是所有的传输策略都是802.3ad适应的，尤其考虑到在802.3ad标准43.2.4章节提及的包乱序问题。不同的实现可能会有不同的适应性。</p><p>必要条件：</p><p>条件1：ethtool支持获取每个slave的速率和双工设定</p><p>条件2：switch(交换机)支持IEEE 802.3ad Dynamic link aggregation</p><p>条件3：大多数switch(交换机)需要经过特定配置才能支持802.3ad模式</p><h3 id=第六种模式>第六种模式：
<a class=anchor href=#%e7%ac%ac%e5%85%ad%e7%a7%8d%e6%a8%a1%e5%bc%8f>#</a></h3><p>mod=5，即：(balance-tlb) Adaptive transmit load balancing（适配器传输负载均衡）</p><p>特点：不需要任何特别的switch(交换机)支持的通道bonding。在每个slave上根据当前的负载（根据速度计算）分配外出流量。如果正在接受数据的slave出故障了，另一个slave接管失败的slave的MAC地址。</p><p>必要条件：ethtool支持获取每个slave的速率</p><h3 id=第七种模式>第七种模式：
<a class=anchor href=#%e7%ac%ac%e4%b8%83%e7%a7%8d%e6%a8%a1%e5%bc%8f>#</a></h3><p>mod=6，即：(balance-alb) Adaptive load balancing（适配器适应性负载均衡）</p><p>特点：</p><p>该模式包含了balance-tlb模式，同时加上针对IPV4流量的接收负载均衡(receive load balance,</p><p>rlb)，而且不需要任何switch(交换机)的支持。接收负载均衡是通过ARP协商实现的。</p><p>bonding驱动截获本机发送的ARP应答，并把源硬件地址改写为bond中某个slave的唯一硬件地址，从而使得不同的对端使用不同的硬件地址进行通信。来自服务器端的接收流量也会被均衡。</p><p>当本机发送ARP请求时，bonding驱动把对端的IP信息从ARP包中复制并保存下来。当ARP应答从对端到达时，bonding驱动把它的硬件地址提取出来，并发起一个ARP应答给bond中的某个slave。</p><p>使用ARP协商进行负载均衡的一个问题是：每次广播</p><p>ARP请求时都会使用bond的硬件地址，因此对端学习到这个硬件地址后，接收流量将会全部刘翔当前的slave。</p><p>这个问题通过给所有的对端发送更新（ARP应答）来解决，应答中包含他们独一无二的硬件地址，从而导致流量重新分布。当新的slave加入到bond中时，或者某个未激活的slave重新激活时，接收流量也要重新分布。</p><p>接收的负载被顺序地分布（round</p><p>robin）在bond中最高速的slave上当某个链路被重新接上，或者一个新的slave加入到bond中，接收流量在所有当前激活的slave中全部重新分配，通过使用指定的MAC地址给每个</p><p>client发起ARP应答。下面介绍的updelay参数必须被设置为某个大于等于switch(交换机)转发延时的值，从而保证发往对端的ARP应答不会被switch(交换机)阻截。</p><p>必要条件：</p><p>条件1：ethtool支持获取每个slave的速率；</p><p>条件2：底层驱动支持设置某个设备的硬件地址，从而使得总是有个slave(curr_active_slave)使用bond的硬件地址，同时保证每个bond</p><p>中的slave都有一个唯一的硬件地址。如果curr_active_slave出故障，它的硬件地址将会被新选出来的</p><p>curr_active_slave接管其实mod=6与mod=0的区别：mod=6，先把eth2流量占满，再占eth3，….ethX；而mod=0的话，会发现2个口的流量都很稳定，基本一样的带宽。而mod=6，会发现第一个口流量很高，第2个口只占了小部分流量</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#内核模块>内核模块</a></li><li><a href=#配置bonding>配置bonding</a></li><li><a href=#bonding模式>bonding模式</a><ul><li><a href=#第一种模式>第一种模式：</a></li><li><a href=#第二种模式>第二种模式：</a></li><li><a href=#第三种模式>第三种模式：</a></li><li><a href=#第四种模式>第四种模式：</a></li><li><a href=#第五种模式>第五种模式：</a></li><li><a href=#第六种模式>第六种模式：</a></li><li><a href=#第七种模式>第七种模式：</a></li></ul></li></ul></nav></div></aside></main><footer class=page-footer><p><span id=page-footer-time>载入中...</span>
<script>function secondToDate(e){if(!e)return 0;var t=new Array(0,0,0,0,0);return e>=365*24*3600&&(t[0]=parseInt(e/(365*24*3600)),e%=365*24*3600),e>=24*3600&&(t[1]=parseInt(e/(24*3600)),e%=24*3600),e>=3600&&(t[2]=parseInt(e/3600),e%=3600),e>=60&&(t[3]=parseInt(e/60),e%=60),e>0&&(t[4]=e),t}</script><script type=text/javascript language=javascript>function setTime(){var e=Math.round(new Date(Date.UTC(2016,11,1,0,0,0)).getTime()/1e3),t=Math.round(((new Date).getTime()+8*60*60*1e3)/1e3);currentTime=secondToDate(t-e),currentTimeHtml=currentTime[0]+"年"+currentTime[1]+"天"+currentTime[2]+"时"+currentTime[3]+"分"+currentTime[4]+"秒",document.getElementById("page-footer-time").innerHTML="网站运行:"+currentTimeHtml}setInterval(setTime,1e3)</script></p></footer></body></html>