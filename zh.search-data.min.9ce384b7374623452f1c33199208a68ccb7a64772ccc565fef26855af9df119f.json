[{"id":0,"href":"/notes/2024/06/06/sf4ff6x8cuyhvzougj9dwg/","title":"ğŸ“ MacOSç­¾å","section":"ğŸ“” C++","content":" ä¸‹è½½æ ¹è¯ä¹¦ # https://www.apple.com/certificateauthority/DeveloperIDG2CA.cer\nå¯¼å…¥æ ¹è¯ä¹¦ # sudo security import ~/Downloads/DeveloperIDG2CA.cer \\ -k /Library/Keychains/System.keychain \\ -T /usr/bin/codesign \\ -T /usr/bin/security \\ -T /usr/bin/productbuild æŸ¥çœ‹å’Œæ¸…ç†ç‰¹æ®Šå±æ€§ # xattr -lr xxx.app xattr -cr xxx.app ç­¾å‘APP # codesign --deep --force --verbose --sign \u0026#34;xxxx\u0026#34; xxx.app éªŒè¯ç­¾å # spctl --assess --type execute --verbose=4 xxx.app å‚è€ƒæ–‡æ¡£ # https://testerhome.com/topics/33338\nhttps://www.apple.com/certificateauthority/\nhttps://www.jianshu.com/p/f420649fba42\n"},{"id":1,"href":"/notes/2024/03/11/j3c62fv8dglvf2kg975zlv/","title":"ğŸ“ æ ‡ç­¾æ“ä½œ","section":"ğŸ“” Git","content":" åˆ›å»ºæ ‡ç­¾ # git tag \u0026lt;tagname\u0026gt; æ¨é€æ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“ # git push origin \u0026lt;tagname\u0026gt; æ¨é€æ‰€æœ‰æ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“ # git push origin --tags æŸ¥çœ‹æœ¬åœ°æ‰€æœ‰æ ‡ç­¾ # git tag æŸ¥çœ‹è¿œç¨‹æ‰€æœ‰æ ‡ç­¾ # git ls-remote --tags origin åˆ é™¤æœ¬åœ°æˆ–è¿œç¨‹æ ‡ç­¾ # git tag -d \u0026lt;tagname\u0026gt; # åˆ é™¤è¿œç¨‹æ ‡ç­¾ git push origin :refs/tags/\u0026lt;tagname\u0026gt; "},{"id":2,"href":"/notes/2024/03/06/kkcc5t2y88hybafpourudv/","title":"ğŸ“ FFmpegæ£€æµ‹é€æ˜é€šé“","section":"ğŸ”– å¸¸ç”¨å‘½ä»¤","content":" æ£€æµ‹é€æ˜é€šé“ # FFmpegå‘½ä»¤ # $ ffmpeg -v error -i 123.mp4 -vf \u0026#34;select=\u0026#39;eq(n,0)\u0026#39;, alphaextract\u0026#34; -f null /dev/null [Parsed_alphaextract_1 @ 0x7fe8f5208100] Requested planes not available. [Parsed_alphaextract_1 @ 0x7fe8f5208100] Failed to configure input pad on Parsed_alphaextract_1 [vf#0:0 @ 0x7fe8f5005f40] Error reinitializing filters! Failed to inject frame into filter network: Invalid argument Error while filtering: Invalid argument [out#0/null @ 0x7fe8f5004900] Nothing was written into output file, because at least one of its streams received no packets. åˆ¤æ–­æ¡ä»¶ # å¦‚æœå‡ºç°ä»¥ä¸ŠæŠ¥é”™ä¿¡æ¯ï¼Œåˆ™è¯´æ˜è§†é¢‘ä¸­æ²¡æœ‰é€æ˜é€šé“ã€‚\n"},{"id":3,"href":"/notes/2024/03/06/e3ksq3zkmps14gcxuirwzx/","title":"ğŸ“ æ‰€æœ‰æƒ","section":"ğŸ”– å­¦ä¹ ç¬”è®°","content":" æ‰€æœ‰æƒ # æ‰€æœ‰æƒè§„åˆ™ # Rust ä¸­çš„æ¯ä¸€ä¸ªå€¼éƒ½æœ‰ä¸€ä¸ª æ‰€æœ‰è€…ï¼ˆownerï¼‰ã€‚ å€¼åœ¨ä»»ä¸€æ—¶åˆ»æœ‰ä¸”åªæœ‰ä¸€ä¸ªæ‰€æœ‰è€…ã€‚ å½“æ‰€æœ‰è€…ï¼ˆå˜ï¥¾ï¼‰ç¦»å¼€ä½œç”¨åŸŸï¼Œè¿™ä¸ªå€¼å°†è¢«ä¸¢å¼ƒã€‚ å¯Copyçš„ç±»å‹ # æ‰€æœ‰æ•´æ•°ç±»å‹ï¼Œæ¯”å¦‚ u32 ã€‚ å¸ƒå°”ç±»å‹ï¼Œbool ï¼Œå®ƒçš„å€¼æ˜¯ true å’Œ false ã€‚ æ‰€æœ‰æµ®ç‚¹æ•°ç±»å‹ï¼Œæ¯”å¦‚ f64 ã€‚ å­—ç¬¦ç±»å‹ï¼Œchar ã€‚ å…ƒç»„ï¼Œå½“ä¸”ä»…å½“å…¶åŒ…å«çš„ç±»å‹ä¹Ÿéƒ½å®ç° Copy çš„æ—¶å€™ã€‚æ¯”å¦‚ï¼Œ(i32, i32) å®ç°äº† Copy ï¼Œä½†(i32, String) å°±æ²¡æœ‰ã€‚ "},{"id":4,"href":"/notes/2024/05/28/3txbbb7iruppjsg4p7rwnb/","title":"ğŸ“ MacOSå †æ ˆå¤§å°","section":"ğŸ“” C++","content":" é—®é¢˜ä»£ç  # char buffer[8*1024*1024]; é—®é¢˜åˆ†æ # macosç³»ç»Ÿé»˜è®¤çš„å †æ ˆå¤§å°ä¸º8MBï¼Œå¯ä»¥é€šè¿‡ulimitå‘½ä»¤æŸ¥çœ‹å’Œä¿®æ”¹ã€‚ ä½†æ˜¯ï¼Œå¦‚æœä»£ç ä¸­ä½¿ç”¨äº†å¤§é‡çš„å †æ ˆå˜é‡ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ ˆæº¢å‡ºï¼Œå¯¼è‡´ç¨‹åºå´©æºƒã€‚ # æŸ¥çœ‹ç³»ç»Ÿé»˜è®¤çš„å †æ ˆå¤§å° ulimit -a # æˆ–è€… ulimit -s è§£å†³æ–¹æ¡ˆ # char *buffer = new char[8*1024*1024]; // è®°å¾—é‡Šæ”¾ delete[] buffer; "},{"id":5,"href":"/notes/2024/03/14/5kqlzqjqawbxf2t6vusxar/","title":"ğŸ“ åˆ é™¤Commit","section":"ğŸ“” Git","content":"# è·å–commitä¿¡æ¯ git log # commit-id è¦åˆ é™¤commitçš„ä¸‹ä¸€ä¸ªcommit-id git rebase -i (commit-id) # ç¼–è¾‘æ–‡ä»¶ï¼Œå°†è¦åˆ é™¤çš„commitä¹‹å‰çš„pickæ”¹ä¸ºdrop # ä¿å­˜æ–‡ä»¶é€€å‡º # å†æ¬¡æŸ¥çœ‹commitä¿¡æ¯ï¼Œç¡®è®¤åˆ é™¤æˆåŠŸ git log "},{"id":6,"href":"/notes/2024/03/06/o4arkqgfnqygr5ckif2gkk/","title":"ğŸ“ å€Ÿç”¨ä¸å¼•ç”¨","section":"ğŸ”– å­¦ä¹ ç¬”è®°","content":" å€Ÿç”¨ä¸å¼•ç”¨ # åˆ›å»ºä¸€ä¸ªå¼•ç”¨çš„ï¨ˆä¸ºç§°ä¸º å€Ÿç”¨ å…è®¸ä½¿ç”¨å€¼ä½†ï¥§è·å–å…¶æ‰€æœ‰æƒ å¼•ç”¨è§„åˆ™ # åœ¨ä»»æ„ç»™å®šæ—¶é—´ï¼Œè¦ä¹ˆ åªèƒ½æœ‰ä¸€ä¸ªå¯å˜å¼•ç”¨ï¼Œè¦ä¹ˆ åªèƒ½æœ‰å¤šä¸ªï¥§å¯å˜å¼•ç”¨ã€‚ å¼•ç”¨å¿…é¡»æ€»æ˜¯æœ‰æ•ˆçš„ã€‚ å¯å˜å¼•ç”¨ # å…è®¸ä¿®æ”¹ä¸€ä¸ªå€Ÿç”¨çš„å€¼ï¼Œè¿™å°±æ˜¯å¯å˜å¼•ç”¨ï¼ˆ\u0026amp;mutï¼‰ã€‚\nfn main() { let mut s = String::from(\u0026#34;hello\u0026#34;); change(\u0026amp;mut s); } fn change(some_string: \u0026amp;mut String) { some_string.push_str(\u0026#34;, world\u0026#34;); } æ‚¬å‚å¼•ç”¨ï¼ˆDangling Referencesï¼‰ # fn main() { let reference_to_nothing = dangle(); } fn dangle() -\u0026gt; \u0026amp;String { // dangle è¿”å›ä¸€ä¸ªå­—ç¬¦ï¤…çš„å¼•ç”¨ let s = String::from(\u0026#34;hello\u0026#34;); // s æ˜¯ä¸€ä¸ªæ–°å­—ç¬¦ï¤… \u0026amp;s // è¿”å›å­—ç¬¦ï¤… s çš„å¼•ç”¨ } // è¿™ï§© s ç¦»å¼€ä½œç”¨åŸŸå¹¶è¢«ä¸¢å¼ƒã€‚å…¶å†…å­˜è¢«é‡Šæ”¾ã€‚ // å±é™©ï¼ "},{"id":7,"href":"/notes/2020/12/22/ros_kibgg/","title":"ğŸ“ FFmpegè§„èŒƒéŸ³é¢‘å“åº¦","section":"ğŸ”– å¸¸ç”¨å‘½ä»¤","content":" é€šè¿‡FFmpegå†…ç½®æ»¤é•œã€æ‰‹åŠ¨è°ƒæ•´éŸ³é‡ã€æˆ–è€…ffmpeg-normalizeå®ç°å¯¹å“åº¦çš„æ§åˆ¶ã€‚\nå†…ç½®å½’ä¸€åŒ–æ»¤æ³¢å™¨ # loudnormï¼šé€šè¿‡EBU R.128è¿›è¡Œå“åº¦æ ‡å‡†åŒ–ã€‚æ‚¨å¯ä»¥è®¾ç½®ç§¯åˆ†çš„ä½“ç§¯ç›®æ ‡ï¼Œä½“ç§¯èŒƒå›´ç›®æ ‡æˆ–æœ€å¤§çœŸå®å³°ã€‚å»ºè®®ç”¨äºå‘å¸ƒéŸ³é¢‘å’Œè§†é¢‘ï¼Œå¹¶è¢«ä¸–ç•Œå„åœ°çš„å¹¿æ’­å…¬å¸ä½¿ç”¨ã€‚\ndynaudnormï¼šâ€œæ™ºèƒ½â€å“åº¦å½’ä¸€åŒ–ï¼Œä¸è¿›è¡Œè£å‰ªã€‚åŠ¨æ€åœ°å°†è§„èŒƒåŒ–åº”ç”¨äºæ–‡ä»¶çš„çª—å£éƒ¨åˆ†ã€‚åº”è°¨æ…ä½¿ç”¨ï¼Œå› ä¸ºè¿™å¯èƒ½ä¼šæ”¹å˜å£°éŸ³çš„ç‰¹æ€§ã€‚\n#fdk_aacç¼–ç å™¨ ffmpeg200421 -i \u0026#34;source_audio.ts\u0026#34; -c:a libfdk_aac -strict -2 -ac 2 -ar 48000 -ab 196k -af \u0026#34;[0:a]pan=stereo| FL \u0026lt; FL + 0.5*FC + 0.6*BL + 0.6*SL | FR \u0026lt; FR + 0.5*FC + 0.6*BR + 0.6*SR,loudnorm=I=-23:LRA=6:tp=-1\u0026#34; -y -cutoff 20000 \u0026#34;ac_5m.ts\u0026#34; #aacç¼–ç å™¨ ffmpeg -i \u0026#34;source_audio.ts\u0026#34; -c:a aac -strict -2 -ac 2 -ar 48000 -ab 196k -af \u0026#34;loudnorm=I=-23:LRA=6:tp=-1\u0026#34; -y -cutoff 20000 \u0026#34;1_aac_dynaudnorm_ac_5m.ts\u0026#34; å¸¸ç”¨æ–¹å¼ # ffmpeg -i input.mp4 -vn -acodec libfdk_aac -ac 2 -ar 44100 -af loudnorm=I=-16:TP=-1:LRA=7:print_format=json -f null /dev/null æ‰‹åŠ¨è§„èŒƒéŸ³é¢‘çš„å“åº¦ # é¦–å…ˆï¼Œæ‚¨éœ€è¦åˆ†æéŸ³é¢‘æµä»¥è·å–æœ€å¤§éŸ³é‡ï¼Œä»¥æŸ¥çœ‹è§„èŒƒåŒ–æ˜¯å¦èµ·ä½œç”¨ã€‚\nffmpeg -i video.avi -af \u0026#34;volumedetect\u0026#34; -vn -sn -dn -f null /dev/null [Parsed_volumedetect_0 @ 0x7f8ba1c121a0] mean_volume: -16.0 dB [Parsed_volumedetect_0 @ 0x7f8ba1c121a0] max_volume: -5.0 dB [Parsed_volumedetect_0 @ 0x7f8ba1c121a0] histogram_0db: 87861 ä½¿ç”¨éŸ³é‡è¿‡æ»¤å™¨ï¼ˆvolumeï¼‰\nffmpeg -i video.mp4 -af \u0026#34;volume=5dB\u0026#34; -c:v copy -c:a aac -cutoff 20000 output.mp4 volume=5dB è¡¨ç¤ºå¢åŠ 5åˆ†è´çš„éŸ³é‡\nvolume=-5dB è¡¨ç¤ºå‡å°‘5åˆ†è´çš„éŸ³é‡\nvolume=1.5 è¡¨ç¤ºæ”¾å¤§1.5å€çš„éŸ³é‡\nffmpeg-normalize # ffmpeg-normalize æ˜¯ä¸€ä¸ªPythonåº“ï¼Œå¯ä»¥ä½¿ç”¨pipå®‰è£…ï¼Œè¯¦ç»†çš„ä½¿ç”¨æ–¹å¼åœ¨githubä¸Šæœ‰æ–‡æ¡£ï¼Œè¿™é‡Œå°±ä¸åšè¿‡å¤šçš„ä»‹ç»äº†ã€‚\n"},{"id":8,"href":"/notes/2020/12/07/aaelfz1mg/","title":"ğŸ“ MacOS Lauchpad(å¯åŠ¨å°) é‡ç½®","section":"ğŸ“” MacOS","content":" é‡ç½®macosçš„Lauchpad(å¯åŠ¨å°)ï¼ŒåŠè®¾ç½®Lauchpad(å¯åŠ¨å°)çš„è¡Œæ•°å’Œåˆ—æ•°ã€‚\næ‰“å¼€ç»ˆç«¯ç¨‹åºï¼ŒæŒ‰éœ€æ±‚æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ã€‚\né‡ç½® Lauchpad # defaults write com.apple.dock ResetLaunchPad -bool TRUE; é‡å¯ Dock # killall Dock è®¾ç½® Lauchpad å›¾æ ‡çš„åˆ—æ•° # defaults write com.apple.dock springboard-columns -int 7 è®¾ç½® Lauchpad å›¾æ ‡çš„è¡Œæ•° # defaults write com.apple.dock springboard-rows -int 7 "},{"id":9,"href":"/notes/2020/10/13/mv3bzfgqm/","title":"ğŸ“ FFmpegå¤šä¸ªéŸ³é¢‘æ··éŸ³","section":"ğŸ”– å¸¸ç”¨å‘½ä»¤","content":" ä½¿ç”¨FFmpegä¸­çš„adelayå’Œamixæ»¤é•œç»™éŸ³é¢‘åšæ··éŸ³\nåœ¨30ç§’åæ··åˆ1ä¸ªéŸ³é¢‘\nffmpeg -i 1-1.mp3 -i 2.mp3 -filter_complex \u0026#34;[1]adelay=delays=30s:all=1[aud1];[0][aud1]amix=inputs=2\u0026#34; -vsync 2 -y 3.mp3 åœ¨30ç§’åæ··åˆ2ä¸ªéŸ³é¢‘\nffmpeg -i 1-1.mp3 -i 2.mp3 -i 3.mp3 -filter_complex \u0026#34;[1]adelay=delays=30s:all=1[aud1];[2]adelay=delays=30s:all=1[aud2];[0][aud1][aud2]amix=inputs=3\u0026#34; -vsync 2 -y 4.mp3 æ··åˆå¤šä¸ªå‚ç…§æ··åˆ2ä¸ªçš„å‘½ä»¤ä¿®æ”¹ä¸‹å³å¯\n"},{"id":10,"href":"/notes/2020/04/01/misev5_hw/","title":"ğŸ“ upx for macos ä¹‹æºç ç¼–è¯‘","section":"ğŸ“” MacOS","content":" UPX (the Ultimate Packer for eXecutables)æ˜¯ä¸€æ¬¾å…ˆè¿›çš„å¯æ‰§è¡Œç¨‹åºæ–‡ä»¶å‹ç¼©å™¨ï¼Œå‹ç¼©è¿‡çš„å¯æ‰§è¡Œæ–‡ä»¶ä½“ç§¯ç¼©å°50%-70% ï¼Œè¿™æ ·å‡å°‘äº†ç£ç›˜å ç”¨ç©ºé—´ã€ç½‘ç»œä¸Šä¼ ä¸‹è½½çš„æ—¶é—´å’Œå…¶å®ƒåˆ†å¸ƒä»¥åŠå­˜å‚¨è´¹ç”¨ã€‚\nå‡†å¤‡æºç  # git clone https://github.com/upx/upx.git git clone https://github.com/upx/upx-lzma-sdk.git lzma-sdk wget http://www.oberhumer.com/opensource/ucl/download/ucl-1.03.tar.gz ç¼–è¯‘æºç  # tar -xzvf ucl-1.03.tar.gz cd ucl-1.03 ./configure --prefix=/home/o/ucl CC=clang make cd ../upx make all UPX_UCLDIR=../ucl-1.03 UPX_LZMADIR=../lzma-sdk ç¼–è¯‘å®Œæˆä¹‹åå†srcç›®å½•ä¸‹èƒ½æ‰¾åˆ°upx.outæ–‡ä»¶å°±æˆåŠŸäº†\n"},{"id":11,"href":"/notes/2020/07/15/uthueryud/","title":"ğŸ“ FFmpegç»™è§†é¢‘æ·»åŠ æ°´å°","section":"ğŸ”– å¸¸ç”¨å‘½ä»¤","content":" å›¾ç‰‡æ°´å°ã€æ–‡å­—æ°´å°ã€ç”»ä¸­ç”»\nå›¾ç‰‡æ°´å° # ffmpeg -i input.mp4 -vf \u0026#34;movie=wenzi.png[watermark];[in][watermark] overlay=main_w-overlay_w-10:main_h-overlay_h-10[out] \u0026#34; output.mp4 -i: ä¸€èˆ¬è¡¨ç¤ºè¾“å…¥ input.mp4è¡¨ç¤ºè¦å¤„ç†çš„è§†é¢‘æº -vf: æ»¤é•œç›¸å…³ï¼Œè§†é¢‘è£å‰ªï¼Œæ°´å°ç­‰ç­‰æ“ä½œéƒ½éœ€è¦å®ƒå®Œæˆ movie: wenzi.png è¦æ·»åŠ çš„æ°´å°å›¾ç‰‡åœ°å€ overlay: æ°´å°å‚æ•° main_w-overlay_w-10: æ°´å°åœ¨xè½´çš„ä½ç½®ï¼Œä¹Ÿå¯ä»¥å†™æˆx=main_w-overlay_w-10 main_h-overlay_h-10: æ°´å°åœ¨yè½´çš„ä½ç½® ffmpeg -i input.mp4 -i logo.png -filter_complex \u0026#39;overlay=x=10:y=main_h-overlay_h-10\u0026#39; output.mp4 -filter_complex: ç›¸æ¯”-vf, filter_complexé€‚åˆå¼€å‘å¤æ‚çš„æ»¤é•œåŠŸèƒ½ï¼Œå¦‚åŒæ—¶å¯¹è§†é¢‘è¿›è¡Œè£å‰ªå¹¶æ—‹è½¬ã€‚å‚æ•°ä¹‹é—´ä½¿ç”¨é€—å·ï¼ˆï¼Œï¼‰éš”å¼€å³å¯ main_w: è§†é¢‘å®½åº¦ overlay_w: è¦æ·»åŠ çš„å›¾ç‰‡æ°´å°å®½åº¦ main_h: è§†é¢‘é«˜åº¦ overlay_h: è¦æ·»åŠ çš„å›¾ç‰‡æ°´å°å®½åº¦ æ–‡å­—æ°´å° # ffmpeg -i input.mp4 -vf \u0026#34;drawtext=fontfile=simhei.ttf: text=â€˜æŠ€æœ¯æ˜¯ç¬¬ä¸€ç”Ÿäº§åŠ›â€™:x=10:y=10:fontsize=24:fontcolor=white:shadowy=2\u0026#34; output.mp4 fontfile: å­—ä½“ç±»å‹ text: è¦æ·»åŠ çš„æ–‡å­—å†…å®¹ fontsize: å­—ä½“å¤§å° fontcolor: å­—ä½“é¢œè‰² ç”»ä¸­ç”» # åªæ˜¾ç¤º1éï¼Œåè¾¹é‡å¤æ˜¾ç¤ºæœ€åä¸€å¸§ã€‚\nffmpeg -i bunny.mp4 -vf \u0026#34;movie=test.mov[logo];[0:v][logo]overlay=x=100:y=100\u0026#34; -y out.mp4 movä¸€ç›´å¾ªç¯æ˜¾ç¤ºã€‚ æ·»åŠ  loop=0,setpts=N/FRAME_RATE/TB å³å¯ã€‚\nffmpeg -i bunny.mp4 -vf \u0026#34;movie=test.mov:loop=0,setpts=N/FRAME_RATE/TB[logo];[0:v][logo]overlay=x=100:y=100\u0026#34; -y out.mp4 åªæ˜¾ç¤ºä¸€é æ·»åŠ eof_actionå³å¯ã€‚\nffmpeg -i bunny.mp4 -vf \u0026#34;movie=test.mov[logo];[0:v][logo]overlay=x=100:y=100:eof_action=pass\u0026#34; -vframes 1000 -y out.mp4 "},{"id":12,"href":"/notes/2019/01/03/hjvndli-4/","title":"ğŸ“ MacOSæ¢å¤launchpadé»˜è®¤å¸ƒå±€","section":"ğŸ“” MacOS","content":" åœ¨Mac OS ä¸­é‡ç½®Launchpadå¸ƒå±€\nLaunchpadå¯ä»¥ä½œä¸ºä»ç†Ÿæ‚‰çš„ç±»ä¼¼iOSçš„å›¾æ ‡ç½‘æ ¼ç•Œé¢åœ¨Macä¸Šæ‰“å¼€åº”ç”¨ç¨‹åºçš„å¿«æ·æ–¹å¼ã€‚å¦‚æœæ‚¨å·²ç»è‡ªå®šä¹‰äº†è¿™äº›åº”ç”¨ç¨‹åºå›¾æ ‡å¹¶åœ¨Launchpadä¸­è¿›è¡Œäº†æ’åˆ—ï¼Œé‚£ä¹ˆæ‚¨å¯èƒ½ä¼šå†³å®šä»å¤´å¼€å§‹å¹¶å°†å…¶é¡ºåºé‡ç½®ä¸ºé¦–æ¬¡è´­ä¹°Macæ—¶çš„æ˜¾ç¤ºæ–¹å¼ã€‚å¦‚æœè¦é‡æ–°æ’åˆ—Launchpadå›¾æ ‡çš„æ˜¾ç¤ºæ–¹å¼ï¼Œè¿™ä¹Ÿå¾ˆæœ‰ç”¨ï¼Œä½†ä½¿ç”¨Launchpadè§£å†³æŸäº›æ˜¾ç¤ºé”™è¯¯ä¹Ÿå¾ˆæœ‰å¸®åŠ©ï¼Œå°¤å…¶æ˜¯åœ¨å›¾æ ‡æœªæ˜¾ç¤ºæˆ–æ˜¾ç¤ºä¸æ­£ç¡®çš„æƒ…å†µä¸‹ã€‚\nåœ¨OS Xçš„æ—©æœŸç‰ˆæœ¬ä¸­ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡è½¬å‚¨ä¸€äº›æ•°æ®åº“æ–‡ä»¶æ¥åˆ·æ–°Launchpadå†…å®¹ï¼Œä½†åœ¨Mac OSå’ŒOS X\n10.10.xä»¥åï¼Œæ‚¨éœ€è¦ä½¿ç”¨é»˜è®¤å‘½ä»¤å­—ç¬¦ä¸²æ¥é‡ç½®Launchpadå†…å®¹å’Œå¸ƒå±€ä»£æ›¿ã€‚\nå¦‚ä½•åœ¨MacOSä¸­é‡ç½®Launchpadå¸ƒå±€\næ‰“å¼€ç»ˆç«¯åº”ç”¨ç¨‹åºå¹¶è¾“å…¥ä»¥ä¸‹é»˜è®¤å€¼å†™å…¥å‘½ä»¤å­—ç¬¦ä¸²ï¼š\ndefaults write com.apple.dock ResetLaunchPad -bool true; killall Dock ç‚¹å‡»è¿”å›å¹¶ç­‰å¾…Docké‡æ–°å¯åŠ¨å¹¶é‡å¯Launchpad\nå†æ¬¡æ‰“å¼€Launchpadæ—¶ï¼Œå¸ƒå±€å°†æ¢å¤ä¸ºé»˜è®¤çŠ¶æ€ï¼Œå°†æ‰€æœ‰æ†ç»‘çš„åº”ç”¨ç¨‹åºæ”¾åœ¨Launchpadçš„ç¬¬ä¸€ä¸ªå±å¹•ä¸Šï¼Œå°†ç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºæ”¾åˆ°è¾…åŠ©ï¼ˆä»¥åŠç¬¬ä¸‰ä¸ªï¼Œå¦‚æœé€‚ç”¨ï¼‰å±å¹•ä¸Šã€‚\næ‚¨ç°åœ¨å¯ä»¥æ ¹æ®éœ€è¦é‡æ–°æ’åˆ—Launchpadçš„å›¾æ ‡å’Œå¸ƒå±€ï¼Œæˆ–è€…åªåœ¨ç¬¬ä¸€ä¸ªå±å¹•ä¸Šä¿ç•™Appleåº”ç”¨ç¨‹åºçš„é»˜è®¤å¸ƒå±€ï¼Œåœ¨åé¢çš„å±å¹•ä¸Šæ·»åŠ ç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºå’Œæ·»åŠ å†…å®¹ã€‚\nè¿™ä¸ªé»˜è®¤çš„å‘½ä»¤å­—ç¬¦ä¸²æ˜¯åœ¨stackexchangeä¸Šæ‰¾åˆ°çš„ï¼Œè™½ç„¶æåˆ°å®ƒçš„ç”¨æˆ·ä»ç„¶åˆ—å‡ºæ—§çš„æ•°æ®åº“è½¬å‚¨æŠ€å·§ä½œä¸ºå¿…è¦çš„æ­¥éª¤ - åœ¨æµ‹è¯•ä¸­ï¼Œåé¢çš„\nLaunchpadæ•°æ®åº“åˆ é™¤å‘½ä»¤ä¸éœ€è¦ç®€å•åœ°é‡ç½®OS Xä¸­çš„Launchpadå¸ƒå±€Yosemite 10.10 .x +ã€‚\n"},{"id":13,"href":"/notes/2020/05/13/rdgqnfi6j/","title":"ğŸ“ FFprobeè¯¦è§£","section":"ğŸ”– å¸¸ç”¨å‘½ä»¤","content":" ffprobeæ˜¯ffmpegæä¾›çš„ä¸‰å¤§å·¥å…·ä¹‹ä¸€ï¼Œç”¨æ¥æŸ¥çœ‹éŸ³è§†é¢‘æ–‡ä»¶çš„å„ç§ä¿¡æ¯ï¼Œæ¯”å¦‚ï¼šå°è£…æ ¼å¼ã€éŸ³é¢‘/è§†é¢‘æµä¿¡æ¯ã€æ•°æ®åŒ…ä¿¡æ¯ç­‰ã€‚\nffprobeçš„æºç æ˜¯ffprobe.cï¼Œå¼€å‘è¿‡ç¨‹ä¸­å¦‚æœæƒ³è·å–ffprobeæŸ¥çœ‹çš„ä¿¡æ¯ï¼Œå¯ä»¥é€šè¿‡åˆ†ææºç ï¼Œè·å¾—å¯¹åº”å­—æ®µã€‚\næœ¬æ–‡ä¸»è¦ä»‹ç»formatã€streamã€Packetå’ŒFrameä¿¡æ¯ï¼ŒåŒ…å«æ¯ä¸ªå­—æ®µçš„è¯´æ˜ä»¥åŠå¯¹åº”çš„ffmpegå­—æ®µã€‚\næŸ¥çœ‹éŸ³è§†é¢‘æ–‡ä»¶çš„å°è£…æ ¼å¼ # ffprobe -show_format inputFile è¾“å‡ºä¿¡æ¯ï¼š\n[FORMAT] // æ–‡ä»¶å filename=VID_20190811_113717.mp4 // å®¹å™¨ä¸­æµçš„ä¸ªæ•°ï¼Œå³AVFormatContext-\u0026gt;nb_streams nb_streams=2 // å³AVFormatContext-\u0026gt;nb_programs nb_programs=0 // å°è£…æ ¼å¼ï¼Œå³AVFormatContext-\u0026gt;iformat-\u0026gt;name format_name=mov,mp4,m4a,3gp,3g2,mj2 // å³AVFormatContext-\u0026gt;iformat-\u0026gt;long_name format_long_name=QuickTime / MOV // å³AVFormatContext-\u0026gt;start_timeï¼ŒåŸºäºAV_TIME_BASE_Qï¼Œæ¢ç®—ä¸ºç§’ start_time=0.000000 // å³AVFormatContext-\u0026gt;durationï¼ŒåŸºäºAV_TIME_BASE_Qï¼Œæ¢ç®—ä¸ºç§’ duration=10.508000 // å•ä½å­—èŠ‚ï¼Œå³avio_size(AVFormatContext-\u0026gt;pb) size=27263322 // ç ç‡ï¼Œå³AVFormatContext-\u0026gt;bit_rate bit_rate=20756240 // å³AVFormatContext-\u0026gt;probe_score probe_score=100 [/FORMAT] æŸ¥çœ‹éŸ³è§†é¢‘æ–‡ä»¶çš„æµä¿¡æ¯ # ffprobe -show_streams inputFile è¾“å‡ºä¿¡æ¯ï¼š\n[STREAM] // å½“å‰æµçš„ç´¢å¼•ä¿¡æ¯,å¯¹åº”äºAVStream-\u0026gt;index index=0 // AVCodecDescriptor * cd = avcodec_descriptor_get(AVStream-\u0026gt;codecpar-\u0026gt;codec_id) // ç¼–ç åç§°ï¼Œå³cd-\u0026gt;name codec_name=h264 // ç¼–ç å…¨ç§°ï¼Œå³cd-\u0026gt;long_name codec_long_name=H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10 // ä¸€ä¸ªç¼–ç å‚æ•°ï¼Œå¯ä»¥ä¸ºBaselineã€Mainã€Highç­‰ï¼ŒBaselineæ— Bå¸§ï¼ŒMainåŠä»¥åå¯ä»¥åŒ…å«Bå¸§ // é€šè¿‡avcodec_profile_name(AVStream-\u0026gt;codecpar-\u0026gt;codec_id, AVStream-\u0026gt;codecpar-\u0026gt;profile)è·å¾— profile=High // æµç±»å‹ï¼Œå³av_get_media_type_string(AVStream-\u0026gt;codecpar-\u0026gt;codec_type) codec_type=video // å³AVStream-\u0026gt;codec-\u0026gt;time_base codec_time_base=14777/877500 // é€šè¿‡å®av_fourcc2str(AVStream-\u0026gt;codecpar-\u0026gt;codec_tag)è·å¾— codec_tag_string=avc1 // å¯¹åº”AVStream-\u0026gt;codecpar-\u0026gt;codec_tag codec_tag=0x31637661 // æœ‰æ•ˆåŒºåŸŸçš„å®½åº¦ï¼Œå³AVStream-\u0026gt;codecpar-\u0026gt;width width=1920 // æœ‰æ•ˆåŒºåŸŸçš„é«˜åº¦ï¼Œå³AVStream-\u0026gt;codecpar-\u0026gt;height height=1080 // è§†é¢‘å¸§å®½åº¦ï¼Œå¯èƒ½ä¸ä¸Šé¢çš„å®½åº¦ä¸åŒï¼Œå³AVStream-\u0026gt;codec-\u0026gt;coded_widthï¼Œä¾‹å¦‚ï¼šå½“è§£ç å¸§åœ¨è¾“å‡ºå‰è£å‰ªæˆ–å¯ç”¨ä½åˆ†è¾¨ç‡æ—¶ coded_width=1920 // è§†é¢‘å¸§é«˜åº¦ï¼Œå¯èƒ½ä¸ä¸Šé¢çš„é«˜åº¦ä¸åŒï¼Œå³AVStream-\u0026gt;codec-\u0026gt;coded_heightï¼Œä¾‹å¦‚ï¼šå½“è§£ç å¸§åœ¨è¾“å‡ºå‰è£å‰ªæˆ–å¯ç”¨ä½åˆ†è¾¨ç‡æ—¶ coded_height=1088 // è§†é¢‘çš„å»¶è¿Ÿå¸§æ•°ï¼Œå³AVStream-\u0026gt;codecpar-\u0026gt;video_delay has_b_frames=0 // sarï¼Œå›¾åƒé‡‡é›†æ—¶ï¼Œæ¨ªå‘é‡‡é›†ç‚¹æ•°ä¸çºµå‘é‡‡é›†ç‚¹æ•°çš„æ¯”ä¾‹ // FFmpegæä¾›äº†å¤šä¸ªsarï¼šAVStream-\u0026gt;sample_aspect_ratioã€AVStream-\u0026gt;codecpar-\u0026gt;sample_aspect_ratioã€AVFrame-\u0026gt;sample_aspect_ratio // é€šè¿‡av_guess_sample_aspect_ratioè·å–æœ€ç»ˆçš„sar sample_aspect_ratio=1:1 // darï¼ŒçœŸæ­£å±•ç¤ºçš„å›¾åƒå®½é«˜æ¯”ï¼Œåœ¨æ¸²æŸ“è§†é¢‘æ—¶ï¼Œå¿…é¡»æ ¹æ®è¿™ä¸ªæ¯”ä¾‹è¿›è¡Œç¼©æ”¾ // é€šè¿‡av_reduceè®¡ç®—å¾—åˆ°ï¼Œpar * sar = dar display_aspect_ratio=16:9 // åƒç´ æ ¼å¼ï¼Œå³av_get_pix_fmt_name(AVStream-\u0026gt;codecpar-\u0026gt;format) pix_fmt=yuvj420p // ç¼–ç å‚æ•°ï¼Œå³AVStream-\u0026gt;codecpar-\u0026gt;level level=40 // é¢å¤–çš„è‰²å½©ç©ºé—´ç‰¹å¾ï¼Œå³av_color_range_name(AVStream-\u0026gt;codecpar-\u0026gt;color_range)ï¼ŒAVCOL_RANGE_MPEGå¯¹åº”tvï¼ŒAVCOL_RANGE_JPEGå¯¹åº”pc color_range=pc // YUVå½©è‰²ç©ºé—´ç±»å‹ï¼Œå³av_color_space_name(AVStream-\u0026gt;codecpar-\u0026gt;color_space) color_space=bt470bg // é¢œè‰²ä¼ è¾“ç‰¹æ€§ï¼Œå³av_color_transfer_name(AVStream-\u0026gt;codecpar-\u0026gt;color_trc) color_transfer=smpte170m // å³av_color_primaries_name(AVStream-\u0026gt;codecpar-\u0026gt;color_primaries) color_primaries=bt470bg // è‰²åº¦æ ·å“çš„ä½ç½®ï¼Œå³av_chroma_location_name(AVStream-\u0026gt;codecpar-\u0026gt;chroma_location) chroma_location=left // äº¤é”™è§†é¢‘ä¸­å­—æ®µçš„é¡ºåºï¼Œå³AVStream-\u0026gt;codecpar-\u0026gt;field_order field_order=unknown // av_timecode_make_mpeg_tc_stringå¤„ç†AVStream-\u0026gt;codec-\u0026gt;timecode_frame_startè·å¾— timecode=N/A // å‚è€ƒå¸§æ•°é‡ï¼Œå³AVStream-\u0026gt;codec-\u0026gt;refs refs=1 is_avc=true // è¡¨ç¤ºç”¨å‡ ä¸ªå­—èŠ‚è¡¨ç¤ºNALUçš„é•¿åº¦ nal_length_size=4 id=N/A // å½“å‰æµçš„åŸºæœ¬å¸§ç‡ï¼Œè¿™ä¸ªå€¼ä»…æ˜¯ä¸€ä¸ªçŒœæµ‹ï¼Œå¯¹åº”äºAVStream-\u0026gt;r_frame_rate r_frame_rate=30/1 // å¹³å‡å¸§ç‡ï¼Œå¯¹åº”äºAVStream-\u0026gt;avg_frame_rate avg_frame_rate=438750/14777 // AVStreamçš„æ—¶é—´åŸºå‡†ï¼Œå³AVStream-\u0026gt;time_base time_base=1/90000 // æµå¼€å§‹æ—¶é—´ï¼ŒåŸºäºtime_baseï¼Œå³AVStream-\u0026gt;start_time start_pts=0 // è½¬æ¢ï¼ˆstart_pts * time_baseï¼‰ä¹‹åçš„å¼€å§‹æ—¶é—´ï¼Œå•ä½ç§’ start_time=0.000000 // æµæ—¶é•¿ï¼ŒåŸºäºtime_baseï¼Œå³AVStream-\u0026gt;duration duration_ts=945728 // è½¬æ¢ï¼ˆduration_ts * time_baseï¼‰ä¹‹åçš„æ—¶é•¿ï¼Œå•ä½ç§’ duration=10.508089 // ç ç‡ï¼Œå³AVStream-\u0026gt;codecpar-\u0026gt;bit_rate bit_rate=19983544 // æœ€å¤§ç ç‡ï¼Œå³AVStream-\u0026gt;codec-\u0026gt;rc_max_rate max_bit_rate=N/A // Bits per sample/pixelï¼Œå³AVStream-\u0026gt;codec-\u0026gt;bits_per_raw_sample bits_per_raw_sample=8 // è§†é¢‘æµä¸­çš„å¸§æ•°ï¼Œå³AVStream-\u0026gt;nb_frames nb_frames=312 nb_read_frames=N/A nb_read_packets=N/A // ä¸‹é¢TAGä¸ºAVStream-\u0026gt;metadataä¸­çš„ä¿¡æ¯ // é€†æ—¶é’ˆçš„æ—‹è½¬è§’åº¦ï¼ˆç›¸å½“äºæ­£å¸¸è§†é¢‘çš„é€†æ—¶é’ˆæ—‹è½¬è§’åº¦ï¼‰ TAG:rotate=90 // åˆ›å»ºæ—¶é—´ TAG:creation_time=2019-08-11T03:37:28.000000Z // è¯­è¨€ TAG:language=eng TAG:handler_name=VideoHandle // SIDE_DATAä¸ºAVStream-\u0026gt;side_dataæ•°æ® [SIDE_DATA] // side_dataæ•°æ®ç±»å‹ï¼ŒDisplay Matrixè¡¨ç¤ºä¸€ä¸ª3*3çš„çŸ©é˜µï¼Œè¿™ä¸ªçŸ©é˜µéœ€è¦åº”ç”¨åˆ°è§£ç åçš„è§†é¢‘å¸§ä¸Šï¼Œæ‰èƒ½æ­£ç¡®å±•ç¤º side_data_type=Display Matrix displaymatrix= 00000000: 0 65536 0 00000001: -65536 0 0 00000002: 0 0 1073741824 // é¡ºæ—¶é’ˆæ—‹è½¬90åº¦è¿˜åŸè§†é¢‘ rotation=-90 [/SIDE_DATA] [/STREAM] [STREAM] // å½“å‰æµçš„ç´¢å¼•ä¿¡æ¯,å¯¹åº”äºAVStream-\u0026gt;index index=1 // AVCodecDescriptor * cd = avcodec_descriptor_get(AVStream-\u0026gt;codecpar-\u0026gt;codec_id) // ç¼–ç åç§°ï¼Œå³cd-\u0026gt;name codec_name=aac // ç¼–ç å…¨ç§°ï¼Œå³cd-\u0026gt;long_name codec_long_name=AAC (Advanced Audio Coding) // é€šè¿‡avcodec_profile_name(AVStream-\u0026gt;codecpar-\u0026gt;codec_id, AVStream-\u0026gt;codecpar-\u0026gt;profile)è·å¾— profile=LC // æµç±»å‹ï¼Œå³av_get_media_type_string(AVStream-\u0026gt;codecpar-\u0026gt;codec_type) codec_type=audio // å³AVStream-\u0026gt;codec-\u0026gt;time_base codec_time_base=1/48000 // é€šè¿‡å®av_fourcc2str(AVStream-\u0026gt;codecpar-\u0026gt;codec_tag)è·å¾— codec_tag_string=mp4a // å¯¹åº”AVStream-\u0026gt;codecpar-\u0026gt;codec_tag codec_tag=0x6134706d // é‡‡æ ·ç‚¹æ ¼å¼ï¼Œé€šè¿‡av_get_sample_fmt_name(AVStream-\u0026gt;codecpar-\u0026gt;format)è·å– sample_fmt=fltp // é‡‡æ ·ç‡ï¼Œå³AVStream-\u0026gt;codecpar-\u0026gt;sample_rate sample_rate=48000 // é€šé“æ•°ï¼Œå³AVStream-\u0026gt;codecpar-\u0026gt;channels channels=2 // é€šé“å¸ƒå±€ï¼Œä¸channelsæ˜¯ç›¸å¯¹åº”ï¼Œé€šè¿‡av_bprint_channel_layoutè·å–ï¼Œstereoè¡¨ç¤ºç«‹ä½“å£° channel_layout=stereo // æ¯ä¸ªé‡‡æ ·ç‚¹å ç”¨å¤šå°‘bitï¼Œå³av_get_bits_per_sample(par-\u0026gt;codec_id) bits_per_sample=0 id=N/A r_frame_rate=0/0 avg_frame_rate=0/0 // AVStreamçš„æ—¶é—´åŸºå‡†ï¼Œå³AVStream-\u0026gt;time_base time_base=1/48000 // æµå¼€å§‹æ—¶é—´ï¼ŒåŸºäºtime_baseï¼Œå³AVStream-\u0026gt;start_time start_pts=0 // è½¬æ¢ï¼ˆstart_pts * time_baseï¼‰ä¹‹åçš„å¼€å§‹æ—¶é—´ï¼Œå•ä½ç§’ start_time=0.000000 // æµæ—¶é•¿ï¼ŒåŸºäºtime_baseï¼Œå³AVStream-\u0026gt;duration duration_ts=502776 // è½¬æ¢ï¼ˆduration_ts * time_baseï¼‰ä¹‹åçš„æ—¶é•¿ï¼Œå•ä½ç§’ duration=10.474500 // ç ç‡ï¼Œå³AVStream-\u0026gt;codecpar-\u0026gt;bit_rate bit_rate=156002 // æœ€å¤§ç ç‡ï¼Œå³AVStream-\u0026gt;codec-\u0026gt;rc_max_rate max_bit_rate=156000 // Bits per sample/pixelï¼Œå³AVStream-\u0026gt;codec-\u0026gt;bits_per_raw_sample bits_per_raw_sample=N/A // éŸ³é¢‘æµä¸­çš„å¸§æ•°ï¼Œå³AVStream-\u0026gt;nb_frames nb_frames=491 nb_read_frames=N/A nb_read_packets=N/A TAG:creation_time=2019-08-11T03:37:28.000000Z TAG:language=eng TAG:handler_name=SoundHandle [/STREAM] SAR(Sample Aspect Ratio): é‡‡æ ·æ•°å®½é«˜æ¯”ï¼Œå›¾åƒçš„æ¨ªå‘é‡‡é›†ç‚¹æ•°ä¸çºµå‘é‡‡é›†ç‚¹æ•°çš„æ¯”å€¼ï¼Œå³åƒç´ ä¸ªæ•°çš„æ¯”å€¼ã€‚\nPAR(Pixel Aspect Ratio): åƒç´ å®½é«˜æ¯”ï¼Œå³æ¯ä¸ªåƒç´ çš„å®½åº¦ä¸é«˜åº¦çš„æ¯”å€¼ï¼Œæ‰€ä»¥å¯ä»¥è®¤ä¸ºåƒç´ ä¸æ˜¯æ­£æ–¹å½¢çš„ã€‚\nDAR(Display Aspect Ratio): æ˜¾ç¤ºå®½é«˜æ¯”ï¼Œå›¾åƒæœ€ç»ˆå±•ç¤ºçš„å®½é«˜æ¯”ï¼Œæ’­æ”¾å™¨åœ¨æ¸²æŸ“è§†é¢‘å¸§æ—¶ï¼Œéœ€è¦ä¿æŒDARçš„æ¯”ä¾‹ã€‚\nå®ƒä»¬ä¹‹é—´çš„å…³ç³»ï¼šPAR * SAR = DAR\nå¦‚ä¸Šå›¾æ‰€ç¤ºï¼šæ¯ä¸ªæ–¹æ ¼ä»£è¡¨ä¸€ä¸ªåƒç´ ï¼Œå®½åº¦ä¸º5åƒç´ ï¼Œé«˜åº¦ä¸º4åƒç´ ï¼Œå³SAR=5 : 4\nå‡è®¾å›¾åƒçš„æ˜¾ç¤ºå®½åº¦ä¸º160ï¼Œé«˜åº¦ä¸º120ï¼Œå³DAR=4 : 3\né‚£ä¹ˆå¯ä»¥è®¡ç®—å‡ºPAR = DAR / SAR = 16 : 15ï¼Œè¡¨ç¤ºåƒç´ æ–¹æ ¼æ˜¯ä¸€ä¸ªé•¿æ–¹å½¢ã€‚\nFFmpegæä¾›äº†å¤šä¸ªSARï¼š\nAVStream-\u0026gt;sample_aspect_ratio\nAVStream-\u0026gt;codecpar-\u0026gt;sample_aspect_ratio\nAVFrame-\u0026gt;sample_aspect_ratio\næœ€ç»ˆçš„SARæ˜¯é€šè¿‡av_guess_sample_aspect_ratioè·å–çš„ã€‚\nå¯¹äºDARï¼ŒAVStream-\u0026gt;display_aspect_ratioçš„å€¼å§‹ç»ˆä¸º0:0ï¼Œå‚è€ƒffprobeä»£ç ï¼Œå¯çŸ¥DARæ˜¯é€šè¿‡av_reduceè®¡ç®—å¾—åˆ°çš„ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\nAVRational sar, dar; // par AVCodecParameters *par = AVStream-\u0026gt;codecpar; // è®¡ç®—å‡ºsar sar = av_guess_sample_aspect_ratio(AVFormatContext, AVStream, NULL); // æ ¹æ®parå’Œsarè®¡ç®—å‡ºdar av_reduce(\u0026amp;dar.num, \u0026amp;dar.den, par-\u0026gt;width * sar.num, par-\u0026gt;height * sar.den, 1024*1024); æŸ¥çœ‹éŸ³è§†é¢‘æ–‡ä»¶çš„æ•°æ®åŒ…ä¿¡æ¯ # // -select_streamsè¡¨ç¤ºé€‰æ‹©éŸ³é¢‘æˆ–è€…è§†é¢‘ ffprobe -show_format [-select_streams audio | video] inputFile é¦–å…ˆçœ‹ä¸‹è§†é¢‘æµçš„ç¬¬ä¸€ä¸ªPacketå’Œç¬¬äºŒä¸ªPacketï¼š\n[PACKET] //Packetç±»å‹ï¼Œå³av_get_media_type_string(AVStream-\u0026gt;codecpar-\u0026gt;codec_type) codec_type=video // å½“å‰å¸§æ‰€å±æµçš„ç´¢å¼•ä¿¡æ¯,å¯¹åº”äºAVStream-\u0026gt;index stream_index=0 // å¸§å±•ç¤ºæ—¶é—´ï¼Œå³AVPacket-\u0026gt;ptsï¼ŒåŸºäºAVStream-\u0026gt;time_baseæ—¶é—´åŸºå‡† pts=0 // æ¢ç®—ä¸ºç§’ pts_time=0.000000 // å¸§è§£ç æ—¶é—´ï¼Œå³AVPacket-\u0026gt;dtsï¼ŒåŸºäºAVStream-\u0026gt;time_baseæ—¶é—´åŸºå‡† dts=0 // æ¢ç®—ä¸ºç§’ dts_time=0.000000 // å½“å‰å¸§çš„æ—¶é•¿ï¼Œç­‰äºä¸‹ä¸€å¸§çš„pts - å½“å‰å¸§ptsï¼Œå³AVPacket-\u0026gt;durationï¼ŒåŸºäºAVStream-\u0026gt;time_baseæ—¶é—´åŸºå‡† duration=12972 // æ¢ç®—ä¸ºç§’ duration_time=0.144133 // AVPacket-\u0026gt;convergence_durationï¼Œä¹Ÿæ˜¯åŸºäºAVStream-\u0026gt;time_baseæ—¶é—´åŸºå‡† convergence_duration=N/A // æ¢ç®—ä¸ºç§’ convergence_duration_time=N/A // å½“å‰å¸§çš„Sizeï¼Œå­—èŠ‚ï¼Œå³AVPacket-\u0026gt;size size=187872 // å½“å‰å¸§åœ°å€åç§»é‡ï¼Œå³AVPacket-\u0026gt;pos pos=830842 flags=K_ [/PACKET] [PACKET] codec_type=video stream_index=0 pts=12972 // å³ 12972 / 90000 pts_time=0.144133 dts=12972 dts_time=0.144133 duration=2999 duration_time=0.033322 convergence_duration=N/A convergence_duration_time=N/A size=31200 // ä¸Šä¸€å¸§çš„pos + size pos=1018714 flags=__ [/PACKET] ç„¶åçœ‹ä¸‹éŸ³é¢‘æµçš„ç¬¬ä¸€ä¸ªPacketå’Œç¬¬äºŒä¸ªPacketï¼š\n[PACKET] // éŸ³é¢‘å¸§ codec_type=audio // å½“å‰å¸§æ‰€å±æµçš„ç´¢å¼•ä¿¡æ¯,å¯¹åº”äºAVStream-\u0026gt;index stream_index=1 // å¸§å±•ç¤ºæ—¶é—´ï¼Œå³AVPacket-\u0026gt;ptsï¼ŒåŸºäºAVStream-\u0026gt;time_baseæ—¶é—´åŸºå‡† pts=0 pts_time=0.000000 // å¸§è§£ç æ—¶é—´ï¼Œå³AVPacket-\u0026gt;dtsï¼ŒåŸºäºAVStream-\u0026gt;time_baseæ—¶é—´åŸºå‡† dts=0 dts_time=0.000000 // å½“å‰å¸§çš„æ—¶é•¿ï¼Œç­‰äºä¸‹ä¸€å¸§çš„pts - å½“å‰å¸§ptsï¼Œå³AVPacket-\u0026gt;durationï¼ŒåŸºäºAVStream-\u0026gt;time_baseæ—¶é—´åŸºå‡† duration=1024 // 1024 / 48000 duration_time=0.021333 convergence_duration=N/A convergence_duration_time=N/A size=416 pos=810458 flags=K_ [/PACKET] [PACKET] // éŸ³é¢‘å¸§ codec_type=audio stream_index=1 pts=1024 // 1024 / 48000 pts_time=0.021333 dts=1024 dts_time=0.021333 duration=1024 duration_time=0.021333 convergence_duration=N/A convergence_duration_time=N/A size=416 // ä¸Šä¸€å¸§çš„pos + size pos=810874 flags=K_ [/PACKET] æŸ¥çœ‹éŸ³è§†é¢‘æ–‡ä»¶è§£ç åçš„å¸§ä¿¡æ¯ # // -select_streamsè¡¨ç¤ºé€‰æ‹©éŸ³é¢‘æˆ–è€…è§†é¢‘ ffprobe -show_frames [-select_streams audio | video] inputFile é¦–å…ˆçœ‹ä¸‹è§†é¢‘æµçš„ç¬¬ä¸€å¸§å’Œç¬¬äºŒå¸§ï¼š\n[FRAME] // å¸§ç±»å‹ï¼Œå³av_get_media_type_string(AVStream-\u0026gt;codecpar-\u0026gt;codec_type) media_type=video // å½“å‰å¸§æ‰€å±æµçš„ç´¢å¼•ä¿¡æ¯, å¯¹åº”äºAVStream-\u0026gt;index stream_index=0 // æ˜¯å¦å…³é”®å¸§ï¼Œ1ï¼šå…³é”®å¸§ï¼Œ0ï¼šéå…³é”®å¸§ï¼Œå³AVFrame-\u0026gt;key_frame key_frame=1 // å¸§å±•ç¤ºæ—¶é—´, å³AVFrame-\u0026gt;pts, åŸºäºAVStream-\u0026gt;time_baseæ—¶é—´åŸºå‡† pkt_pts=0 // æ¢ç®—ä¸ºç§’ pkt_pts_time=0.000000 // å¸§è§£ç æ—¶é—´ï¼Œä»å¯¹åº”çš„AVPacket copyè€Œæ¥ï¼Œå³AVFrame-\u0026gt;pkt_dtsï¼ŒåŸºäºAVStream-\u0026gt;time_baseæ—¶é—´åŸºå‡† pkt_dts=0 // æ¢ç®—ä¸ºç§’ pkt_dts_time=0.000000 // å¸§æ—¶é—´æˆ³ï¼ŒåŸºæœ¬ä¸ptsç›¸åŒï¼Œå³AVFrame-\u0026gt;best_effort_timestampï¼ŒåŸºäºAVStream-\u0026gt;time_baseæ—¶é—´åŸºå‡† best_effort_timestamp=0 // æ¢ç®—ä¸ºç§’ best_effort_timestamp_time=0.000000 // å¯¹åº”çš„AVPacketçš„å¸§æ—¶é•¿ï¼Œå³AVFrame-\u0026gt;pkt_durationï¼ŒåŸºäºAVStream-\u0026gt;time_baseæ—¶é—´åŸºå‡† pkt_duration=12972 // æ¢ç®—ä¸ºç§’ pkt_duration_time=0.144133 // ä»æœ€åä¸€ä¸ªå·²è¾“å…¥è§£ç å™¨çš„AVPacketé‡æ–°æ’åºçš„posï¼Œå³AVFrame-\u0026gt;pkt_pos pkt_pos=830842 // å¯¹åº”çš„AVPacketçš„å¸§sizeï¼Œå³AVFrame-\u0026gt;pkt_size pkt_size=187872 // æ—‹è½¬ä¹‹å‰çš„å¸§å®½åº¦ï¼Œå³AVFrame-\u0026gt;width width=1920 // æ—‹è½¬ä¹‹å‰çš„å¸§é«˜åº¦ï¼Œå³AVFrame-\u0026gt;height height=1080 // è§†é¢‘å¸§çš„åƒç´ æ ¼å¼ï¼Œå³av_get_pix_fmt_name(AVFrame-\u0026gt;format) pix_fmt=yuvj420p // sarï¼Œå›¾åƒé‡‡é›†æ—¶ï¼Œæ¨ªå‘é‡‡é›†ç‚¹æ•°ä¸çºµå‘é‡‡é›†ç‚¹æ•°çš„æ¯”ä¾‹ // FFmpegæä¾›äº†å¤šä¸ªsarï¼šAVStream-\u0026gt;sample_aspect_ratioã€AVStream-\u0026gt;codecpar-\u0026gt;sample_aspect_ratioã€AVFrame-\u0026gt;sample_aspect_ratio // é€šè¿‡av_guess_sample_aspect_ratioè·å–æœ€ç»ˆçš„sar sample_aspect_ratio=1:1 // è§†é¢‘å¸§çš„å›¾ç‰‡ç±»å‹ï¼Œæ­¤å¤„ä¸ºIå¸§ï¼Œå³av_get_picture_type_char(frame-\u0026gt;pict_type) pict_type=I // picture number in bitstream order, å³AVFrame-\u0026gt;coded_picture_number coded_picture_number=0 // picture number in display order, å³AVFrame-\u0026gt;display_picture_number display_picture_number=0 // è§†é¢‘å¸§å†…å®¹æ˜¯å¦æ˜¯äº¤é”™çš„, å³AVFrame-\u0026gt;interlaced_frame interlaced_frame=0 // è‹¥è§†é¢‘å¸§å†…å®¹æ˜¯äº¤é”™çš„ï¼Œè¡¨ç¤ºé¦–å…ˆå±•ç¤ºçš„é¡¶éƒ¨å­—æ®µï¼Œå³AVFrame-\u0026gt;top_field_first top_field_first=0 // å½“è§£ç æ—¶ï¼Œè¿™ä¸ªä¿¡å·è¡¨æ˜è§†é¢‘å¸§å¿…é¡»å»¶è¿Ÿå¤šå°‘ã€‚extra_delay = repeat_pict / (2*fps), å³AVFrame-\u0026gt;repeat_pict repeat_pict=0 // é¢å¤–çš„è‰²å½©ç©ºé—´ç‰¹å¾ï¼Œå³av_color_range_name(AVFrame-\u0026gt;color_range)ï¼ŒAVCOL_RANGE_MPEGå¯¹åº”tvï¼ŒAVCOL_RANGE_JPEGå¯¹åº”pc color_range=pc // YUVå½©è‰²ç©ºé—´ç±»å‹ï¼Œå³av_color_space_name(AVFrame-\u0026gt;colorspace) color_space=bt470bg // å³av_color_primaries_name(AVFrame-\u0026gt;color_primaries) color_primaries=bt470bg // é¢œè‰²ä¼ è¾“ç‰¹æ€§ï¼Œå³av_color_transfer_name(AVFrame-\u0026gt;color_trc) color_transfer=smpte170m // è‰²åº¦æ ·å“çš„ä½ç½®ï¼Œå³av_chroma_location_name(AVFrame-\u0026gt;chroma_location) chroma_location=left [/FRAME] [FRAME] media_type=video stream_index=0 // éå…³é”®å¸§ key_frame=0 pkt_pts=12972 // 12972 / 90000 pkt_pts_time=0.144133 pkt_dts=12972 pkt_dts_time=0.144133 best_effort_timestamp=12972 best_effort_timestamp_time=0.144133 pkt_duration=2999 pkt_duration_time=0.033322 pkt_pos=1018714 pkt_size=31200 width=1920 height=1080 pix_fmt=yuvj420p sample_aspect_ratio=1:1 // è§†é¢‘å¸§çš„å›¾ç‰‡ç±»å‹ï¼Œæ­¤å¤„ä¸ºPå¸§ï¼Œå³av_get_picture_type_char(frame-\u0026gt;pict_type) pict_type=P coded_picture_number=1 display_picture_number=0 interlaced_frame=0 top_field_first=0 repeat_pict=0 color_range=pc color_space=bt470bg color_primaries=bt470bg color_transfer=smpte170m chroma_location=left [/FRAME] ç„¶åçœ‹ä¸‹éŸ³é¢‘æµçš„ç¬¬ä¸€å¸§å’Œç¬¬äºŒå¸§ï¼š\nFRAME] // å¸§ç±»å‹ï¼Œå³av_get_media_type_string(AVStream-\u0026gt;codecpar-\u0026gt;codec_type) media_type=audio // å½“å‰å¸§æ‰€å±æµçš„ç´¢å¼•ä¿¡æ¯, å¯¹åº”äºAVStream-\u0026gt;index stream_index=1 // æ˜¯å¦å…³é”®å¸§ key_frame=1 // å¸§å±•ç¤ºæ—¶é—´, å³AVFrame-\u0026gt;pts, åŸºäºAVStream-\u0026gt;time_baseæ—¶é—´åŸºå‡† pkt_pts=0 // æ¢ç®—ä¸ºç§’ pkt_pts_time=0.000000 // å¸§è§£ç æ—¶é—´ï¼Œä»å¯¹åº”çš„AVPacket copyè€Œæ¥ï¼Œå³AVFrame-\u0026gt;pkt_dtsï¼ŒåŸºäºAVStream-\u0026gt;time_baseæ—¶é—´åŸºå‡† pkt_dts=0 // æ¢ç®—ä¸ºç§’ pkt_dts_time=0.000000 // å¸§æ—¶é—´æˆ³ï¼ŒåŸºæœ¬ä¸ptsç›¸åŒï¼Œå³AVFrame-\u0026gt;best_effort_timestampï¼ŒåŸºäºAVStream-\u0026gt;time_baseæ—¶é—´åŸºå‡† best_effort_timestamp=0 // æ¢ç®—ä¸ºç§’ best_effort_timestamp_time=0.000000 // å¯¹åº”çš„AVPacketçš„å¸§æ—¶é•¿ï¼Œå³AVFrame-\u0026gt;pkt_durationï¼ŒåŸºäºAVStream-\u0026gt;time_baseæ—¶é—´åŸºå‡† pkt_duration=1024 // æ¢ç®—ä¸ºç§’ pkt_duration_time=0.021333 // ä»æœ€åä¸€ä¸ªå·²è¾“å…¥è§£ç å™¨çš„AVPacketé‡æ–°æ’åºçš„posï¼Œå³AVFrame-\u0026gt;pkt_pos pkt_pos=810458 // å¯¹åº”çš„AVPacketçš„å¸§sizeï¼Œå³AVFrame-\u0026gt;pkt_size pkt_size=416 // éŸ³é¢‘é‡‡æ ·ç‚¹æ ¼å¼ï¼Œå³av_get_sample_fmt_name(AVFrame-\u0026gt;format) sample_fmt=fltp // å½“å‰éŸ³é¢‘å¸§çš„é‡‡æ ·ç‚¹æ•°ï¼Œå³AVFrame-\u0026gt;nb_samples nb_samples=1024 // é€šé“æ•°ï¼Œå³AVFrame-\u0026gt;channels channels=2 // é€šé“å¸ƒå±€ï¼Œé€šè¿‡av_bprint_channel_layoutå¾—åˆ°ï¼Œä¸channelså¯¹åº” channel_layout=stereo [/FRAME] [FRAME] media_type=audio stream_index=1 key_frame=1 pkt_pts=1024 pkt_pts_time=0.021333 pkt_dts=1024 pkt_dts_time=0.021333 best_effort_timestamp=1024 best_effort_timestamp_time=0.021333 pkt_duration=1024 pkt_duration_time=0.021333 pkt_pos=810874 pkt_size=416 sample_fmt=fltp nb_samples=1024 channels=2 channel_layout=stereo [/FRAME] å‚è€ƒæ–‡ç«  # FFmpegè·å–è§†é¢‘æ­£ç¡®çš„å®½é«˜æ¯”\nè½¬è½½è‡ª-\u0026gt;https://www.zybuluo.com/ltlovezh/note/1534824\n"},{"id":14,"href":"/notes/2018/11/07/bkiiygltx/","title":"ğŸ“ Operation not permitted","section":"ğŸ“” MacOS","content":" Rootless æœºåˆ¶\næŠ¥é”™ # Macä½¿ç”¨sudoæˆ–åˆ‡æ¢æˆrootæƒé™ï¼Œè¿˜æ˜¯å‡ºç°\nOperation not permitted è§£å†³ # è¿™æ˜¯ç”±äºMacçš„rootlessæœºåˆ¶ï¼Œå¯ä»¥è¿›å…¥æ¢å¤æ¨¡å¼å…³é—­rootlessæœºåˆ¶ï¼š\n1ã€é‡å¯macï¼ŒæŒ‰command+Rï¼ˆwindowsé”®ç›˜ï¼šwin+Rï¼‰è¿›å…¥æ¢å¤æ¨¡å¼\n2ã€é€‰æ‹©ç»ˆç«¯ï¼Œåœ¨å·¦ä¸Šè§’ï¼Œè¾“å…¥æŒ‡ä»¤ï¼š\ncsrutil disable 3ã€é‡å¯åè®©æœºå™¨æ­£å¸¸å¯åŠ¨ï¼Œå¯ä»¥åœ¨ç»ˆç«¯æŸ¥çœ‹rootlessçŠ¶æ€ï¼š\ncsrutil status æ­£å¸¸æƒ…å†µä¸‹rootlesså·²ç»å…³é—­ã€‚\n4ã€è¦æƒ³é‡æ–°å¼€å¯rootlessæœºåˆ¶ï¼Œå‚ç…§æ­¥éª¤1ï¼Œè¾“å…¥æŒ‡ä»¤ï¼š\ncsrutil enable è¯´æ˜ # è‹¹æœä» OS X El Capitan 10.11 ç³»ç»Ÿå¼€å§‹ä½¿ç”¨äº† Rootless\næœºåˆ¶ï¼Œå¯ä»¥å°†è¯¥æœºåˆ¶ç†è§£ä¸ºä¸€ä¸ªæ›´é«˜ç­‰çº§çš„ç³»ç»Ÿçš„å†…æ ¸ä¿æŠ¤æªæ–½ï¼Œç³»ç»Ÿé»˜è®¤å°†ä¼šé”å®š /systemã€/sbinã€/usr è¿™ä¸‰ä¸ªç›®å½•ã€‚\n"},{"id":15,"href":"/notes/2019/11/07/ovfeiboes/","title":"ğŸ“ FFmpegåˆ é™¤å…ƒæ•°æ®","section":"ğŸ”– å¸¸ç”¨å‘½ä»¤","content":" æ¸…é™¤mp3æ–‡ä»¶ä¸­è‡ªå¸¦çš„ä¸“è¾‘ï¼ˆalbumï¼‰ï¼Œè‰ºæœ¯å®¶ï¼ˆartistï¼‰ï¼Œæµæ´¾ï¼ˆgenreï¼‰ç­‰å…ƒæ•°æ®ã€‚\nffmpeg -i \u0026#34;test.mp3\u0026#34; -b:a 320k -map_metadata -1 -y \u0026#34;out.mp3\u0026#34; -map_metadata -1 è¡¨ç¤ºæ¸…é™¤æ‰€æœ‰å…ƒæ•°æ®\n"},{"id":16,"href":"/notes/2018/06/21/bkwmi6d-7/","title":"ğŸ“ homebrewå¸¸ç”¨å‘½ä»¤","section":"ğŸ“” MacOS","content":" brewå¸¸ç”¨çš„ä¸€äº›å‘½ä»¤\nå®‰è£…ï¼šruby -e â€œ$(curl -fsSL https://raw.github.com/Homebrew/homebrew/go/install)â€ æœç´¢ï¼šbrew search XXX åœ¨å®‰è£…ä¹‹å‰å¯ä»¥å…ˆæŸ¥è¯¢ä¸€ä¸‹ï¼Œæ˜¯å¦æœ‰è¿™ä¸ªè½¯ä»¶ æŸ¥è¯¢ï¼šbrew info XXX ä¸»è¦çœ‹å…·ä½“çš„ä¿¡æ¯ï¼Œæ¯”å¦‚ç›®å‰çš„ç‰ˆæœ¬ï¼Œä¾èµ–ï¼Œå®‰è£…åæ³¨æ„äº‹é¡¹ç­‰ æŸ¥çœ‹ä¾èµ–ï¼š brew deps æŸ¥çœ‹åŒ…çš„ä¾èµ– å®‰è£…ï¼šbrew install xxx ç”¨äºå®‰è£…è½¯ä»¶ æ›´æ–°ï¼šbrew update è¿™ä¼šæ›´æ–° Homebrew è‡ªå·±ï¼Œå¹¶ä¸”ä½¿å¾—æ¥ä¸‹æ¥çš„ä¸¤ä¸ªæ“ä½œæœ‰æ„ä¹‰â€”â€” æ£€æŸ¥è¿‡æ—¶ï¼ˆæ˜¯å¦æœ‰æ–°ç‰ˆæœ¬ï¼‰ï¼šbrew outdated è¿™å›åˆ—å‡ºæ‰€æœ‰å®‰è£…çš„è½¯ä»¶é‡Œå¯ä»¥å‡çº§çš„é‚£äº› å‡çº§ï¼šbrew upgrade å‡çº§æ‰€æœ‰å¯ä»¥å‡çº§çš„è½¯ä»¶ä»¬ æ¸…ç†ï¼šbrew cleanup æ¸…ç†ä¸éœ€è¦çš„ç‰ˆæœ¬æå…¶å®‰è£…åŒ…ç¼“å­˜ "},{"id":17,"href":"/notes/2018/11/27/h1mn7tca7/","title":"ğŸ“ FFmpegè£å‰ªè§†é¢‘","section":"ğŸ”– å¸¸ç”¨å‘½ä»¤","content":" ffmpegå‘½ä»¤è£å‰ªè§†é¢‘ï¼Œä¸€èˆ¬ç”¨äºè£å‰ªé»‘è¾¹\nå‘½ä»¤ # ffmpeg -i input.mp4 -vf crop=iw/3:ih:0:0 output.mp4 ffmpeg -i input.mp4 -vf crop=iw/3:ih:iw/3:0 output.mp4 ffmpeg -i input.mp4 -vf crop=iw/3:ih:iw/3*2:0 output.mp4 "},{"id":18,"href":"/notes/2018/06/07/bkhoybugx/","title":"ğŸ“ MacOS pkgè§£åŒ…","section":"ğŸ“” MacOS","content":" jdk1.8.pkgè§£åŒ…\næ¯æ¬¡å®‰è£…Javaçš„æ—¶å€™ï¼Œéƒ½æ˜¯ä¸€ä¸ªpkgå®‰è£…åŒ…ï¼Œæ²¡æœ‰åƒlinuxä¸‹ç›´æ¥ä¸€ä¸ªtaråŒ…é‚£æ ·ç»¿è‰²å’Œæ–¹ä¾¿ã€‚äºæ˜¯googleæœç´¢ä¸€ä¸‹ï¼Œç»ˆäºæ‰¾åˆ°è§£å†³çš„æ–¹æ³•äº†ã€‚\nxar -xf JDK\\ 8\\ Update\\ 171.pkg cat jdk180171.pkg/Payload | cpio -i æ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Œç„¶åå°†â€Contents/Homeâ€ æ‹·è´å‡ºæ¥å¹¶é‡å‘½åä¸ºjdk1.8ï¼Œå‰©ä¸‹çš„å°±å’Œlinuxä¸‹é…ç½®javaç¯å¢ƒä¸€æ ·çš„äº†ã€‚\n"},{"id":19,"href":"/notes/2018/05/14/h1jgllvcl0g/","title":"ğŸ“ MacOSä»»ä½•æ¥æºè®¾ç½®","section":"ğŸ“” MacOS","content":" å®‰è£…ç¬¬ä¸‰æ–¹è½¯ä»¶å¿…å¤‡æŠ€èƒ½\næ‰“å¼€ç»ˆç«¯ ( ç»ˆç«¯åœ¨ åº”ç”¨ç¨‹åº - å®ç”¨å·¥å…·å†… )\nè¾“å…¥ä»¥ä¸‹å‘½ä»¤å¹¶å›è½¦\nsudo spctl --master-disable ç„¶åæŸ¥çœ‹é—®é¢˜æ˜¯å¦è§£å†³ï¼Œ åå¥½è®¾ç½®-\u0026gt;å®‰å…¨æ€§ä¸éšç§-\u0026gt;é€šç”¨-\u0026gt;ä»»ä½•æ¥æº\n"},{"id":20,"href":"/notes/2018/08/30/bki3dandx/","title":"ğŸ“ FFmpeg 9:16å’Œ16:9äº’ç›¸è½¬æ¢","section":"ğŸ”– å¸¸ç”¨å‘½ä»¤","content":" â€‹ä»Šå¤©æœé›†äº†ä¸€ä¸‹16:9å’Œ9:16ç›¸äº’è½¬æ¢çš„å‘½ä»¤ã€‚å°†å¤šä½™çš„éƒ¨åˆ†ç”¨æ¨¡ç³ŠèƒŒæ™¯å¡«å……ï¼Œæ„Ÿè§‰æ¯”ç›´æ¥åŠ é»‘è¾¹å¥½å¾ˆå¤šã€‚\n16:9è½¬9:16 # ffmpeg -i input.mp4 -lavfi \u0026#34;[0:v]scale=256/81*iw:256/81*ih,boxblur=luma_radius=min(h\\,w)/40:luma_power=3:chroma_radius=min(cw\\,ch)/40:chroma_power=1[bg];[bg][0:v]overlay=(W-w)/2:(H-h)/2,setsar=1,crop=w=iw*81/256\u0026#34; output.mp4 9:16è½¬16:9 # ffmpeg -i input.mp4 -lavfi \u0026#39;[0:v]scale=ih*16/9:-1,boxblur=luma_radius=min(h\\,w)/20:luma_power=1:chroma_radius=min(cw\\,ch)/20:chroma_power=1[bg];[bg][0:v]overlay=(W-w)/2:(H-h)/2,crop=h=iw*9/16\u0026#39; -vb 800K output.mp4 "},{"id":21,"href":"/notes/2018/05/14/hkgt88e9u0f/","title":"ğŸ“ MacOS terminalæ¸…é™¤å†å²å‘½ä»¤çºªå½•","section":"ğŸ“” MacOS","content":" Linuxä¼ ç»Ÿæ¸…é™¤æ–¹å¼å¹¶æ²¡èƒ½è§£å†³\nhistory -c\næˆ‘ç”¨çš„iterm2 + zsh\nå¸¸ç”¨historyå‘½ä»¤ï¼š\næŸ¥çœ‹å†å²å‘½ä»¤çºªå½•:\nhistoryâ€¦\nLinuxä¼ ç»Ÿæ¸…é™¤æ–¹å¼å¹¶æ²¡èƒ½è§£å†³\nhistory -c æˆ‘ç”¨çš„iterm2 + zsh\nå¸¸ç”¨historyå‘½ä»¤ï¼š # æŸ¥çœ‹å†å²å‘½ä»¤çºªå½•:\nhistory\nhistory | less ä½¿ç”¨ !! æ‰§è¡Œä¸Šä¸€æ¡å‘½ä»¤\n!! ä½¿ç”¨ !foo æ‰§è¡Œä»¥ foo å¼€å¤´çš„å‘½ä»¤\n!foo ä½¿ç”¨ !n æ‰§è¡Œç¬¬ n ä¸ªå‘½ä»¤\n!100\nå¯ä»¥å°è¯•ä¸‹è¿™æ ·æ¥è§£å†³ï¼š\nåœ¨terminalä¸­è¾“å…¥histï¼Œç„¶åtabé”®ï¼Œå‡ºæ¥ä»¥ä¸‹è¿™äº›\nHISTCHARS HISTFILE HISTSIZE\näº†è§£å†å²è®°å½•çš„å¤§å°:\necho $HISTSIZE å†å²è®°å½•çš„ä¿å­˜ä½ç½®:\necho $HISTFILE # æŸ¥çœ‹historyæ–‡ä»¶å­˜æ”¾åœ°å€ echo \u0026gt; ~/.zsh_history # æ¸…ç©º å¥½äº†ï¼Œé€€å‡ºterminalï¼Œé‡æ–°ç™»å½•æ£€æŸ¥ä¸€ä¸‹å³å¯ é€€å‡ºåï¼Œå†historyæ£€æŸ¥ä¸€ä¸‹\n"},{"id":22,"href":"/notes/2018/07/27/skud1wo4x/","title":"ğŸ“ FFmbcä¼ ç»Ÿè¾“å‡ºæ ¼å¼","section":"ğŸ”– å¸¸ç”¨å‘½ä»¤","content":" è‹¹æœProRes # DVCPRO HD # # å°†ä¸€ä¸ªåŒå£°é“éŸ³è½¨å¤åˆ¶è¾“å‡ºæˆä¸¤ä¸ªå•å£°é“éŸ³è½¨ ffmbc -y -threads 8 -i æµ·å¤–å‘è¡Œæµ‹è¯•æºæ–‡ä»¶0726.mp4 -target dvcprohd -tff -an æµ·å¤–å‘è¡Œæµ‹è¯•æºæ–‡ä»¶0726-out.mxf -acodec pcm_s24le -ar 48000 -ac 1 -newaudio -acodec pcm_s24le -ar 48000 -newaudio -acodec pcm_s24le -ar 48000 # å°†ä¸€ä¸ªåŒå£°é“éŸ³è½¨å¤åˆ¶æ‹†åˆ†æˆä¸¤ä¸ªå·¦å³å•å£°é“éŸ³è½¨ ffmbc -y -threads 8 -i æµ·å¤–å‘è¡Œæµ‹è¯•æºæ–‡ä»¶0726.mp4 -target dvcprohd -tff -an æµ·å¤–å‘è¡Œæµ‹è¯•æºæ–‡ä»¶0726-out.mxf -acodec pcm_s24le -ar 48000 -newaudio -acodec pcm_s24le -ar 48000 -newaudio -map_audio_channel 0:1:0:0:1:0 -map_audio_channel 0:1:1:0:2:0 XDCAM HD422 # # ffmpeg ffmpeg -i test.mov -pix_fmt yuv422p -vcodec mpeg2video -non_linear_quant 1 -flags +ildct+ilme -top 1 -dc 10 -intra_vlc 1 -qmax 3 -lmin \u0026#34;1*QP2LAMBDA\u0026#34; -vtag xd5c -rc_max_vbv_use 1 -rc_min_vbv_use 1 -g 12 -b:v 50000k -minrate 50000k -maxrate 50000k -bufsize 8000k -acodec pcm_s16le -ar 48000 -bf 2 -ac 2 -f mxf_d10 output.mxf # ffmbc ffmbc -y -threads 8 -i å…ˆå¯¼ç‰‡.mp4 -target xdcamhd422 -tff -acodec pcm_s24le å…ˆå¯¼ç‰‡-out.mov "},{"id":23,"href":"/notes/2018/05/14/bjdz88n580g/","title":"ğŸ“ FFmpegé€è¡Œè½¬éš”è¡Œ","section":"ğŸ”– å¸¸ç”¨å‘½ä»¤","content":" å‘½ä»¤å‚æ•° # ffmpeg -i input -aspect 16:9 -c:v mpeg2video -b:v 4000k -minrate 4000k -maxrate 4000k -bufsize 2000k -dc 9 -flags +ilme+ildct -alternate_scan 1 -top 0 output å…¶å®ä¸»è¦çš„å°±æ˜¯å¦‚ä¸‹å‚æ•°ï¼š\n-flags +ilme+ildct -alternate_scan 1 -top 0 alternate_scanä½¿ç”¨éš”è¡Œè½¬ç ï¼Œtopä¸ä¸€èˆ¬æ²¡æœ‰ä»€ä¹ˆè¦æ±‚çš„è¯é ‚åœºä¼˜å…ˆå°±å¯ä»¥äº†ã€‚\néš”è¡Œè½¬é€è¡Œ # ffmpeg -i input -aspect 16:9 -c:v mpeg2video -b:v 4000k -minrate 4000k -maxrate 4000k -bufsize 2000k -dc 9 -deinterlace output æ·»åŠ ä¸€ä¸ªâ€œdeinterlaceâ€å³å¯ã€‚\n"},{"id":24,"href":"/links/","title":"ğŸ¤ å‹æƒ…é“¾æ¥","section":"Docs","content":" "},{"id":25,"href":"/articles/2024/03/27/e4c2nybngzu5eddbnmdjgq/","title":"Mambaæ›¿ä»£Conda","section":"ğŸ“š æˆ‘çš„æ–‡ç« ","content":"mambaæ˜¯ä¸€ä¸ªcondaçš„æ›¿ä»£å“ï¼Œå¯ä»¥åŠ é€Ÿcondaçš„åŒ…ç®¡ç†ï¼Œæå‡åŒ…ç®¡ç†çš„æ•ˆç‡ã€‚\nå®‰è£… # brew install micromamba é…ç½® # # æ ¹æ®å‘½ä»¤æç¤ºï¼Œä¿®æ”¹~/.zshrcæ–‡ä»¶ micromamba shell init -s zsh -p ~/.micromamba # æ·»åŠ é…ç½®æ–‡ä»¶ $ cat ~/.mambarc channels: - conda-forge always_yes: false ä½¿ç”¨ # micromamba create -n python310 python=3.10 # æ¿€æ´»ç¯å¢ƒ micromamba activate python310 # ç„¶åå¯ä»¥ç”¨ micromamba æˆ–è€… pip è£…ä¸œè¥¿ micromamba install package_1 package_2=version ## å…·ä½“è¯·å‚è€ƒ https://mamba.readthedocs.io/en/latest/ micromamba --help "},{"id":26,"href":"/articles/2024/03/06/9mzhfnl58azjmeibfblvjy/","title":"Hugoç½‘ç«™å»ºè®¾","section":"ğŸ“š æˆ‘çš„æ–‡ç« ","content":" å®‰è£… Hugo # ä¸‹è½½åœ°å€ï¼šhttps://github.com/gohugoio/hugo/releases\nåˆ›å»ºç½‘ç«™ # hugo new site book cd book git init git submodule add https://github.com/alex-shpak/hugo-book themes/hugo-book æœ¬åœ°è°ƒè¯• # hugo server --disableFastRender --minify --ignoreCache github actions # mkdir -p .github/workflows touch .github/workflows/build.yml name: Build on: push: branches: - main # Set a branch to deploy pull_request: jobs: deploy: runs-on: ubuntu-20.04 concurrency: group: ${{ github.workflow }}-${{ github.ref }} steps: - uses: actions/checkout@v3 with: submodules: true # Fetch Hugo themes (true OR recursive) fetch-depth: 0 # Fetch all history for .GitInfo and .Lastmod - name: Setup Hugo uses: peaceiris/actions-hugo@v2 with: hugo-version: \u0026#39;0.123.7\u0026#39; # æ˜¯å¦å¯ç”¨ hugo extend extended: true - name: Build run: hugo --minify - name: Deploy uses: peaceiris/actions-gh-pages@v3 if: ${{ github.ref == \u0026#39;refs/heads/main\u0026#39; }} with: github_token: ${{ secrets.GH_PAGE_ACTION_TOKEN }} publish_dir: ./public github pages # å¯ä»¥åœ¨é¡¹ç›®çš„ Settings ä¸­å¼€å¯ Pages æœåŠ¡ï¼Œç„¶åé€‰æ‹© Branch ä¸ºgh-pageså³å¯ã€‚\nå¦‚æœæƒ³è¦å®šåˆ¶åŸŸåï¼Œå¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ About custom domains and GitHub Pages\n"}]